<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="author" content="Ed Harcourt">
<title>An Introduction to Computer Science and Programming with Python</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Uncomment @import statement below to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock pre.nowrap,.literalblock pre.nowrap pre,.listingblock pre.nowrap,.listingblock pre.nowrap pre{white-space:pre;word-wrap:normal}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #dddddf}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt,.quoteblock .quoteblock{margin:0 0 1.25em;padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd){background:#f8f8f7}
table.stripes-none tr,table.stripes-odd tr:nth-of-type(even){background:none}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
.listingblock .pygments .hll { background-color: #ffffcc }
.listingblock .pygments, .listingblock .pygments code { background: #f8f8f8; }
.listingblock .pygments .tok-c { color: #408080; font-style: italic } /* Comment */
.listingblock .pygments .tok-err { border: 1px solid #FF0000 } /* Error */
.listingblock .pygments .tok-k { color: #008000; font-weight: bold } /* Keyword */
.listingblock .pygments .tok-o { color: #666666 } /* Operator */
.listingblock .pygments .tok-ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.listingblock .pygments .tok-cm { color: #408080; font-style: italic } /* Comment.Multiline */
.listingblock .pygments .tok-cp { color: #BC7A00 } /* Comment.Preproc */
.listingblock .pygments .tok-cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.listingblock .pygments .tok-c1 { color: #408080; font-style: italic } /* Comment.Single */
.listingblock .pygments .tok-cs { color: #408080; font-style: italic } /* Comment.Special */
.listingblock .pygments .tok-gd { color: #A00000 } /* Generic.Deleted */
.listingblock .pygments .tok-ge { font-style: italic } /* Generic.Emph */
.listingblock .pygments .tok-gr { color: #FF0000 } /* Generic.Error */
.listingblock .pygments .tok-gh { color: #000080; font-weight: bold } /* Generic.Heading */
.listingblock .pygments .tok-gi { color: #00A000 } /* Generic.Inserted */
.listingblock .pygments .tok-go { color: #888888 } /* Generic.Output */
.listingblock .pygments .tok-gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.listingblock .pygments .tok-gs { font-weight: bold } /* Generic.Strong */
.listingblock .pygments .tok-gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.listingblock .pygments .tok-gt { color: #0044DD } /* Generic.Traceback */
.listingblock .pygments .tok-kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.listingblock .pygments .tok-kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.listingblock .pygments .tok-kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.listingblock .pygments .tok-kp { color: #008000 } /* Keyword.Pseudo */
.listingblock .pygments .tok-kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.listingblock .pygments .tok-kt { color: #B00040 } /* Keyword.Type */
.listingblock .pygments .tok-m { color: #666666 } /* Literal.Number */
.listingblock .pygments .tok-s { color: #BA2121 } /* Literal.String */
.listingblock .pygments .tok-na { color: #7D9029 } /* Name.Attribute */
.listingblock .pygments .tok-nb { color: #008000 } /* Name.Builtin */
.listingblock .pygments .tok-nc { color: #0000FF; font-weight: bold } /* Name.Class */
.listingblock .pygments .tok-no { color: #880000 } /* Name.Constant */
.listingblock .pygments .tok-nd { color: #AA22FF } /* Name.Decorator */
.listingblock .pygments .tok-ni { color: #999999; font-weight: bold } /* Name.Entity */
.listingblock .pygments .tok-ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.listingblock .pygments .tok-nf { color: #0000FF } /* Name.Function */
.listingblock .pygments .tok-nl { color: #A0A000 } /* Name.Label */
.listingblock .pygments .tok-nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.listingblock .pygments .tok-nt { color: #008000; font-weight: bold } /* Name.Tag */
.listingblock .pygments .tok-nv { color: #19177C } /* Name.Variable */
.listingblock .pygments .tok-ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.listingblock .pygments .tok-w { color: #bbbbbb } /* Text.Whitespace */
.listingblock .pygments .tok-mb { color: #666666 } /* Literal.Number.Bin */
.listingblock .pygments .tok-mf { color: #666666 } /* Literal.Number.Float */
.listingblock .pygments .tok-mh { color: #666666 } /* Literal.Number.Hex */
.listingblock .pygments .tok-mi { color: #666666 } /* Literal.Number.Integer */
.listingblock .pygments .tok-mo { color: #666666 } /* Literal.Number.Oct */
.listingblock .pygments .tok-sa { color: #BA2121 } /* Literal.String.Affix */
.listingblock .pygments .tok-sb { color: #BA2121 } /* Literal.String.Backtick */
.listingblock .pygments .tok-sc { color: #BA2121 } /* Literal.String.Char */
.listingblock .pygments .tok-dl { color: #BA2121 } /* Literal.String.Delimiter */
.listingblock .pygments .tok-sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.listingblock .pygments .tok-s2 { color: #BA2121 } /* Literal.String.Double */
.listingblock .pygments .tok-se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.listingblock .pygments .tok-sh { color: #BA2121 } /* Literal.String.Heredoc */
.listingblock .pygments .tok-si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.listingblock .pygments .tok-sx { color: #008000 } /* Literal.String.Other */
.listingblock .pygments .tok-sr { color: #BB6688 } /* Literal.String.Regex */
.listingblock .pygments .tok-s1 { color: #BA2121 } /* Literal.String.Single */
.listingblock .pygments .tok-ss { color: #19177C } /* Literal.String.Symbol */
.listingblock .pygments .tok-bp { color: #008000 } /* Name.Builtin.Pseudo */
.listingblock .pygments .tok-fm { color: #0000FF } /* Name.Function.Magic */
.listingblock .pygments .tok-vc { color: #19177C } /* Name.Variable.Class */
.listingblock .pygments .tok-vg { color: #19177C } /* Name.Variable.Global */
.listingblock .pygments .tok-vi { color: #19177C } /* Name.Variable.Instance */
.listingblock .pygments .tok-vm { color: #19177C } /* Name.Variable.Magic */
.listingblock .pygments .tok-il { color: #666666 } /* Literal.Number.Integer.Long */
</style>
<style>
  #tocbot a.toc-link.node-name--H1{ font-style: italic }
  @media screen{
    #tocbot > ul.toc-list{ margin-bottom: 0.5em; margin-left: 0.125em }
    #tocbot ul.sectlevel0, #tocbot a.toc-link.node-name--H1 + ul{
      padding-left: 0 }
    #tocbot a.toc-link{ height:100% }
    .is-collapsible{ max-height:3000px; overflow:hidden; }
    .is-collapsed{ max-height:0 }
    .is-active-link{ font-weight:700 }
  }
  @media print{
    #tocbot a.toc-link.node-name--H4{ display:none }
  }
</style>
<link rel="stylesheet" href="assets/css/tocbot.css">
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<style>
.watermark
{
 position:fixed;
 //bottom:5px;
 //right:5px;
 opacity:0.04;
 z-index:99;
 color:rgb(255,0,0);
 top:25%;
 left:10%;
 font-size:200pt;
 transform:rotate(-45deg);
 font-family: Georgia, serif;
 pointer-events: none;
}

a.view-result {
   z-index:300;
}

.mono {
    font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;
    font-weight:bold;
}

</style>

<style>
.listingblock a.view-result {
  float: right;
  font-weight: normal;
  text-decoration: none;
  font-size: 0.9em;
  line-height: 1.4;
  margin-top: 0.15em;
}
</style>
<script>
function toggle_result_block(e) {
  var resultNode = e.target.parentNode.parentNode.nextElementSibling;
  resultNode.style.display = getComputedStyle(resultNode).display == 'none' ? '' : 'none';
  return false;
}

document.addEventListener('DOMContentLoaded', function() {
  [].forEach.call(document.querySelectorAll('.result'), function(resultNode) {
    resultNode.style.display = 'none';
    var viewLink = document.createElement('a');
    viewLink.className = 'view-result';
//   viewLink.href = '#';
    viewLink.appendChild(document.createTextNode('[ view result ]'));
    resultNode.previousElementSibling.querySelector('.title').appendChild(viewLink);
    viewLink.addEventListener('click', toggle_result_block);
  });
});
</script>
</head>
<body class="book toc2 toc-right" style="max-width: 75em;">
<div id="header">
<h1>An Introduction to Computer Science and Programming with Python</h1>
<div class="details">
<span id="author" class="author">Ed Harcourt</span><br>
<span id="email" class="email"><a href="mailto:edharcourt@stlawu.edu">edharcourt@stlawu.edu</a></span><br>
<span id="revnumber">version 0.4,</span>
<span id="revdate">December 2018</span>
<br><span id="revremark"></span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_preface">Preface</a></li>
<li><a href="#_introduction">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="#_software_is_taking_over">1.1. Software is taking over</a></li>
<li><a href="#_hello_world">1.2. Hello World</a></li>
<li><a href="#_integer_and_floating_point_literals">1.3. Integer and floating-point literals</a></li>
<li><a href="#_variables">1.4. Variables</a></li>
<li><a href="#_comments">1.5. Comments</a></li>
<li><a href="#_mathematical_expressions">1.6. Mathematical Expressions</a></li>
<li><a href="#_modular_arithmetic">1.7. Modular Arithmetic</a></li>
<li><a href="#_more_on_string_literals">1.8. More on String Literals</a></li>
<li><a href="#_a_note_about_spaces">1.9. A note about spaces</a></li>
<li><a href="#_a_note_about_indentation">1.10. A note about indentation</a></li>
<li><a href="#_syntax_errors">1.11. Syntax Errors</a></li>
<li><a href="#_keyboard_input">1.12. Keyboard Input</a></li>
<li><a href="#_the_math_module">1.13. The <code>math</code> module</a></li>
<li><a href="#_kinds_of_program_errors">1.14. Kinds of Program Errors</a></li>
<li><a href="#_bits_cpus_interpreters_and_compilers">1.15. Bits, CPUs, Interpreters, and Compilers</a></li>
<li><a href="#_exercises">1.16. Exercises</a></li>
<li><a href="#_terminology">1.17. Terminology</a></li>
</ul>
</li>
<li><a href="#_pygame_intro">2. Pygame Intro</a>
<ul class="sectlevel2">
<li><a href="#_colors">2.1. Colors</a></li>
<li><a href="#_shapes">2.2. Shapes</a></li>
<li><a href="#_exercises_2">2.3. Exercises</a></li>
<li><a href="#_terminology_2">2.4. Terminology</a></li>
<li><a href="#_pygame_functions">2.5. Pygame Functions</a></li>
</ul>
</li>
<li><a href="#_functions">3. Functions</a>
<ul class="sectlevel2">
<li><a href="#_calling_functions">3.1. Calling Functions</a></li>
<li><a href="#_defining_functions">3.2. Defining Functions</a></li>
<li><a href="#_functions_for_their_side_effect">3.3. Functions for their side effect</a></li>
<li><a href="#_benefits_of_functions">3.4. Benefits of functions</a></li>
<li><a href="#_exercises_3">3.5. Exercises</a></li>
<li><a href="#_terminology_3">3.6. Terminology</a></li>
</ul>
</li>
<li><a href="#_repetition_the_while_loop">4. Repetition - The While Loop</a>
<ul class="sectlevel2">
<li><a href="#_animation">4.1. Animation</a></li>
<li><a href="#_relational_operators">4.2. Relational Operators</a></li>
<li><a href="#_counting_loops">4.3. Counting Loops</a></li>
<li><a href="#_accumulating_loops">4.4. Accumulating Loops</a></li>
<li><a href="#_exponential_growth_example_password_length">4.5. Exponential Growth (Example: Password Length)</a></li>
<li><a href="#_exponential_growth_example_population">4.6. Exponential Growth (Example: Population)</a></li>
<li><a href="#_checksums_detecting_network_communication_errors">4.7. Checksums; detecting network communication errors</a></li>
<li><a href="#_while_loop_exercises">4.8. While-Loop Exercises</a></li>
<li><a href="#_terminology_4">4.9. Terminology</a></li>
</ul>
</li>
<li><a href="#_conditionals">5. Conditionals</a>
<ul class="sectlevel2">
<li><a href="#_if_elif_else">5.1. if-elif-else</a></li>
<li><a href="#_logical_operators">5.2. Logical Operators</a></li>
<li><a href="#_exercises_4">5.3. Exercises</a></li>
<li><a href="#_terminology_5">5.4. Terminology</a></li>
</ul>
</li>
<li><a href="#_a_random_walk">6. A Random Walk</a>
<ul class="sectlevel2">
<li><a href="#_the_gamblers_ruin">6.1. The Gambler&#8217;s Ruin</a></li>
<li><a href="#_brownian_motion">6.2. Brownian Motion</a></li>
<li><a href="#_a_fractional_dimension_random_walk_or_fractal">6.3. A Fractional Dimension Random Walk (or Fractal)</a></li>
<li><a href="#_the_monty_hall_problem">6.4. The Monty Hall Problem</a></li>
<li><a href="#_exercises_5">6.5. Exercises</a></li>
<li><a href="#_terminology_6">6.6. Terminology</a></li>
</ul>
</li>
<li><a href="#_case_study_particles_and_collision">7. Case study: Particles and Collision</a>
<ul class="sectlevel2">
<li><a href="#_understanding_the_frame_rate">7.1. Understanding the <em>Frame Rate</em></a></li>
<li><a href="#_collision_detection">7.2. Collision Detection</a></li>
<li><a href="#_exercises_6">7.3. Exercises</a></li>
<li><a href="#_terminology_7">7.4. Terminology</a></li>
</ul>
</li>
<li><a href="#_the_for_loop">8. The <code>for</code> loop</a>
<ul class="sectlevel2">
<li><a href="#_for_loop_examples">8.1. <code>for</code> loop examples</a></li>
<li><a href="#_nested_for_loops">8.2. Nested <code>for</code>-loops</a></li>
<li><a href="#_other_kinds_of_for_loops">8.3. Other kinds of <code>for</code>-loops</a></li>
<li><a href="#_exercises_7">8.4. Exercises</a></li>
<li><a href="#_terminology_8">8.5. Terminology</a></li>
</ul>
</li>
<li><a href="#_event_handling">9. Event Handling</a>
<ul class="sectlevel2">
<li><a href="#_a_handy_utility_function">9.1. A Handy Utility Function</a></li>
<li><a href="#_pong">9.2. Pong</a></li>
<li><a href="#_exercises_8">9.3. Exercises</a></li>
<li><a href="#_terminology_9">9.4. Terminology</a></li>
</ul>
</li>
<li><a href="#_image_processing">10. Image Processing</a>
<ul class="sectlevel2">
<li><a href="#_interlude_processing_rectangular_data">10.1. Interlude - processing rectangular data</a></li>
<li><a href="#_darken_an_image">10.2. Darken an Image</a></li>
<li><a href="#_converting_an_image_to_grayscale_and_more">10.3. Converting an image to Grayscale (and more)</a></li>
<li><a href="#_scaling_an_image">10.4. Scaling an Image</a></li>
<li><a href="#_smoothing_an_image">10.5. Smoothing an Image</a></li>
<li><a href="#_image_file_formats">10.6. Image file formats</a></li>
<li><a href="#_secrets">10.7. Secrets</a></li>
<li><a href="#_case_study_schellings_segregation_model">10.8. Case Study: Schelling&#8217;s Segregation Model</a></li>
<li><a href="#_exercises_9">10.9. Exercises</a></li>
<li><a href="#_terminology_10">10.10. Terminology</a></li>
</ul>
</li>
<li><a href="#_string_and_file_processing">11. String and File Processing</a>
<ul class="sectlevel2">
<li><a href="#_string_operations">11.1. String operations</a></li>
<li><a href="#_files">11.2. Files</a></li>
<li><a href="#_example_bioinformatics">11.3. Example: Bioinformatics</a></li>
<li><a href="#_example_files_of_numbers">11.4. Example: Files of numbers</a></li>
<li><a href="#_exercises_10">11.5. Exercises</a></li>
<li><a href="#_terminology_11">11.6. Terminology</a></li>
</ul>
</li>
<li><a href="#_cryptography">12. Cryptography</a>
<ul class="sectlevel2">
<li><a href="#_the_caesar_cipher">12.1. The Caesar cipher</a></li>
<li><a href="#_substitution_cipher">12.2. Substitution Cipher</a></li>
<li><a href="#_the_one_time_pad_an_unbreakable_cipher">12.3. The One Time Pad - an Unbreakable Cipher</a></li>
<li><a href="#_exercises_11">12.4. Exercises</a></li>
<li><a href="#_terminology_12">12.5. Terminology</a></li>
</ul>
</li>
<li><a href="#_references_and_reading">References and Reading</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><span class="watermark">DRAFT</span></p>
</div>
<div class="paragraph">
<p><em>Department of Mathematics, Computer Science, and Statistics</em><br>
St. Lawrence University<br>
Canton, NY 13625</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_preface"><a class="anchor" href="#_preface"></a>Preface</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I have been teaching the <em>Introduction to Computer Programming</em> course at St. Lawrence University since 2003. This course at St. Lawrence is the first course in the Computer Science major sequence and also satisfies a general education requirement called <em>Quantitative and Logical Reasoning</em>. As such, it assumes no prior programming  experience, and students from across campus in a variety of disciplines take this course. These notes reflect the topics and content I have been teaching the past several years and are meant to be a companion for my lectures. For the time being these notes do not necessarily hold together as a standalone resource for learning programming in Python, though that is my ultimate goal. These notes are by no means complete with regards to the Python programming language. The examples and topics covered are only a small subset of what could be covered. I have chosen them because they are fun, engaging, and relevant to a liberal arts education and are drawn from a variety of disciplines including art, biology, physics, mathematics, and of course, computer science.</p>
</div>
<div class="paragraph">
<p>If you happen upon these notes outside of my course and you find them useful I would appreciate hearing about it.</p>
</div>
<div class="paragraph">
<p>Goals of the course include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Appreciate the complexity of the software systems we encounter every day.</p>
</li>
<li>
<p>Emphasize problem solving in a precise and logical framework
(the Python programming language).</p>
</li>
<li>
<p>Explore a multitude of topics in computer science such as; graphics and animation, image processing, simulation and randomness, cryptography, network communications, and much more.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction"><a class="anchor" href="#_introduction"></a>1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>Computer Science</em> is about the theory and practice of processing digital information. What is
<em>digital information</em>? It is just numbers, bits, ones and zeros, properly arranged. Computer Science encompasses such diverse areas as networking, cryptography, security, web development, artificial intelligence, databases, computer graphics, mobile computing, audio and video processing, &#8230;&#8203; a list that could continue for some time. What this has enabled is astonishing; self driving cars, social media, voice and image recognition, digital music and video streaming (<em>e.g.,</em> Spotify and Netflix), on-line shopping and banking, digital maps and GPS. Biologists use software to analyze DNA, Doctors use software to understand how genes impact disease.  Pharmacologists search for new drugs using software. Computer programming and software is the thread that knits all of these seemingly disparate areas together. It is an obvious jumping off point for introducing computer science.</p>
</div>
<div class="paragraph">
<p>A <em>computer program</em> (<em>i.e.,</em> software) is developed and written in a <em>programming language</em>. There are, literally, thousands of programming languages, mostly dead now, <a href="https://en.wikipedia.org/wiki/List_of_programming_languages">but there are many hundreds still in active use</a>.<sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup> About a dozen languages dominate the modern software development landscape, and many more are actively used in niche areas such as engineering and the visual arts.</p>
</div>
<div class="paragraph">
<p>The <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript">Javascript programming language</a> (not to be confused with the <a href="https://www.oracle.com/java/index.html">Java programming language</a>) is part of every web browser and just about every web site makes use of Javascript in some way. It might be the most heavily used programming language in the world. Most computer games are written in <a href="https://en.wikipedia.org/wiki/The_C_Programming_Language">C</a> or <a href="https://en.wikipedia.org/wiki/C%2B%2B">C++</a>. Native iPhone apps are written in <a href="https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/Introduction/Introduction.html">Objective-C</a> or <a href="https://developer.apple.com/swift/">Swift</a>, while native Android apps use  <a href="https://developer.android.com/studio/index.html">Google&#8217;s version of Java</a> or
<a href="https://kotlinlang.org">Kotlin</a>. Statisticians and data scientists frequently use <a href="https://www.r-project.org/">R</a>. Scientists and engineers are partial towards <a href="https://www.mathworks.com/">MATLAB</a> or <a href="https://www.wolfram.com/mathematica/">Mathematica</a>. <a href="https://processing.org/">Processing</a> is a special purpose language for the visual arts. <a href="https://en.wikipedia.org/wiki/Verilog">Verilog</a> and <a href="https://en.wikipedia.org/wiki/VHDL">VHDL</a> are well established languages for designing electronic circuits. Another list that could go on. The <a href="https://www.tiobe.com/tiobe-index/">TIOBE Index</a> attempts to measure programming language popularity.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A <em>programming language</em> is precise notation used for describing computations to be carried out by a computing device (<em>e.g.,</em> a computer, smartphone, tablet, etc.). Like a natural language such as English or German, a programming language has an alphabet, words, grammar (syntax), and meaning (semantics).
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_software_is_taking_over"><a class="anchor" href="#_software_is_taking_over"></a>1.1. Software is taking over</h3>
<div class="paragraph">
<p>Think about each of the following, what has changed, and if there is software behind that change.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>How often do you go into a bank and interact with a teller? What do you use instead?</p>
</li>
<li>
<p>What has happened to book stores, from your local book store to large chain stores such as Barnes and Noble and Borders?</p>
</li>
<li>
<p>When was the last time you used a travel agent to purchase an airline ticket?</p>
</li>
<li>
<p>What has happened to DVD stores such as Blockbuster? What has taken its place?</p>
</li>
<li>
<p>What is disrupting the hotel and taxi industry?</p>
</li>
<li>
<p>What has happened to music stores where we used to purchase albums and CDs?</p>
</li>
<li>
<p>When was the last time you took a roll of film to get developed?</p>
</li>
<li>
<p>When was the last time you wrote a letter and mailed it using the post office?</p>
</li>
<li>
<p>Your smart phone is a powerful computing device, how often do you look at in a day, and what do you use it for?</p>
</li>
<li>
<p>Thinking a little further in to the future what could happen to the millions of people who drive a vehicle for a living, from taxi drivers to truck drivers?</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>So why study computer science?  Software impacts almost all aspects of our life, it might be good to learn something about it. <a href="https://en.wikipedia.org/wiki/Marc_Andreessen">Marc Andreesen</a> developed Mosaic, one of the original web browsers, wrote a now somewhat dated but important article in the Wall Street Journal, <a href="https://a16z.com/2016/08/20/why-software-is-eating-the-world/"><em>Why Software Is Eating the World</em></a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_hello_world"><a class="anchor" href="#_hello_world"></a>1.2. Hello World</h3>
<div class="paragraph">
<p><a href="https://www.python.org/">Python</a> is a popular programming language used widely in industry and academia. It is used for everything from web programming, scientific computing, data science, to developing games. It is a powerful general purpose programming language and is often used in introductory programming courses because it is relatively easy to learn and get started with.  So lets get started.</p>
</div>
<div class="paragraph">
<p>It is almost obligatory that <a href="https://en.wikipedia.org/wiki/%22Hello,_World!%22_program">Hello World</a> be the first program one writes in any programming language. Here is our first Python program:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1</div></td><td class="code"><span></span><span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;Hello, World!&quot;</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>That is it, just the one line. And it does as you might expect, it prints the message <code>Hello, World!</code> on the <em>console</em>. But there is a lot going on in that one line, so lets break it down.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <em>console</em> is a text window where Python sends the output of <code>print</code> statements and where the user can also enter data from <code>input</code> statements.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <em>built-in function</em> <code>print</code> prints, to the console, the values between the parentheses. In this case the value being printed is the <em>string literal</em> <code>"Hello World"</code>.  A string literal in Python is a sequence of characters between double quotes or single quotes. More on string literals later.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In programming, a string literal is also called a <em>string constant</em>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>print</code> function can take multiple values separated by commas.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1</div></td><td class="code"><span></span><span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;The value of pi squared is&quot;</span><span class="tok-p">,</span> <span class="tok-mf">3.14159</span> <span class="tok-o">*</span> <span class="tok-mf">3.14159</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>produces the output</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code>The value of pi squared is 9.869587728099999</code></pre>
</div>
</div>
<div class="paragraph">
<p>And we can see right here that 1) <code>*</code> is part of Python, 2) that a value is on each side of the <code>*</code> (syntax), and 3) that <code>*</code> must mean <em>multiplication</em> (semantics).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In mathematics a <em>function</em> maps values in a <em>domain</em> to values in a <em>range</em>. For example, the function \(f(x) = x^2\) maps the input 2 to the output 4, 3 to 9,  1.5 to 2.25, etc.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Pictorially we can think of a function as a black box (we may not know how it works) where values come in (represented by the arrow coming in on the left) and the function produces values (the return results represented by the arrow coming out of the box on the right).</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./images/function-fx.png" alt="function fx">
</div>
</div>
<div class="paragraph">
<p>Values that are passed to a function are called <em>arguments</em>. The second argument in the call to the <code>print</code> function above is the mathematical expression <code>3.14159 * 3.14159</code>. In just about every programming language the asterisk character <code>*</code> represents multiplication. A value such as <code>3.14159</code> in mathematics is called a <em>real number</em> (a number with a decimal point). For reasons I wont go into now, in computer science and programming we call real numbers <em>floating-point</em> numbers, or <em>floats</em> for short.</p>
</div>
<div class="paragraph">
<p>There is a big difference between the string literal <code>"3.0"</code> and the floating-point literal <code>3.0</code>.</p>
</div>
<div class="listingblock">
<div class="title">What would get printed by the following print statement?</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1</div></td><td class="code"><span></span><span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;3.0 * 3.0&quot;</span><span class="tok-p">,</span> <span class="tok-mf">3.0</span> <span class="tok-o">*</span> <span class="tok-mf">3.0</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="exampleblock result">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code>3.0 * 3.0 9.0</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Numbers without decimal points are called <em>integers</em> or <em>ints</em> for short.</p>
</div>
</div>
<div class="sect2">
<h3 id="_integer_and_floating_point_literals"><a class="anchor" href="#_integer_and_floating_point_literals"></a>1.3. Integer and floating-point literals</h3>
<div class="paragraph">
<p>Valid <em>integer literals</em> include numbers such as 0, 1, 2, &#8230;&#8203; and also negative integers -1, -2, -3, &#8230;&#8203;</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Don&#8217;t start an integer literal with a leading <code>0</code>, such as <code>09</code>. This is an error in Python.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Floating-point literals include a decimal place, and include numbers such as <code>0.3</code>, <code>-0.3</code>, <code>.3</code>, <code>3.</code>, <code>-3.14159</code>.</p>
</div>
<div class="paragraph">
<p>Python (as do most programming languages) supports specifying numbers using <em>scientific notation</em>. For example, in Chemistry and Physics, Avagadro&#8217;s number is \(6.022140857 \times 10^{23}\). Writing this out as <code>602214085700000000000000</code> is not very readable. In Python we can instead write Avagadro&#8217;s number as <code>6.022140857e23</code>.</p>
</div>
<div class="paragraph">
<p>We can also use scientific notation for very small numbers.  The mass of an electron is \(9.10938356 \times 10^{-31}\) kg.  Again, writing this as <code>0.000000000000000000000000000000910938356</code> is not helpful. We should instead write <code>9.10938356e-31</code>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
We will often also use the term <em>constant</em> instead of <em>literal</em>. An integer literal is also called an <em>integer constant</em>. A floating-point literal is also called a <em>floating-point constant</em>. A string literal is also called a <em>string constant</em>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>The radius of an electron is <em>0.00000000000000281792</em> meters. Express this number using Python&#8217;s scientific notation.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p><code>2.81792e-15  # meters</code></p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_variables"><a class="anchor" href="#_variables"></a>1.4. Variables</h3>
<div class="paragraph">
<p>Let&#8217;s return to our simple program &#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1</div></td><td class="code"><span></span><span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;The value of pi squared is&quot;</span><span class="tok-p">,</span> <span class="tok-mf">3.14159</span> <span class="tok-o">*</span> <span class="tok-mf">3.14159</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>It would be convenient to give the value <code>3.14159</code> a name. An obvious choice being <code>pi</code>.  We do that in Python by defining a <em>variable</em> using an <em>assignment statement</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1</div></td><td class="code"><span></span><span class="tok-n">pi</span> <span class="tok-o">=</span> <span class="tok-mf">3.14159</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>And we can rewrite our program as</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2</div></td><td class="code"><span></span><span class="tok-n">pi</span> <span class="tok-o">=</span> <span class="tok-mf">3.14159</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;The value of pi squared is&quot;</span><span class="tok-p">,</span> <span class="tok-n">pi</span> <span class="tok-o">*</span> <span class="tok-n">pi</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>To the left of the <code>=</code> sign is a <em>variable name</em> and we read the assignment statement above as <code>pi</code> <em>gets the value of</em> the value on the right of <code>=</code>, in this case <code>3.14159</code>.</p>
</div>
<div class="paragraph">
<p>Variable names in Python should be meaningful. We could have said</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2</div></td><td class="code"><span></span><span class="tok-n">rumpelstiltskin</span> <span class="tok-o">=</span> <span class="tok-mf">3.14159</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;The value of pi squared is&quot;</span><span class="tok-p">,</span> <span class="tok-n">rumpelstiltskin</span> <span class="tok-o">*</span> <span class="tok-n">rumpelstiltskin</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>but this makes the code less understandable.</p>
</div>
<div class="paragraph">
<p>Variable names must start with either an alphabetic character (a - z, A - Z) or underscore, and may also contain digits. Variable names are also <em>case sensitive</em>, so <code>pi</code>, <code>Pi</code>, and <code>PI</code> are all different variable names.<sup class="footnote">[<a id="_footnoteref_2" class="footnote" href="#_footnotedef_2" title="View footnote.">2</a>]</sup></p>
</div>
<div class="paragraph">
<p>The value on the right of <code>=</code> can also be an <em>expression</em>.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Students often confuse <code>=</code> with mathematical equality and think <code>3.14159 = pi</code> is the same thing as <code>pi = 3.14159</code>. The former is not valid Python.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3</div></td><td class="code"><span></span><span class="tok-n">pi</span> <span class="tok-o">=</span> <span class="tok-mf">3.14159</span>
<span class="tok-n">pi_squared</span> <span class="tok-o">=</span> <span class="tok-n">pi</span> <span class="tok-o">*</span> <span class="tok-n">pi</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;The value of pi squared is&quot;</span><span class="tok-p">,</span> <span class="tok-n">pi_squared</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Variables must be defined before they are used.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The Python program</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>would produce an error because the variable <code>x</code> does not have a value.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Variable names are not string literals.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">What is the difference between the two statements&#8230;&#8203;</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2</div></td><td class="code"><span></span><span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;The value of pi squared is&quot;</span><span class="tok-p">,</span> <span class="tok-n">pi_squared</span><span class="tok-p">)</span>    <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;The value of pi squared is&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;pi_squared&quot;</span><span class="tok-p">)</span>  <i class="conum" data-value="2"></i><b>(2)</b>
</td></tr></table></code></pre>
</div>
</div>
<div class="exampleblock result">
<div class="content">
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>prints <code>The value of pi squared is 9.869587728099999</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>prints <code>The value of pi squared is pi_squared</code><br>
Almost certainly not what was intended.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_comments"><a class="anchor" href="#_comments"></a>1.5. Comments</h3>
<div class="paragraph">
<p>We can add notes to our program using a <em>comment</em>. In Python a one line comment starts
with a hashtag and continues to the end of the line.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2</div></td><td class="code"><span></span><span class="tok-c1"># define a variable pi</span>
<span class="tok-n">pi</span> <span class="tok-o">=</span> <span class="tok-mf">3.14159</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also use a comment to finish a line.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1</div></td><td class="code"><span></span><span class="tok-n">pi</span> <span class="tok-o">=</span> <span class="tok-mf">3.14159</span>   <span class="tok-c1"># define a variable named pi</span>
</td></tr></table></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_mathematical_expressions"><a class="anchor" href="#_mathematical_expressions"></a>1.6. Mathematical Expressions</h3>
<div class="paragraph">
<p>The arithmetic operators we will be using most are:</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 50%;">
<caption class="title">Table 1. Mathematical Operators</caption>
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 88.8889%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Operator</th>
<th class="tableblock halign-left valign-top">operation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>+</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">addition</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">subtraction</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">multiplication</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">floating-point division</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>//</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer division</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">remainder (modulus)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>**</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">exponentiation</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Python has many more operators than shown in this table, but this is all we will need for now.  You can combine these operations in complicated ways including using parentheses. The <em>normal
order of operations</em> you learned in grade school apply.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>parentheses</p>
</li>
<li>
<p>exponentiation</p>
</li>
<li>
<p>multiplication, division (include remainder)</p>
</li>
<li>
<p>addition and subtraction</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If there are two operators at the same precedence then they should be evaluated from left to right.
For example <code>4 - 5 + 3</code> should be evaluated as <code>(4 - 5) + 3</code> (which is <code>2</code>) and not <code>4 - (5 + 3)</code>
(which is <code>-4</code>).</p>
</div>
<div class="sect3">
<h4 id="_examples"><a class="anchor" href="#_examples"></a>1.6.1. Examples</h4>
<div class="paragraph">
<p>What is the output of each of the examples below?</p>
</div>
<div class="listingblock">
<div class="title">Example 1</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2</div></td><td class="code"><span></span><span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-mi">3</span> <span class="tok-o">+</span> <span class="tok-mi">5</span> <span class="tok-o">*</span> <span class="tok-mi">9</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p><code>48</code></p>
</div>
</div>
</div>
<div class="listingblock">
<div class="title">Example 2</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2</div></td><td class="code"><span></span><span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-mi">1</span><span class="tok-o">/</span><span class="tok-mi">2</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p><code>0.5</code></p>
</div>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Recall that the single slash <code>/</code> is <em>floating-point division</em>, meaning the result is
a floating-point number.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Contrast this with <em>integer division</em> using the double slash operator <code>//</code>.
In integer division the result is always an integer.</p>
</div>
<div class="listingblock">
<div class="title">Example 3</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5</div></td><td class="code"><span></span><span class="tok-n">w</span> <span class="tok-o">=</span> <span class="tok-mi">1</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>
<span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-mi">3</span> <span class="tok-o">//</span> <span class="tok-mi">7</span>
<span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-mi">3</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>
<span class="tok-n">z</span> <span class="tok-o">=</span> <span class="tok-mi">77</span> <span class="tok-o">//</span> <span class="tok-mi">5</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">w</span><span class="tok-p">,</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">,</span><span class="tok-n">z</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p><code>0 0 1 15</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>As we will see, integer division plays an important role in many applications in computer science.</p>
</div>
<div class="listingblock">
<div class="title">Example 4</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4</div></td><td class="code"><span></span><span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-mi">7</span>
<span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-mi">9</span>
<span class="tok-n">z</span> <span class="tok-o">=</span> <span class="tok-n">x</span> <span class="tok-o">+</span> <span class="tok-n">y</span> <span class="tok-o">//</span> <span class="tok-mi">4</span> <span class="tok-o">*</span> <span class="tok-n">x</span> <span class="tok-o">-</span> <span class="tok-mi">2</span> <span class="tok-o">**</span> <span class="tok-mi">3</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">z</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p><code>13</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Expressions produce a value. Something must be done with that value such as assign it to a variable or use it as an argument in a function call (such as <code>print</code>).  Consider the following Python program.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3</div></td><td class="code"><span></span><span class="tok-n">two_pi</span> <span class="tok-o">=</span> <span class="tok-mf">3.14159</span> <span class="tok-o">*</span> <span class="tok-mi">2</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-n">two_pi</span> <span class="tok-o">*</span> <span class="tok-n">two_pi</span>      <i class="conum" data-value="2"></i><b>(2)</b>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">two_pi</span><span class="tok-p">)</span>        <i class="conum" data-value="3"></i><b>(3)</b>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>compute 2&pi; and store the result in the variable <code>two_pi</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>multiply <code>two_pi</code> times <code>two_pi</code> <em>and do nothing with the result</em> so Python just throws the value away. <strong>This line is pointless</strong>, it has no effect, but it is legal.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>print <code>two_pi</code></td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_modular_arithmetic"><a class="anchor" href="#_modular_arithmetic"></a>1.7. Modular Arithmetic</h3>
<div class="paragraph">
<p><em>Modular arithmetic</em> is important in computer science.  Modular arithmetic is just arithmetic that uses the remainder after finding a quotient. For example, <code>7 // 3</code> is <code>2</code> with a remainder of <code>1</code>. The remainder operator is <code>%</code>. In this case <code>7 % 3</code> is <code>1</code>.</p>
</div>
<div class="listingblock">
<div class="title">Check Yourself</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6</div></td><td class="code"><span></span><span class="tok-c1"># What gets printed by the following?</span>
<span class="tok-n">w</span> <span class="tok-o">=</span> <span class="tok-mi">1</span> <span class="tok-o">%</span> <span class="tok-mi">2</span>
<span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-mi">3</span> <span class="tok-o">%</span> <span class="tok-mi">7</span>
<span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-mi">3</span> <span class="tok-o">%</span> <span class="tok-mi">2</span>
<span class="tok-n">z</span> <span class="tok-o">=</span> <span class="tok-mi">77</span> <span class="tok-o">%</span> <span class="tok-mi">5</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">w</span><span class="tok-p">,</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">,</span><span class="tok-n">z</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p><code>1 3 1 2</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>A couple of important properties to remember. If we are computing <code>n % m</code> and we know that <code>n</code> is less than <code>m</code> and they are both positive, then the result is always <code>n</code>. For example <code>278 % 455</code> is <code>278</code>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
In mathematics we sometimes refer to modular arithmetic as <em>clock arithmetic</em>. You perform modular arithmetic all the time, you just don&#8217;t know it. For example, if it is 2PM and we wanted to figure out what time it will be 14 hours from now, we can compute <code>(2 + 14) % 12</code>, which is 4. So it would be 4AM.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Computing the modulus of a negative number is also important, for example <code>-1 % 12</code>. Think of computing the modulus of a negative number as going <em>counter clockwise</em> around the clock. For example, <code>-1 % 12</code> is <code>11</code>, and <code>-5 % 12</code> is <code>7</code>.</p>
</div>
<div class="paragraph">
<p><code>-14 % 12</code> would be to go counter clockwise one full revolution leaving s with <code>-2 % 12</code>, which is <code>10</code>.</p>
</div>
<div class="listingblock">
<div class="title">Check Yourself</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6</div></td><td class="code"><span></span><span class="tok-c1"># What gets printed by the following?</span>
<span class="tok-n">w</span> <span class="tok-o">=</span> <span class="tok-o">-</span><span class="tok-mi">1</span> <span class="tok-o">%</span> <span class="tok-mi">2</span>
<span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-o">-</span><span class="tok-mi">3</span> <span class="tok-o">%</span> <span class="tok-mi">7</span>
<span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-o">-</span><span class="tok-mi">3</span> <span class="tok-o">%</span> <span class="tok-mi">2</span>
<span class="tok-n">z</span> <span class="tok-o">=</span> <span class="tok-o">-</span><span class="tok-mi">77</span> <span class="tok-o">%</span> <span class="tok-mi">5</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">w</span><span class="tok-p">,</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">,</span><span class="tok-n">z</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p><code>1 4 1 3</code></p>
</div>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
We will see a use of computing the modulus of a negative number in cryptography.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_more_on_string_literals"><a class="anchor" href="#_more_on_string_literals"></a>1.8. More on String Literals</h3>
<div class="paragraph">
<p>Strings are an important part of programming. Strings often seem boring but they are part of every piece of software and are often central to applications such web searching, texting, email, DNA sequence analysis, and cryptography.</p>
</div>
<div class="paragraph">
<p>A string literal is a sequence of characters between double quotes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-s2">&quot;This is a valid string literal&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Or single quotes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-s1">&#39;and so is this&#39;</span></code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
The opening and closing quotes in a string literal must match.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-s2">&quot;but this string literal has an error, why?&#39;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-s1">&#39;and so does this, why?&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>But what if we want to include a single quote as one of the characters in our string literal? One way to do it is to use double quotes for the string literal.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-s2">&quot;This isn&#39;t an error&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This works because the outer double quotes demarcate the string literal and the single quote in <code>don't</code> is just a single quote character because it is inside the double quotes.</p>
</div>
<div class="paragraph">
<p>The following is incorrect.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code>'It isn't easy to see that this is an error, why?'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Python can&#8217;t tell that the second single quote in <code>isn't</code> is part of the word but recognizes it as the closing quote matching the open quote.</p>
</div>
<div class="listingblock">
<div class="title">What would get printed by the following print statement?</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1</div></td><td class="code"><span></span><span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s1">&#39;He said &quot;Do it!&quot;&#39;</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p><code>He said "Do it!"</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Things can get pretty crazy. How about if we wanted to print the string <em>He said "Don&#8217;t do it!"</em>.  The issue here is that the string we are printing contains a mix of double and single quotes. The trick is that we need to <em>escape</em> one of the quote characters. For example, if we need a single quote to be the single quote character and not the start or end of a string literal we can put a backslash character in front of it.</p>
</div>
<div class="paragraph">
<p>The statement</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1</div></td><td class="code"><span></span><span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s1">&#39;He said &quot;don</span><span class="tok-se">\&#39;</span><span class="tok-s1">t do it!&quot;&#39;</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>produces the output</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code>He said "don't do it!"</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_a_note_about_spaces"><a class="anchor" href="#_a_note_about_spaces"></a>1.9. A note about spaces</h3>
<div class="paragraph">
<p>Spaces, like in writing, are used to separate words in Python and are often used to make code more legible. For example, in a <code>print</code> statement you can put a space after the comma that is separating values to print.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1</div></td><td class="code"><span></span><span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">a</span><span class="tok-p">,</span> <span class="tok-n">b</span><span class="tok-p">,</span> <span class="tok-n">c</span><span class="tok-p">,</span> <span class="tok-n">d</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>which might look slightly less cramped than</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1</div></td><td class="code"><span></span><span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">a</span><span class="tok-p">,</span><span class="tok-n">b</span><span class="tok-p">,</span><span class="tok-n">c</span><span class="tok-p">,</span><span class="tok-n">d</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Spaces can also make code less readable,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1</div></td><td class="code"><span></span><span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">a</span>      <span class="tok-p">,</span>           <span class="tok-n">b</span><span class="tok-p">,</span><span class="tok-n">c</span><span class="tok-p">,</span>                       <span class="tok-n">d</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>is also valid&#8201;&#8212;&#8201;but ugly.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Spacing at the start of a line that changes indentation can cause problems. See the next section.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_a_note_about_indentation"><a class="anchor" href="#_a_note_about_indentation"></a>1.10. A note about indentation</h3>
<div class="paragraph">
<p>We will see later that indentation plays an important role in Python. For now just be aware that all Python statements that are <em>at the same level</em> (and we wont really know what that means until we get to more complicated Python) should be indented exactly the same.</p>
</div>
<div class="paragraph">
<p>Here is an example. The following program is in error because the second statement is indented one space.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2</div></td><td class="code"><span></span><span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-mi">4</span>
 <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-o">*</span><span class="tok-n">x</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Python is unique in the way that it treats indentation and spacing. Most other programming languages are not sensitive to the way that indentation is handled and programmers are free to indent
as they see fit to make their programs more legible. Not so in Python. Indentation is part of the syntax of the language.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_syntax_errors"><a class="anchor" href="#_syntax_errors"></a>1.11. Syntax Errors</h3>
<div class="paragraph">
<p>We&#8217;ve already encountered ways in which we can violate the rules of the language. In computer programming we call these <em>syntax errors</em>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A <em>syntax error</em> is an error that violates the rules of of how you put together the tokens (words) of the language. Syntax errors
can be detected <em>before</em> the program executes.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Find the syntax error in each of the following:</p>
</div>
<div class="listingblock">
<div class="title">Example 1</div>
<div class="content">
<pre>print("Hello)</pre>
</div>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>Missing double quote closing the string literal <code>"Hello"</code>.</p>
</div>
</div>
</div>
<div class="listingblock">
<div class="title">Example 2</div>
<div class="content">
<pre>print("Hello')</pre>
</div>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>Mismatched quotes.</p>
</div>
</div>
</div>
<div class="listingblock">
<div class="title">Example 3</div>
<div class="content">
<pre>print("Hello"</pre>
</div>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>Missing closing parentheses.</p>
</div>
</div>
</div>
<div class="listingblock">
<div class="title">Example 4</div>
<div class="content">
<pre>print("Hello" 77)</pre>
</div>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>Missing comma between <code>Hello</code> and <code>77</code>.</p>
</div>
</div>
</div>
<div class="listingblock">
<div class="title">Example 5</div>
<div class="content">
<pre>print(x)</pre>
</div>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>Variable <code>x</code> is not defined.</p>
</div>
</div>
</div>
<div class="listingblock">
<div class="title">Example 6</div>
<div class="content">
<pre> x = 5
print(x)</pre>
</div>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>Indentation error</p>
</div>
</div>
</div>
<div class="listingblock">
<div class="title">Example 7</div>
<div class="content">
<pre>x = 5 9
print(x)</pre>
</div>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>Python expects there to be something <em>between</em> the <code>5</code> and the <code>9</code> such as a mathematical operator <code>+</code> or <code>*</code>. Unless the programmer meant the integer <code>59</code>
in which case there should be no space at all.</p>
</div>
</div>
</div>
<div class="listingblock">
<div class="title">Example 8</div>
<div class="content">
<pre>5 = x
print(x)</pre>
</div>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>Python expects there to be a variable to the left of <code>=</code>, not an expression.</p>
</div>
</div>
</div>
<div class="listingblock">
<div class="title">Example 9</div>
<div class="content">
<pre>x = 8 @ 7
print(x)</pre>
</div>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>Python does not have an operator named <code>@</code>.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Some syntax errors are just nasty and difficult to find. The following one line program looks like it should have a syntax error. It is nonsensical but shows a common mistake of leaving off the parentheses when calling a function. But the program actually runs.</p>
</div>
<div class="listingblock">
<div class="title">Example 8</div>
<div class="content">
<pre>print</pre>
</div>
</div>
<div class="listingblock result">
<div class="content">
<pre>&lt;built-in function print&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>As you gain practice you will be able to quickly find syntax errors.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A <em>built-in function</em> is a function that is predefined by Python and is part
of the Python programming language.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_keyboard_input"><a class="anchor" href="#_keyboard_input"></a>1.12. Keyboard Input</h3>
<div class="paragraph">
<p>Python&#8217;s <code>input</code> function allows the user to enter input from the keyboard. It takes a string as an argument and uses it as a prompt to display on the Python console. The <code>input</code> function is a different kind of function than the <code>print</code> function. The <code>print</code> function puts values on the Python console window whereas the <code>input</code> function produces a string value of the characters that the user typed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2</div></td><td class="code"><span></span><span class="tok-n">name</span> <span class="tok-o">=</span> <span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s1">&#39;Enter your name: &#39;</span><span class="tok-p">)</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;Hello&quot;</span><span class="tok-p">,</span> <span class="tok-n">name</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Enter your name: Hermione <i class="conum" data-value="1"></i><b>(1)</b>
Hello Hermione</pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>Hermione</code> is what the user typed and then hit <em>enter</em> on the keyboard.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>It is common to have users enter numbers and then use the values in mathematical expressions. The formula to convert a temperature in Fahrenheit to Celsius is
\(5/9(f-32)\)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3</div></td><td class="code"><span></span><span class="tok-n">f</span> <span class="tok-o">=</span> <span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s1">&#39;Enter a temperature (F): &#39;</span><span class="tok-p">)</span>
<span class="tok-n">c</span> <span class="tok-o">=</span> <span class="tok-mi">5</span><span class="tok-o">/</span><span class="tok-mi">9</span><span class="tok-o">*</span><span class="tok-p">(</span><span class="tok-n">f</span> <span class="tok-o">-</span> <span class="tok-mi">32</span><span class="tok-p">)</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">f</span><span class="tok-p">,</span> <span class="tok-s2">&quot;Fahrenheit is&quot;</span><span class="tok-p">,</span> <span class="tok-n">c</span><span class="tok-p">,</span> <span class="tok-s2">&quot;Celsius&quot;</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Unfortunately <code>f</code> contains a string, not a number, and <code>(f - 32)</code> has an error because you can&#8217;t subtract 32 from a string. For example, if the user typed <code>75</code> it would be like trying to
compute <code>"75" - 32</code>, which is as bad as trying to compute <code>"hello" - 32</code>. You need to first convert the value in the variable <code>f</code> to either
an integer or a floating-point number using either the <code>int</code> or <code>float</code> function.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
The <code>input</code> function returns a string value, even if the user entered a number. You must convert the string to a number using the <code>int</code> or <code>float</code> function if you intend to use the input in a mathematical expression.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">The <code>int</code> function</div>
<p>The function <code>int</code> takes a string argument and attempts to convert it to an integer and return the resulting integer. For example <code>int("-36")</code> would return the integer <code>-36</code>. The <code>int</code> function is also used to convert a floating-point number to an integer by truncating the decimal point. For example <code>int(3.14159)</code> would return <code>3</code>. Sometimes <code>int</code> can result in a <em>run-time error</em>. For example <code>int("3.14159")</code> causes an error because the string cannot converted to an integer. What about <code>int('hello')</code>?</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A <em>run-time error</em> is an error that can only be detected when the program executes and not before. A run-time error is often called a <em>crash</em>. You&#8217;ll often hear programmers say "The program is crashing" or "the program crashes on this line of code".
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">The <code>float</code> function</div>
The function <code>float</code> takes a string argument and attempts to convert it to a floating-point number and return the resulting float. For example <code>int("-3.14")</code> would return the float <code>-3.14</code>. The <code>float</code> function is also used to convert an integer to a float. For example <code>float(3)</code> is <code>3.0</code>. Similar to <code>int</code> if the argument cannot be converted then a run-time error will result. For example <code>float('hello')</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Here is our modified program:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3</div></td><td class="code"><span></span><span class="tok-n">f</span> <span class="tok-o">=</span> <span class="tok-nb">float</span><span class="tok-p">(</span><span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s1">&#39;Enter a temperature (F): &#39;</span><span class="tok-p">))</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-n">c</span> <span class="tok-o">=</span> <span class="tok-mi">5</span><span class="tok-o">/</span><span class="tok-mi">9</span><span class="tok-o">*</span><span class="tok-p">(</span><span class="tok-n">f</span> <span class="tok-o">-</span> <span class="tok-mi">32</span><span class="tok-p">)</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">f</span><span class="tok-p">,</span> <span class="tok-s2">&quot;degrees Fahrenheit is&quot;</span><span class="tok-p">,</span> <span class="tok-n">c</span><span class="tok-p">,</span> <span class="tok-s2">&quot;degrees Celsius&quot;</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Notice the use of the function <code>float</code> to convert the string in <code>f</code> to a floating-point number.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Here is a sample run of the Fahrenheit to Celsius conversion program.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Enter a temperature (F): 83.5 <i class="conum" data-value="1"></i><b>(1)</b>
83.5 degrees Fahrenheit is 28.61111111111111 degrees Celsius</pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The user entered <code>83.5</code></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The result <code>28.61111111111111</code> has an unhelpful number of digits. It looks ridiculous. Python has a built-in function <code>round</code> that rounds a floating-point number to a certain number of decimal places. For example, <code>round(3.157, 2)</code> will round <code>3.157</code> to two decimal places, producing the value <code>3.16</code>. Using this in our temperature conversion program:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3</div></td><td class="code"><span></span><span class="tok-n">f</span> <span class="tok-o">=</span> <span class="tok-nb">float</span><span class="tok-p">(</span><span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s1">&#39;Enter a temperature (F): &#39;</span><span class="tok-p">))</span>
<span class="tok-n">c</span> <span class="tok-o">=</span> <span class="tok-mi">5</span><span class="tok-o">/</span><span class="tok-mi">9</span><span class="tok-o">*</span><span class="tok-p">(</span><span class="tok-n">f</span> <span class="tok-o">-</span> <span class="tok-mi">32</span><span class="tok-p">)</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">f</span><span class="tok-p">,</span> <span class="tok-s2">&quot;degrees Fahrenheit is&quot;</span><span class="tok-p">,</span> <span class="tok-nb">round</span><span class="tok-p">(</span><span class="tok-n">c</span><span class="tok-p">,</span><span class="tok-mi">1</span><span class="tok-p">),</span> <span class="tok-s2">&quot;degrees Celsius&quot;</span><span class="tok-p">)</span> <i class="conum" data-value="1"></i><b>(1)</b>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Use <code>round</code> to round the value in`c` to one decimal place.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Here is a sample run of the Fahrenheit to Celsius conversion program.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Enter a temperature (F): 83.5
83.5 degrees Fahrenheit is 28.6 degrees Celsius</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
There are two different kinds of functions in Python, those that <em>return</em> values, and those that do not return a value but perform some other side effect. <code>print</code> is an example of a function that does not return a value but has the the side effect of printing a value on the console window. Contrast this to the <code>round</code> function which returns a rounded result.
</td>
</tr>
</table>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./images/round.png" alt="round">
</div>
</div>
<div class="sect3">
<h4 id="_program_flow"><a class="anchor" href="#_program_flow"></a>1.12.1. Program Flow</h4>
<div class="paragraph">
<p>Python programs execute line-by-line top-to-bottom. Variables must be defined and assigned
values before those values can be used. Consider the previous Celsius-to-Fahrenheit conversion program.</p>
</div>
<div class="paragraph">
<p>The first assignment statement that executes defines the variable <code>f</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>f = float(input('Enter a temperature (F): '))</pre>
</div>
</div>
<div class="paragraph">
<p>The second statement execute defines <code>c</code> by <em>using</em> the variable <code>f</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre>c = 5/9*(f - 32)</pre>
</div>
</div>
<div class="paragraph">
<p>Finally, the third statement executed prints the result <em>using</em> both <code>c</code> and <code>f</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>print(f, "degrees Fahrenheit is", round(c,1), "degrees Celsius")</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_the_math_module"><a class="anchor" href="#_the_math_module"></a>1.13. The <code>math</code> module</h3>
<div class="paragraph">
<p>Python has many support libraries that we can use. Think of
a support library as predefined functions and definitions that you can use. One such support library is called the <em>math module</em>. The math module contains many math related functions and some predefined constants. For example <code>math.sin(x)</code> computes the <em>sin</em> of the argument \(x\) (where \(x\) is in radians).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A <em>module</em> is a named collection of related functions and definitions. Modules can be hierarchical, that is we can have modules defined inside other modules. Much like on your computer where you can have folders inside folders to organize your documents.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To use the functions and definitions in the math module your program first needs to tell Python that we need it using an <em>import statement</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1</div></td><td class="code"><span></span><span class="tok-kn">import</span> <span class="tok-nn">math</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>One way to compute the square root of a number would be just to raise to the 1/2 power.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-mi">2</span><span class="tok-o">**.</span><span class="tok-mi">5</span><span class="tok-p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Another way would be to use the math module&#8217;s square root function.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1</div></td><td class="code"><span></span><span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">math</span><span class="tok-o">.</span><span class="tok-n">sqrt</span><span class="tok-p">(</span><span class="tok-mi">2</span><span class="tok-p">))</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<code>import</code> is a Python <em>keyword</em>. A keyword is a word reserved for use by Python.
As such you should never use a keyword as a variable name (in fact that is an error).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A constant defined in the math module is <code>math.pi</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1</div></td><td class="code"><span></span><span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">math</span><span class="tok-o">.</span><span class="tok-n">pi</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="console"><span></span><span class="tok-go">3.141592653589793</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
To reference functions and definitions in a module use <em>dot notation</em>. For example, <code>math.pi</code> or <code>math.sqrt(x)</code>.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_function_composition"><a class="anchor" href="#_function_composition"></a>1.13.1. Function Composition</h4>
<div class="paragraph">
<p>A powerful programming technique is to call a function and use its return result as an argument in another function call. This is called <em>function composition</em>. Mathematically if \(f\) and \(g\) are functions that return a result we can <em>compose</em> them as \(f(g(x))\).</p>
</div>
<div class="paragraph">
<p>For example, if we needed to compute \(sin(\sqrt{\pi/4})\) &#8230;&#8203;</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./images/function-composition.png" alt="function composition">
</div>
</div>
<div class="listingblock">
<div class="title">Version 1</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2</div></td><td class="code"><span></span><span class="tok-n">result</span> <span class="tok-o">=</span> <span class="tok-n">math</span><span class="tok-o">.</span><span class="tok-n">sin</span><span class="tok-p">(</span><span class="tok-n">math</span><span class="tok-o">.</span><span class="tok-n">sqrt</span><span class="tok-p">(</span><span class="tok-n">math</span><span class="tok-o">.</span><span class="tok-n">pi</span><span class="tok-o">/</span><span class="tok-mi">4</span><span class="tok-p">))</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-nb">round</span><span class="tok-p">(</span><span class="tok-n">result</span><span class="tok-p">,</span> <span class="tok-mi">2</span><span class="tok-p">))</span> <i class="conum" data-value="2"></i><b>(2)</b>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>This is the function composition of <code>math.sin</code> and <code>math.sqrt</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Here we are composing <code>print</code> and <code>round</code></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>We could have done all this in one (albeit less readable) line &#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="title">Version 2</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1</div></td><td class="code"><span></span><span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-nb">round</span><span class="tok-p">(</span><span class="tok-n">math</span><span class="tok-o">.</span><span class="tok-n">sin</span><span class="tok-p">(</span><span class="tok-n">math</span><span class="tok-o">.</span><span class="tok-n">sqrt</span><span class="tok-p">(</span><span class="tok-n">math</span><span class="tok-o">.</span><span class="tok-n">pi</span><span class="tok-o">/</span><span class="tok-mi">4</span><span class="tok-p">)),</span> <span class="tok-mi">2</span><span class="tok-p">))</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Or we could have also broken it up into more statements &#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="title">Version 3</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4</div></td><td class="code"><span></span><span class="tok-n">result1</span> <span class="tok-o">=</span> <span class="tok-n">math</span><span class="tok-o">.</span><span class="tok-n">sqrt</span><span class="tok-p">(</span><span class="tok-n">math</span><span class="tok-o">.</span><span class="tok-n">pi</span><span class="tok-o">/</span><span class="tok-mi">4</span><span class="tok-p">)</span>
<span class="tok-n">result2</span> <span class="tok-o">=</span> <span class="tok-n">math</span><span class="tok-o">.</span><span class="tok-n">sin</span><span class="tok-p">(</span><span class="tok-n">result1</span><span class="tok-p">)</span>
<span class="tok-n">result3</span> <span class="tok-o">=</span> <span class="tok-nb">round</span><span class="tok-p">(</span><span class="tok-n">result2</span><span class="tok-p">,</span> <span class="tok-mi">2</span><span class="tok-p">)</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">result3</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>These are all equivalent and one is not necessarily better than the other. A fourth version reuses the <code>result</code> variable in each statement and does not define new variables.</p>
</div>
<div class="listingblock">
<div class="title">Version 4</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4</div></td><td class="code"><span></span><span class="tok-n">result</span> <span class="tok-o">=</span> <span class="tok-n">math</span><span class="tok-o">.</span><span class="tok-n">sqrt</span><span class="tok-p">(</span><span class="tok-n">math</span><span class="tok-o">.</span><span class="tok-n">pi</span><span class="tok-o">/</span><span class="tok-mi">4</span><span class="tok-p">)</span>
<span class="tok-n">result</span> <span class="tok-o">=</span> <span class="tok-n">math</span><span class="tok-o">.</span><span class="tok-n">sin</span><span class="tok-p">(</span><span class="tok-n">result</span><span class="tok-p">)</span>
<span class="tok-n">result</span> <span class="tok-o">=</span> <span class="tok-nb">round</span><span class="tok-p">(</span><span class="tok-n">result</span><span class="tok-p">,</span> <span class="tok-mi">2</span><span class="tok-p">)</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">result</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>We will see over and over that there are many ways to express the same computation, some may be better than others because they are more readable or more efficient.</p>
</div>
<div class="paragraph">
<p><a href="https://docs.python.org/3/library/math.html">Python math module documentation</a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_kinds_of_program_errors"><a class="anchor" href="#_kinds_of_program_errors"></a>1.14. Kinds of Program Errors</h3>
<div class="paragraph">
<p>We have already discussed <em>syntax errors</em> and <em>run-time errors</em>.</p>
</div>
<div class="paragraph">
<p>Recall that a syntax error is an error in how you put together the words and characters of your program. For example, a missing parentheses, or quote in a string literal.  Syntax errors can be detected <em>before</em> you run the program and are often highlighted in whatever IDE.<sup class="footnote">[<a id="_footnoteref_3" class="footnote" href="#_footnotedef_3" title="View footnote.">3</a>]</sup> you are using.</p>
</div>
<div class="paragraph">
<p>A <em>run-time</em> error is an error that cannot be detected <em>before</em> program execution but only while the program is executing. Common run-time errors include dividing by zero or trying to convert the word <code>hello</code> to an integer. For example, consider the following simple program:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2</div></td><td class="code"><span></span><span class="tok-n">s</span> <span class="tok-o">=</span> <span class="tok-nb">int</span><span class="tok-p">(</span><span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s2">&quot;Enter a number: &quot;</span><span class="tok-p">))</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;1000 divided by&quot;</span><span class="tok-p">,</span> <span class="tok-n">s</span><span class="tok-p">,</span> <span class="tok-s2">&quot;is&quot;</span><span class="tok-p">,</span> <span class="tok-mi">1000</span><span class="tok-o">/</span><span class="tok-n">s</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>What would happen if the user entered a 0 at the input prompt? There is no way for Python to know what the user is going to type, and if they enter a <code>0</code>, then the program will <em>crash</em> on line 2. If the user enters the word <code>"hello"</code> then the program will crash on line 1 when Python tries to convert <code>"hello"</code> to an integer.</p>
</div>
<div class="sect3">
<h4 id="_logic_errors"><a class="anchor" href="#_logic_errors"></a>1.14.1. Logic Errors</h4>
<div class="paragraph">
<p>There are even more insidious and difficult to find errors. At least with a syntax error the IDE will tell you where in the code the error is, and when you have a run-time error Python will tell you exactly which line caused the crash.</p>
</div>
<div class="paragraph">
<p>Lets revisit our Celsius to Fahrenheit conversion program.  The program below does not contain a syntax error nor does it contain a run-time error. There is, however, a problem with it. Can you see it?</p>
</div>
<div class="listingblock">
<div class="title">Logic error</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3</div></td><td class="code"><span></span><span class="tok-n">f</span> <span class="tok-o">=</span> <span class="tok-nb">float</span><span class="tok-p">(</span><span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s1">&#39;Enter a temperature (F): &#39;</span><span class="tok-p">))</span>
<span class="tok-n">c</span> <span class="tok-o">=</span> <span class="tok-mi">5</span><span class="tok-o">/</span><span class="tok-mi">9</span> <span class="tok-o">*</span> <span class="tok-n">f</span><span class="tok-o">-</span><span class="tok-mi">32</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">f</span><span class="tok-p">,</span> <span class="tok-s2">&quot;degrees Fahrenheit is&quot;</span><span class="tok-p">,</span> <span class="tok-nb">round</span><span class="tok-p">(</span><span class="tok-n">c</span><span class="tok-p">,</span><span class="tok-mi">1</span><span class="tok-p">),</span> <span class="tok-s2">&quot;degrees Celsius&quot;</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>There are parentheses missing around the <code>f-32</code>. This program executes just fine and produces a result, it is just the wrong result. This kind of error is a <em>logic error</em>. A logic error is an error where the program produces an incorrect result when it executes.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_bits_cpus_interpreters_and_compilers"><a class="anchor" href="#_bits_cpus_interpreters_and_compilers"></a>1.15. Bits, CPUs, Interpreters, and Compilers</h3>
<div class="paragraph">
<p>At its most basic level everything about modern computing boils down to, at some base level, ones and zeros, true/false, on/off, yes/no, black/white. All information is <em>binary</em>. All decimal (base-10) numbers are expressed in binary (base-2). Digital images are just numbers, which are binary. Digital music on Spotify or Pandora, are numbers (hence binary) that represent sampled sound waves. Characters, letters, punctuation, all have a numeric equivalent, and are binary. Internet communication - binary, web pages - binary. Even computer programs get converted to binary. <em>All information is binary</em>.</p>
</div>
<div class="paragraph">
<p>An individual 1 or 0 is called a <em>bit</em>, for <em>binary digit</em>. Eight bits are a <em>byte</em>. We often talk of sizes of data in bytes. A megabyte (MB) is one million bytes. Strictly speaking when we use the term megabyte it usually means \(2^{20}\) bytes rather then \(10^6\) bytes. Below is a table of sizes, kilobytes, megabytes, &#8230;&#8203;</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Sizes of data</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">kilobyte (KB)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\(10^{3} = 1000\)  (one thousand)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\(2^{10}\)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">megabyte (MB)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\(10^{6} = 1,000,000\) (one million)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\(2^{20}\)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">gigabyte (GB)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\(10^{9}\) (one billion)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\(2^{30}\)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">terabyte (TB)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\(10^{12}\) (one trillion)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\(2^{40}\)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">petabyte (PB)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\(10^{15}\) (one quadrillion)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\(2^{50}\)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">exabyte  (EB)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\(10^{18}\) (one quintillion)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\(2^{60}\)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The CPU, (<em>Central Processing Unit</em>) or <em>processor</em>, carries out basic mathematical operations such as addition and multiplication. The CPU is connected to <em>main memory</em> where it can store numbers (bits). Main memory is fast and <em>volatile</em>. That is, when the power is turned off main memory loses any information that was stored. Also connected to the CPU and memory are other hardware components such as hard drives, graphics card, and network hardware. Hard drives are <em>non-volatile</em> memory. Turn off the power and they remember what was stored, they are also much slower than main memory.</p>
</div>
<div class="paragraph">
<p>Here is a high level layout of a computer.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/comp_org.png" alt="comp org" width="500">
</div>
<div class="title">Figure 1. Computer Organization</div>
</div>
<div class="paragraph">
<p>The basic operations of the CPU are called <em>instructions</em>, and the binary representation of instructions is called <em>machine code</em>. Many programming languages are compiled languages are translated to machine code by a <em>compiler</em>, C being the most common compiled language, where the program is converted straight to machine code that is then directly executed by the CPU.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/compiler.png" alt="compiler" width="400">
</div>
<div class="title">Figure 2. C Program Compilation</div>
</div>
<div class="paragraph">
<p>Python is a little different, it is not a compiled language but an <em>interpreted</em> language. What that means is that there is another program called the <em>interpreter</em> that reads the Python program and executes it directly. The Python interpreter itself is written in C.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/interpreter.png" alt="interpreter" width="600">
</div>
<div class="title">Figure 3. Python Interpreter</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Python is actually a bit more complicated. The Python interpreter actually compiles Python programs to a CPU independent intermediate language called
<em>byte code</em>. It is the Python program&#8217;s byte code that is then executed the Python interpreter.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_exercises"><a class="anchor" href="#_exercises"></a>1.16. Exercises</h3>
<div class="paragraph">
<div class="title">Exercise 1</div>
<p>Suppose <code>x</code> and <code>y</code> are variables that have been assigned values. What does the following code fragment do? (Hint: give sample values to <code>x</code> and <code>y</code> and follow the code).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">t</span> <span class="tok-o">=</span> <span class="tok-n">x</span>
<span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-n">y</span>
<span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-n">t</span></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Exercise 2 (Multiple choice questions)</div>
<p>Consider the following code fragment.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-mf">2.0</span>
<span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-n">math</span><span class="tok-o">.</span><span class="tok-n">sqrt</span><span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">)</span></code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>math</code> is a &#8230;&#8203;</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>function</p>
</li>
<li>
<p>module</p>
</li>
<li>
<p>variable</p>
</li>
<li>
<p>literal</p>
</li>
</ol>
</div>
</li>
<li>
<p><code>sqrt</code> is a &#8230;&#8203;</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>function</p>
</li>
<li>
<p>module</p>
</li>
<li>
<p>variable</p>
</li>
<li>
<p>literal</p>
</li>
</ol>
</div>
</li>
<li>
<p>The line <code>x = 2.0</code> is an example of a/an</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>variable</p>
</li>
<li>
<p>floating-point literal</p>
</li>
<li>
<p>function call</p>
</li>
<li>
<p>assignment statement</p>
</li>
</ol>
</div>
</li>
<li>
<p>The line <code>math.sqrt(x)</code> in the second line is an example of</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>function composition</p>
</li>
<li>
<p>a function call</p>
</li>
<li>
<p>an argument</p>
</li>
<li>
<p>a module call</p>
</li>
</ol>
</div>
</li>
<li>
<p>The line <code>y = math.sqrt(x)</code> in the second line <code>x</code> is an example of a</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>variable</p>
</li>
<li>
<p>module</p>
</li>
<li>
<p>argument</p>
</li>
<li>
<p>floating-point literal</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">C2F</div>
<p>Write a program that converts a temperature in Celsius to Fahrenheit. Prompt the user for the temperature and print the conversion rounded to two decimal places.  Make the output neat and descriptive.</p>
</div>
<div class="paragraph">
<div class="title">Windchill</div>
<p>Write a Python program that calculates the wind chill temperature \(W\) given the current temperature \(t\) (in Fahrenheit) and the wind velocity \(v\) (in MPH). The current temperature and the wind velocity should be entered by the user from the keyboard.<br>
The <a href="https://www.weather.gov/media/epz/wxcalc/windChill.pdf">formula the National Weather Service uses</a> to calculate wind chill temperature is:</p>
</div>
<div class="paragraph">
<p>\(W = 35.74 + 0.6215t + (0.4275t - 35.75)v^{0.16}\)</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Enter temperature (F): 32.0
Enter wind velocity (MPH): 10.0</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>The wind chill for 32.0 degrees with a
wind velocity of 10.0 MPH is 23.7 degrees.</pre>
</div>
</div>
<div class="paragraph">
<p>Print the result rounded to one decimal place, like the <code>23.7</code> above.</p>
</div>
<div class="paragraph">
<div class="title">Area of circle</div>
<p>The area of a circle with radius \(r\) is \(area = \pi r^2\).  Write a program that prompts the user for a radius and computes and prints the area of the circle rounded to 3 decimal places.</p>
</div>
<div class="paragraph">
<div class="title">Volume of a Cone</div>
<p>The volume of a cone with height \(h\) and radius \(r\) is \(v = \pi r^2h/3\). Write a Python program that will read the radius and the height from the user and computes and prints the volume of the cone.</p>
</div>
<div class="paragraph">
<div class="title">Population Growth</div>
<p>In the United States there is a birth every 8 seconds, a death every 12 seconds, and a new immigrant (net) every 33 seconds.  The current population is roughly 325 million. Write a program that will prompt the user for a number of years and print the estimated population that many years from now.</p>
</div>
<div class="paragraph">
<div class="title">Compound Interest</div>
<p>Assume that \(C\) is an initial amount of an investment, \(r\) is the yearly rate of interest (e.g., \(.02\) is \(2\%\)), \(t\) is the number of years until maturation, \(n\) is the number of times the interest is compounded per year, then the final value of the investment is \(p=c(1+r/n)^{tn}\). Write a program that reads \(C\), \(r\), \(n\), and \(t\) from the user and computes and then prints the final value of the investment to the nearest penny.</p>
</div>
<div class="paragraph">
<div class="title">Change Making</div>
<p>Write a program that reads an amount of money that we need to make change for, and dispenses
the correct amount of change (in U.S. currency). Assume that the 20 dollar bill is the largest denomination.  Here is an example execution of the program &#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Enter an amount to make change for: 78.98

Your change is...

3 twenties
1 ten
1 five
3 ones
3 quarters
2 dimes
0 nickels
3 pennies</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Distance from origin</div>
<p>The distance \(d\) of a point \((x,y)\) from the origin, by the Pythagorean theorem, is \(d=\sqrt{x^2+y^2}\). Write a program that reads an \(x\) and a \(y\) from the user and computes the distance of the point from the origin.</p>
</div>
<div class="paragraph">
<div class="title">Distance between two points</div>
<p>The distance <em>between</em> two points <em>(x<sub>1</sub>,y<sub>1</sub>)</em> and <em>(x<sub>2</sub>,y<sub>2</sub>)</em> is also easily derived using the Pythagorean theorem. It is \(d=\sqrt{(x_2-x_1)^2 + (y_2-y_1)^2}\). Write a program that reads two points from the user and computes and prints the distance between the two points.</p>
</div>
</div>
<div class="sect2">
<h3 id="_terminology"><a class="anchor" href="#_terminology"></a>1.17. Terminology</h3>
<div class="paragraph">
<p>Every discipline has its own terminology (or <em>nomenclature</em>). Terminology is what allows us to <em>communicate intelligently with accuracy and precision</em> about a discipline both amongst other programmers and to the lay-person.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Master the terminology. Every term below is defined somewhere in this text. Just search for it in the browser.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Terminology</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>computer science</p>
</li>
<li>
<p>string literal (constant)</p>
</li>
<li>
<p>integer literal (constant)</p>
</li>
<li>
<p>floating-point literal (constant)</p>
</li>
<li>
<p>built-in function</p>
</li>
<li>
<p>function call</p>
</li>
<li>
<p>variable</p>
</li>
<li>
<p><em>Hello World</em> program</p>
</li>
<li>
<p>scientific notation</p>
</li>
<li>
<p>programming language</p>
</li>
<li>
<p>comment</p>
</li>
<li>
<p>crash</p>
</li>
<li>
<p>prompt</p>
</li>
<li>
<p>CPU</p>
</li>
<li>
<p>interpreter</p>
</li>
<li>
<p>domain (of a function)</p>
</li>
<li>
<p>binary</p>
</li>
<li>
<p>volatile memory</p>
</li>
<li>
<p>bit</p>
</li>
<li>
<p>compiler</p>
</li>
<li>
<p>range (of a function)</p>
</li>
<li>
<p>console</p>
</li>
<li>
<p>non-volatile memory</p>
</li>
<li>
<p>byte</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>argument</p>
</li>
<li>
<p>expression</p>
</li>
<li>
<p>value</p>
</li>
<li>
<p>syntax error</p>
</li>
<li>
<p>run-time error</p>
</li>
<li>
<p>function</p>
</li>
<li>
<p>keyword</p>
</li>
<li>
<p>module</p>
</li>
<li>
<p>escape character</p>
</li>
<li>
<p>assignment statement</p>
</li>
<li>
<p>function composition</p>
</li>
<li>
<p>logic error</p>
</li>
<li>
<p>kilobyte (KB)</p>
</li>
<li>
<p>megabyte (MB)</p>
</li>
<li>
<p>gigabyte (GB)</p>
</li>
<li>
<p>terabyte (TB)</p>
</li>
<li>
<p>petabyte (PB)</p>
</li>
<li>
<p>exabyte (EB)</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Functions</div>
<p>We have encountered several functions this chapter.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>print(arg1, arg2, ...)</code><br></p>
<div class="paragraph">
<p><code>print</code> does not produce a value but has the side effect of printing the values <code>arg1</code>, <code>arg2</code>, &#8230;&#8203; to the console.</p>
</div>
</li>
<li>
<p><code>round(v, n)</code> &#8594; <code>float</code></p>
<div class="paragraph">
<p><code>round</code> expects a float to that will be rounded to <code>n</code> decimal places. The rounded float is returned.</p>
</div>
</li>
<li>
<p><code>math.sqrt(v : float)</code><br></p>
<div class="paragraph">
<p><code>math.sqrt</code> in the math module computes and returns the square root of <code>v</code>.</p>
</div>
</li>
<li>
<p><code>int(x)</code></p>
<div class="paragraph">
<p>If <code>x</code> is a float then return the integer part of <code>x</code> by truncating the decimal part. If <code>x</code> is a string then attempt to convert the string to an integer. If it can&#8217;t then error.</p>
</div>
</li>
<li>
<p><code>float(x)</code>
If <code>x</code> is an integer then convert it to a float. If <code>x</code> is a string then attempt to convert it to a float. If it can&#8217;t then error.</p>
</li>
<li>
<p><code>input(prompt)</code><br></p>
<div class="paragraph">
<p>print the string <code>prompt</code> to the console and wait for keyboard input. Return the string the user entered. No type conversion takes place. For example if the user types 3.14 then the string "3.14" is returned.</p>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_pygame_intro"><a class="anchor" href="#_pygame_intro"></a>2. Pygame Intro</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A fun way to learn to program is through graphics, images, and animation.  <a href="https://www.pygame.org/news">Pygame</a> is a popular Python library (module) for implementing graphics in Python programs. As the name suggests, Pygame can be used for programming computer games, but we can also use its graphics capabilities to explore programming in Python and various topics in computer science.</p>
</div>
<div class="paragraph">
<p>To use Pygame there is some standard code we need at the start of every program (but only in programs that use Pygame).</p>
</div>
<div class="listingblock">
<div class="title">hello_pygame.py</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3</div></td><td class="code"><span></span><span class="tok-kn">import</span> <span class="tok-nn">pygame</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">init</span><span class="tok-p">()</span> <i class="conum" data-value="2"></i><b>(2)</b>
<span class="tok-n">win</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">set_mode</span><span class="tok-p">((</span><span class="tok-mi">600</span><span class="tok-p">,</span><span class="tok-mi">600</span><span class="tok-p">))</span> <i class="conum" data-value="3"></i><b>(3)</b>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>import the Pygame module</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Call a Pygame function <code>init</code> that initializes pygame. The <code>init</code> function takes no arguments and does not return a value. The parentheses are necessary to indicate that this is a function call.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Construct a window, \(600\) pixels wide and \(600\) pixels high. The <code>set_mode</code> function is part of the <code>display</code> module that is in the <code>pygame</code> module. Notice the double parentheses. The <code>set_mode</code> function takes one argument, but that argument needs to be a <em>tuple</em> that represents the width and the height of the window in pixels. <code>set_mode</code> returns a <em>reference</em> to the window. <code>win</code> is a variable that refers to a Pygame <em>display surface</em>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When we run the program above, a \(600 \times 600\) pixel window will display on our monitor and then quickly vanish. The window disappears because the program finished executing. We probably don&#8217;t want the window to disappear right away and we will fix this in a bit.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A <em>tuple</em> is an ordered pair (or triple, or quadruple, etc.). A tuple in Python is two or more values wrapped up into one value using parentheses with the component values separated by commas. For example the tuple <code>(200,300)</code> represents a single value with two integer components.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A <em>pixel</em>, short for <em>picture element</em>, represents a single dot on the screen. A typical display has a <em>resolution</em>, which might be \(1024 \times 768\) (\(1024\) pixels wide by \(768\) pixels high) or \(1472 \times 1193\).  A pixel has a physical dimension that depends on the size of the display.  The word <em>pixel</em> is sometimes abbreviated <em>px</em>.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Most of the variables we have encountered so far have held integers or floats. The variable <code>win</code> above represents a <em>reference</em> to a window. For now, think of a reference as being a variable that refers to a complex object such as a window.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In the statement <code>x = 73</code> we say that <code>x</code> is <em>primitive</em> and <code>win</code> is <em>reference</em> to an object.<br>
<span class="image"><img src="./images/references.png" alt="references" width="500"></span></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An <em>object</em> in Python is a value (not unlike an integer or a float) that contains functions for accessing the data in the object. Functions associated with objects are called <em>methods</em>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For example, the Pygame window above has two methods <code>get_height()</code> and <code>get_width()</code> that return the height and width in pixels of the window. Methods are always called using a <em>dot notation</em> of the object name followed by the methods. For example <code>win.get_height()</code>.</p>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Can you think of a way we might be able to pause the program to keep the Pygame display window from disappearing until the user hits a key on the keyboard?</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>The <code>input</code> function waits for the user to type something on the keyboard and hit enter.</p>
</div>
<div class="listingblock">
<div class="title">hello_pygame.py</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4</div></td><td class="code"><span></span><span class="tok-kn">import</span> <span class="tok-nn">Pygame</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">init</span><span class="tok-p">()</span>
<span class="tok-n">win</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">set_mode</span><span class="tok-p">((</span><span class="tok-mi">600</span><span class="tok-p">,</span><span class="tok-mi">600</span><span class="tok-p">))</span>
<span class="tok-n">dummy</span> <span class="tok-o">=</span> <span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s2">&quot;Hit &lt;enter&gt; to quit.&quot;</span><span class="tok-p">)</span> <i class="conum" data-value="1"></i><b>(1)</b>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>We don&#8217;t need the <code>dummy</code> variable since we aren&#8217;t going to use what the user typed. We could have just said &#8230;&#8203;</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s2">&quot;Hit &lt;enter&gt; to quit.&quot;</span><span class="tok-p">)</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_colors"><a class="anchor" href="#_colors"></a>2.1. Colors</h3>
<div class="paragraph">
<p>Before we talk about drawing shapes on the window we need to know how to represent a color. A common color scheme is called RGB, for <em>Red-Green-Blue</em>. In Pygame a color is a triple of three values where (0,0,0) represents black all the way up to (255,255,255) which is white. There are roughly 16 million different colors we can represent. <strong class="red">Red</strong> is (255,0,0), <strong class="green">green</strong> is (0,255,0), and <strong class="blue">blue</strong> is (0,0,255). Yellow is red and green, so that would be (255,255,0).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
There are many online tools to help determine the RGB values for various colors. Most development environments have one too. Just do an internet search for RGB colors, or color picker.<sup class="footnote">[<a id="_footnoteref_4" class="footnote" href="#_footnotedef_4" title="View footnote.">4</a>]</sup>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>One common thing many of our Pygame programs will do is to define some colors.</p>
</div>
<div class="listingblock">
<div class="title">color.py</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</div></td><td class="code"><span></span><span class="tok-c1"># file color.py</span>
<span class="tok-n">red</span>         <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-mi">255</span><span class="tok-p">,</span><span class="tok-mi">0</span><span class="tok-p">,</span><span class="tok-mi">0</span><span class="tok-p">)</span>
<span class="tok-n">green</span>       <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">,</span><span class="tok-mi">255</span><span class="tok-p">,</span><span class="tok-mi">0</span><span class="tok-p">)</span>
<span class="tok-n">blue</span>        <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">,</span><span class="tok-mi">0</span><span class="tok-p">,</span><span class="tok-mi">255</span><span class="tok-p">)</span>
<span class="tok-n">yellow</span>      <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-mi">255</span><span class="tok-p">,</span><span class="tok-mi">255</span><span class="tok-p">,</span><span class="tok-mi">0</span><span class="tok-p">)</span>
<span class="tok-n">white</span>       <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-mi">255</span><span class="tok-p">,</span><span class="tok-mi">255</span><span class="tok-p">,</span><span class="tok-mi">255</span><span class="tok-p">)</span>
<span class="tok-n">black</span>       <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">,</span><span class="tok-mi">0</span><span class="tok-p">,</span><span class="tok-mi">0</span><span class="tok-p">)</span>
<span class="tok-n">aqua</span>        <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">,</span><span class="tok-mi">255</span><span class="tok-p">,</span><span class="tok-mi">255</span><span class="tok-p">)</span>
<span class="tok-n">burntsienna</span> <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-mi">138</span><span class="tok-p">,</span><span class="tok-mi">54</span><span class="tok-p">,</span><span class="tok-mi">15</span><span class="tok-p">)</span>
<span class="tok-n">lightgray</span>   <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-mi">200</span><span class="tok-p">,</span><span class="tok-mi">200</span><span class="tok-p">,</span><span class="tok-mi">200</span><span class="tok-p">)</span>
<span class="tok-n">pink</span>        <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-mi">255</span><span class="tok-p">,</span> <span class="tok-mi">20</span><span class="tok-p">,</span> <span class="tok-mi">147</span><span class="tok-p">)</span>
<span class="tok-n">darkgray</span>    <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-mi">100</span><span class="tok-p">,</span><span class="tok-mi">100</span><span class="tok-p">,</span><span class="tok-mi">100</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>We will soon get tired of retyping color definitions in our Pygame programs. We can place these definitions in their own file and name it <code>color.py</code>.
We can then import <code>color.py</code> into our Pygame program with <code>import color</code> and voila! we have created our own Python module named <code>color</code> and we can reuse our color definitions without having to retype them every time.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Put commonly used code in a separate file and import that file into each program that needs it. This allows you to <em>reuse</em> code you have already written rather than duplicate it.
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Don&#8217;t name your Python programs the same name as modules you commonly import. For example, if you name your program <code>pygame.py</code> and then in your program you have <code>import pygame</code> you are in the embarrassing situation of your program trying to import itself.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">hello_pygame.py</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</div></td><td class="code"><span></span><span class="tok-kn">import</span> <span class="tok-nn">color</span>   <span class="tok-c1"># this is the color.py file we just wrote above</span>
<span class="tok-kn">import</span> <span class="tok-nn">pygame</span>

<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">init</span><span class="tok-p">()</span>
<span class="tok-n">width</span> <span class="tok-o">=</span> <span class="tok-mi">600</span>
<span class="tok-n">height</span> <span class="tok-o">=</span> <span class="tok-mi">500</span>
<span class="tok-n">win</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">set_mode</span><span class="tok-p">((</span><span class="tok-n">width</span><span class="tok-p">,</span><span class="tok-n">height</span><span class="tok-p">))</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">fill</span><span class="tok-p">(</span><span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">burntsienna</span><span class="tok-p">)</span>                   <i class="conum" data-value="2"></i><b>(2)</b>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">update</span><span class="tok-p">()</span>                       <i class="conum" data-value="3"></i><b>(3)</b>
<span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s2">&quot;Hit &lt;enter&gt; to quit.&quot;</span><span class="tok-p">)</span>                 <i class="conum" data-value="4"></i><b>(4)</b>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>win</code> (short for window) is a <em>display surface</em> in pygame. We did not have to call it <code>win</code>. We could have called it any legal variable name.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Our first Pygame drawing command <code>win.fill</code> takes one argument that is an RGB color triple and fills the window with the color <code>burntsienna</code> from our color module.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>When Pygame functions draw on the display the window is not actally updated until we call the Pygame function <code>pygame.display.update()</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Wait for the user to hit enter so the window doesn&#8217;t disappear right away.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_shapes"><a class="anchor" href="#_shapes"></a>2.2. Shapes</h3>
<div class="paragraph">
<p>In this section we learn how to draw basic shapes; a circle, ellipse, rectangle, line, and a single pixel on a surface.</p>
</div>
<div class="sect3">
<h4 id="_rectangle"><a class="anchor" href="#_rectangle"></a>2.2.1. Rectangle</h4>
<div class="paragraph">
<p>The Pygame function <code>pygame.draw.rect</code> draws a rectangle on a surface and takes either three or four arguments.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Pygame programs only ever have one display surface. We will see later on that our Pygame programs may have multiple surfaces (such as an image) that we will render on a display surface.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>
<code class="listingblock">
pygame.draw.rect(<i>surface</i>, <i>color</i>, <i>xywh</i>, <i>optional-line-width</i>)
</code>
</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><em>surface</em></dt>
<dd>
<p>The surface we are going to draw the rectangle on. For now we will just use the display surface <code>win</code> that was constructed using the <code>set_mode</code> function.</p>
</dd>
<dt class="hdlist1"><em>color</em></dt>
<dd>
<p>An RGB triple such as (0, 255, 255) or <code>color.yellow</code> (from our color module)</p>
</dd>
<dt class="hdlist1"><em>xywh</em></dt>
<dd>
<p>A four tuple (quadruple) that represents the \(x\) and \(y\) coordinate of the upper left hand corner of the rectangle and the width \(w\) and the height \(h\) of the rectangle. All units are in pixels.</p>
</dd>
<dt class="hdlist1"><em>optional-line-width</em></dt>
<dd>
<p>If this argument is left off then the rectangle is filled in with the specified color. If it is specified then it takes a width, in pixels, of the border of the rectangle.</p>
</dd>
</dl>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
The upper left coordinate of a Pygame surface is the origin <code>(0,0)</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Example <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Place a yellow rectangle that is one third the width of the display surface and one third the height in the center of the display. Hint: draw this out on a sheet of paper. It is a little trickier than you think. Here is a diagram to get you started.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</div></td><td class="code"><span></span><span class="tok-kn">import</span> <span class="tok-nn">pygame</span><span class="tok-o">,</span> <span class="tok-nn">color</span>

<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">init</span><span class="tok-p">()</span>
<span class="tok-n">width</span> <span class="tok-o">=</span> <span class="tok-mi">600</span>   <span class="tok-c1"># display surface 600 pixels wide</span>
<span class="tok-n">height</span> <span class="tok-o">=</span> <span class="tok-mi">400</span>  <span class="tok-c1"># display surface is 400 pixels high</span>
<span class="tok-n">win</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">set_mode</span><span class="tok-p">((</span><span class="tok-n">width</span><span class="tok-p">,</span><span class="tok-n">height</span><span class="tok-p">))</span>

<span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">fill</span><span class="tok-p">(</span><span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">lightgray</span><span class="tok-p">)</span>

<span class="tok-c1"># set up some variable for the rectangle</span>
<span class="tok-n">r_width</span> <span class="tok-o">=</span> <span class="tok-n">width</span><span class="tok-o">//</span><span class="tok-mi">3</span>
<span class="tok-n">r_height</span> <span class="tok-o">=</span> <span class="tok-n">height</span><span class="tok-o">//</span><span class="tok-mi">3</span>
<span class="tok-n">r_x</span> <span class="tok-o">=</span> <span class="tok-n">width</span><span class="tok-o">//</span><span class="tok-mi">2</span> <span class="tok-o">-</span> <span class="tok-n">r_width</span><span class="tok-o">//</span><span class="tok-mi">2</span>
<span class="tok-n">r_y</span> <span class="tok-o">=</span> <span class="tok-n">height</span><span class="tok-o">//</span><span class="tok-mi">2</span> <span class="tok-o">-</span> <span class="tok-n">r_height</span><span class="tok-o">//</span><span class="tok-mi">2</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">rect</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">yellow</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">r_x</span><span class="tok-p">,</span><span class="tok-n">r_y</span><span class="tok-p">,</span><span class="tok-n">r_width</span><span class="tok-p">,</span><span class="tok-n">r_height</span><span class="tok-p">))</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">update</span><span class="tok-p">()</span>

<span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s2">&quot;Hit &lt;enter&gt; when done&quot;</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
</div>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./images/pygame-rect-window.png" alt="pygame rect window" width="533" height="367">
</div>
</div>
<div class="paragraph">
<p>Notice the use of <em>integer division</em> <code>//</code>. All of the Pygame functions take integer arguments. Intuitively, when calculating dimensions or coordinates it doesn&#8217;t make sense to do this in fractions of a pixel.</p>
</div>
<div class="paragraph">
<div class="title">Self Check</div>
<p>Assume we have a 600 X 400 Pygame display.</p>
</div>
<div class="paragraph">
<div class="title">Top Left<span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>What is the coordinate of the top left pixel in the Pygame window?</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>(0,0)</p>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Top Right<span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>What is the coordinate of the top right pixel in the Pygame window?</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>(599,0)</p>
</div>
<div class="paragraph">
<p>Now, most likely what you said was (600,0). This is a common mistake, Remember
the window is 600 pixels wide and we are starting counting at 0. So the 600th pixel
is column 599. This mistake of being off by one, computer scientists quite literally call an <em>off by one error</em>.</p>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Bottom Left<span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>What is the coordinate of the bottom left pixel in the Pygame window?</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>(0,399)</p>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Bottom Right<span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>What is the coordinate of the bottom right pixel in the Pygame window?</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>(599,399)</p>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Proportional Graphics</div>
<p>The yellow square is <em>proportional</em> and relative to the size of the main Pygame display surface. That is, if we change the size of the main display surface the yellow square will resize accordingly. Most often this is the kind of graphics that we want and is one of the powerful features of doing graphics using geometric shapes. The name for this kind of graphics, using geometric shapes, is <em>vector graphics</em>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Try and always use <em>proportional graphics</em>. In proportional graphics a shape is drawn relative to some enclosing shape. For example the head might be
drawn relative to the window and an eye would be drawn relative to a head. A pupil would be drawn relative to the eye. If we were drawing a house, a door&#8217;s dimensions would be relative to the house&#8217;s dimensions.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Contrast this with using <em>absolute dimensions</em> and <em>absolute pixel coordinates</em>. For example, if we draw a yellow rectangle at coordinate <code>(100,200)</code> with a width of 300px and a height of 200px.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">rect</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">yellow</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-mi">100</span><span class="tok-p">,</span><span class="tok-mi">200</span><span class="tok-p">,</span><span class="tok-mi">300</span><span class="tok-p">,</span><span class="tok-mi">200</span><span class="tok-p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>then this would draw the same sized yellow rectangle in the same place no matter if our display was 400 X 400 or 1000 X 1000.  Worse yet if the display was 200 x 200 the yellow square would not even fit in the display.</p>
</div>
<div class="paragraph">
<p>Graphics using individual pixels only called <em>raster graphics</em>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_circle"><a class="anchor" href="#_circle"></a>2.2.2. Circle</h4>
<div class="paragraph">
<p>The Pygame function <code>pygame.draw.circle</code> draws a circle on a surface and takes either four or five arguments.</p>
</div>
<div class="paragraph">
<p>
<code class="listingblock">
pygame.draw.circle(<i>surface</i>, <i>color</i>, <i>xy</i>, radius, <i>optional-line-width</i>)
</code>
</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><em>surface</em></dt>
<dd>
<p>The surface we are going to draw the rectangle on.</p>
</dd>
<dt class="hdlist1"><em>color</em></dt>
<dd>
<p>An RGB triple</p>
</dd>
<dt class="hdlist1"><em>xy</em></dt>
<dd>
<p>A tuple that represents the \(x\) and \(y\) coordinate of the <em>center</em> of the circle.</p>
</dd>
<dt class="hdlist1"><em>optional-line-width</em></dt>
<dd>
<p>If this argument is left off then the circle is filled in with the specified color. If it is specified then it takes a width, in pixels, of the border of the circle.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Lets draw a dark gray circle centered in the upper left quadrant of the yellow square. We will do this proportionally, making the diameter of the circle 1/3 width of the quadrant. Calculating the <code>x</code> and <code>y</code> coordinates of the circle can be a little tricky. The width of the quadrant is <code>r_width//2</code></p>
</div>
<div class="paragraph">
<p>The \(x\) coordinate of the circle is relative to <code>r_x</code>, the \(x\) coordinate of the yellow rectangle. Add in 1/2 the width of the quadrant you get</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">ul_c_x</span> <span class="tok-o">=</span> <span class="tok-n">r_x</span> <span class="tok-o">+</span> <span class="tok-n">r_width</span><span class="tok-o">//</span><span class="tok-mi">4</span>   <span class="tok-c1"># ul_c_x is short for upper left circle x coordinate</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Similarly the \(y\) coordinate is</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">ul_c_y</span> <span class="tok-o">=</span> <span class="tok-n">r_y</span> <span class="tok-o">+</span> <span class="tok-n">r_height</span> <span class="tok-o">//</span> <span class="tok-mi">4</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Remember that the circle function requires the radius but the problem stated that the
diameter of the circle is 1/3 the width of the quadrant. We know the width of the quadrant is <code>r_width//2</code> and 1/3 of that is <code>r_width//2//3</code> and a radius is still 1/2 of that, so we are left with</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">ul_c_radius</span> <span class="tok-o">=</span> <span class="tok-n">r_width</span><span class="tok-o">//</span><span class="tok-mi">2</span><span class="tok-o">//</span><span class="tok-mi">3</span><span class="tok-o">//</span><span class="tok-mi">2</span> <span class="tok-c1"># or r_width // 12</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Defining a new color <code>darkgray = (100,100,100)</code> in our color module and putting it all together we have</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4</div></td><td class="code"><span></span><span class="tok-n">ul_c_x</span> <span class="tok-o">=</span> <span class="tok-n">r_x</span> <span class="tok-o">+</span> <span class="tok-n">r_width</span> <span class="tok-o">//</span> <span class="tok-mi">4</span>
<span class="tok-n">ul_c_y</span> <span class="tok-o">=</span> <span class="tok-n">r_y</span> <span class="tok-o">+</span> <span class="tok-n">r_height</span> <span class="tok-o">//</span> <span class="tok-mi">4</span>
<span class="tok-n">ul_c_radius</span> <span class="tok-o">=</span> <span class="tok-n">r_width</span><span class="tok-o">//</span><span class="tok-mi">2</span><span class="tok-o">//</span><span class="tok-mi">3</span><span class="tok-o">//</span><span class="tok-mi">2</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">circle</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">darkgray</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">ul_c_x</span><span class="tok-p">,</span><span class="tok-n">ul_c_y</span><span class="tok-p">),</span> <span class="tok-n">ul_c_radius</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>And we should get something that looks like</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./images/upper-left-circle.png" alt="upper left circle" width="300" height="200">
</div>
</div>
<div class="paragraph">
<div class="title">Exercise <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Draw another dark gray circle with the same radius centered in the upper right quadrant of the yellow rectangle.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>The only thing that changes is the \(x\) coordinate. The \(y\) coordinate and the radius
of the upper right circle are the same as the \(y\) coordinate and radius f the upper left circle. One way to think about the \(x\) coordinate is that it is 3/4 of the width of the rectangle.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4</div></td><td class="code"><span></span><span class="tok-n">ur_c_x</span> <span class="tok-o">=</span> <span class="tok-n">r_x</span> <span class="tok-o">+</span> <span class="tok-mi">3</span><span class="tok-o">*</span><span class="tok-n">r_width</span><span class="tok-o">//</span><span class="tok-mi">4</span>
<span class="tok-n">ur_c_y</span> <span class="tok-o">=</span> <span class="tok-n">r_y</span> <span class="tok-o">+</span> <span class="tok-n">r_height</span> <span class="tok-o">//</span> <span class="tok-mi">4</span>    <span class="tok-c1"># same as upper left circle</span>
<span class="tok-n">ur_c_radius</span> <span class="tok-o">=</span> <span class="tok-n">r_width</span><span class="tok-o">//</span><span class="tok-mi">2</span><span class="tok-o">//</span><span class="tok-mi">3</span><span class="tok-o">//</span><span class="tok-mi">2</span>  <span class="tok-c1"># same as upper left circle</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">circle</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">darkgray</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">ur_c_x</span><span class="tok-p">,</span> <span class="tok-n">ur_c_y</span><span class="tok-p">),</span> <span class="tok-n">ur_c_radius</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./images/upper-right-circle.png" alt="upper right circle" width="300" height="200">
</div>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Complete program <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Here is the complete program so far with the two circles in the rectangle.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">init</span><span class="tok-p">()</span>
<span class="tok-n">width</span> <span class="tok-o">=</span> <span class="tok-mi">600</span>   <span class="tok-c1"># display surface 600 pixels wide</span>
<span class="tok-n">height</span> <span class="tok-o">=</span> <span class="tok-mi">400</span>  <span class="tok-c1"># display surface is 400 pixels high</span>
<span class="tok-n">win</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">set_mode</span><span class="tok-p">((</span><span class="tok-n">width</span><span class="tok-p">,</span><span class="tok-n">height</span><span class="tok-p">))</span>

<span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">fill</span><span class="tok-p">(</span><span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">lightgray</span><span class="tok-p">)</span>

<span class="tok-c1"># set up some variable for the rectangle</span>
<span class="tok-n">r_width</span> <span class="tok-o">=</span> <span class="tok-n">width</span><span class="tok-o">//</span><span class="tok-mi">3</span>
<span class="tok-n">r_height</span> <span class="tok-o">=</span> <span class="tok-n">height</span><span class="tok-o">//</span><span class="tok-mi">3</span>
<span class="tok-n">r_x</span> <span class="tok-o">=</span> <span class="tok-n">width</span><span class="tok-o">//</span><span class="tok-mi">2</span> <span class="tok-o">-</span> <span class="tok-n">r_width</span><span class="tok-o">//</span><span class="tok-mi">2</span>
<span class="tok-n">r_y</span> <span class="tok-o">=</span> <span class="tok-n">height</span><span class="tok-o">//</span><span class="tok-mi">2</span> <span class="tok-o">-</span> <span class="tok-n">r_height</span><span class="tok-o">//</span><span class="tok-mi">2</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">rect</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">yellow</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">r_x</span><span class="tok-p">,</span><span class="tok-n">r_y</span><span class="tok-p">,</span><span class="tok-n">r_width</span><span class="tok-p">,</span><span class="tok-n">r_height</span><span class="tok-p">))</span>

<span class="tok-n">ul_c_x</span> <span class="tok-o">=</span> <span class="tok-n">r_x</span> <span class="tok-o">+</span> <span class="tok-n">r_width</span> <span class="tok-o">//</span> <span class="tok-mi">4</span>
<span class="tok-n">ul_c_y</span> <span class="tok-o">=</span> <span class="tok-n">r_y</span> <span class="tok-o">+</span> <span class="tok-n">r_height</span> <span class="tok-o">//</span> <span class="tok-mi">4</span>

<span class="tok-c1"># width of quadrant is r_width//2 then 1/3 of that is</span>
<span class="tok-c1"># the diameter, then 1/2 of that for the radius</span>
<span class="tok-n">ul_c_radius</span> <span class="tok-o">=</span> <span class="tok-n">r_width</span><span class="tok-o">//</span><span class="tok-mi">2</span><span class="tok-o">//</span><span class="tok-mi">3</span><span class="tok-o">//</span><span class="tok-mi">2</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">circle</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">darkgray</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">ul_c_x</span><span class="tok-p">,</span><span class="tok-n">ul_c_y</span><span class="tok-p">),</span> <span class="tok-n">ul_c_radius</span><span class="tok-p">)</span>

<span class="tok-n">ur_c_x</span> <span class="tok-o">=</span> <span class="tok-n">r_x</span> <span class="tok-o">+</span> <span class="tok-mi">3</span> <span class="tok-o">*</span> <span class="tok-n">r_width</span> <span class="tok-o">//</span> <span class="tok-mi">4</span>
<span class="tok-n">ur_c_y</span> <span class="tok-o">=</span> <span class="tok-n">r_y</span> <span class="tok-o">+</span> <span class="tok-n">r_height</span> <span class="tok-o">//</span> <span class="tok-mi">4</span>
<span class="tok-n">ur_c_radius</span> <span class="tok-o">=</span> <span class="tok-n">r_width</span><span class="tok-o">//</span><span class="tok-mi">2</span><span class="tok-o">//</span><span class="tok-mi">3</span><span class="tok-o">//</span><span class="tok-mi">2</span>  <span class="tok-c1"># or r_width//12</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">circle</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">darkgray</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">ur_c_x</span><span class="tok-p">,</span><span class="tok-n">ur_c_y</span><span class="tok-p">),</span> <span class="tok-n">ur_c_radius</span><span class="tok-p">)</span>

<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">update</span><span class="tok-p">()</span>

<span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s2">&quot;Hit &lt;enter&gt; when done&quot;</span><span class="tok-p">)</span></code></pre>
</div>
</div>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Notice the line for calculating the \(x\)-coordinate of the upper right circle</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ur_c_x = r_x + 3 * r_width // 4</pre>
</div>
</div>
<div class="paragraph">
<p>where we specified that it three-fourths the width of the rectangle. You might be tempted to write</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ur_c_x = r_x + 3 // 4 * r_width</pre>
</div>
</div>
<div class="paragraph">
<p>Why is the incorrect? Because <code>3//4</code> is 0!</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_ellipse"><a class="anchor" href="#_ellipse"></a>2.2.3. Ellipse</h4>
<div class="paragraph">
<p>An ellipse is an oval shape with a width and a height. In graphics an ellipse is very similar to a rectangle. In fact the function to draw an ellipse is almost exactly the same as the function to draw a rectangle.  The one part of drawing an ellipse that takes
some getting used to it that the <code>(x,y)</code> coordinate of the ellipse is the <code>(x,y)</code> coordinate of the rectangle (or <em>bounding box</em>) that surrounds the ellipse.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./images/ellipse.png" alt="ellipse">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <em>bounding box</em> is the invisible rectangle that circumscribes a geometric shape such as an ellipse, circle, or polygon.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>
<code class="listingblock">
pygame.draw.ellipse(<i>surface</i>, <i>color</i>, <i>xywh</i>, <i>optional-line-width</i>)
</code>
</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><em>surface</em></dt>
<dd>
<p>The surface we are going to draw the ellipse on.</p>
</dd>
<dt class="hdlist1"><em>color</em></dt>
<dd>
<p>An RGB triple.</p>
</dd>
<dt class="hdlist1"><em>xywh</em></dt>
<dd>
<p>A four tuple (quadruple) that represents the \(x\) and \(y\) coordinate of the upper left hand corner <em>bounding box</em>, and the width \(w\) and the height \(h\) of the ellipse.</p>
</dd>
<dt class="hdlist1"><em>optional-line-width</em></dt>
<dd>
<p>same as rectangle and circle functions.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>These are, in fact, the same arguments for drawing a rectangle.</p>
</div>
<div class="paragraph">
<p>Continuing our program from before, lets draw a pink ellipse centered in the x axis, 3/4 the width of the rectangle and two-thirds of the way down the height of the rectangle. Add <code>pink = (255, 20, 147)</code> to our <code>color.py</code> module.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5</div></td><td class="code"><span></span><span class="tok-n">e_width</span> <span class="tok-o">=</span> <span class="tok-n">r_width</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>
<span class="tok-n">e_height</span> <span class="tok-o">=</span> <span class="tok-n">r_height</span> <span class="tok-o">//</span> <span class="tok-mi">4</span>
<span class="tok-n">e_x</span> <span class="tok-o">=</span> <span class="tok-n">r_x</span> <span class="tok-o">+</span> <span class="tok-n">r_width</span> <span class="tok-o">//</span> <span class="tok-mi">2</span> <span class="tok-o">-</span> <span class="tok-n">e_width</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>
<span class="tok-n">e_y</span> <span class="tok-o">=</span> <span class="tok-n">r_y</span> <span class="tok-o">+</span> <span class="tok-mi">2</span> <span class="tok-o">*</span> <span class="tok-n">r_height</span> <span class="tok-o">//</span> <span class="tok-mi">3</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">ellipse</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">pink</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">e_x</span><span class="tok-p">,</span><span class="tok-n">e_y</span><span class="tok-p">,</span><span class="tok-n">e_width</span><span class="tok-p">,</span><span class="tok-n">e_height</span><span class="tok-p">))</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Adding this code to our running example we should get something like &#8230;&#8203;</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./images/ellipse2.png" alt="ellipse2" width="300" height="200">
</div>
</div>
<div class="paragraph">
<p>You have probably guessed by now that what is taking shape is a face, a Mr. or Mrs. Blockhead.</p>
</div>
<div class="paragraph">
<div class="title">Exercise <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Use an ellipse to add a nose above the mouth.<br>
<span class="image"><img src="./images/nose.png" alt="nose" width="300" height="200"></span></p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>There are lots of ways to do this, but you need to make it relative to the head.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5</div></td><td class="code"><span></span><span class="tok-n">n_width</span> <span class="tok-o">=</span> <span class="tok-n">r_width</span> <span class="tok-o">//</span> <span class="tok-mi">10</span>  <span class="tok-c1"># 1/10th width of head</span>
<span class="tok-n">n_height</span> <span class="tok-o">=</span> <span class="tok-n">r_height</span> <span class="tok-o">//</span> <span class="tok-mi">4</span> <span class="tok-c1"># 1/4 height of head</span>
<span class="tok-n">n_x</span> <span class="tok-o">=</span> <span class="tok-n">r_x</span> <span class="tok-o">+</span> <span class="tok-n">r_width</span> <span class="tok-o">//</span> <span class="tok-mi">2</span> <span class="tok-o">-</span> <span class="tok-n">n_width</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>  <span class="tok-c1"># centered horizontally</span>
<span class="tok-n">n_y</span> <span class="tok-o">=</span> <span class="tok-n">r_y</span> <span class="tok-o">+</span> <span class="tok-n">r_height</span> <span class="tok-o">//</span> <span class="tok-mi">2</span> <span class="tok-o">-</span> <span class="tok-n">n_height</span><span class="tok-o">//</span><span class="tok-mi">2</span>  <span class="tok-c1"># centered vertically</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">ellipse</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">blue</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">n_x</span><span class="tok-p">,</span><span class="tok-n">n_y</span><span class="tok-p">,</span><span class="tok-n">n_width</span><span class="tok-p">,</span><span class="tok-n">n_height</span><span class="tok-p">))</span>
</td></tr></table></code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Exercise <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>You can give the Blockhead a smile by drawing an ellipse over the top of the mouth shifted up slightly, and make it the same color as the background head.<br>
<span class="image"><img src="./images/smile.png" alt="smile" width="300" height="200"></span></p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>This is one line, drawing an ellipse shifted up, say 20% of the width of the mouth.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1</div></td><td class="code"><span></span><span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">ellipse</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">yellow</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">e_x</span><span class="tok-p">,</span> <span class="tok-n">e_y</span><span class="tok-p">,</span> <span class="tok-n">e_width</span><span class="tok-p">,</span> <span class="tok-n">e_height</span> <span class="tok-o">-</span> <span class="tok-o">.</span><span class="tok-mi">2</span><span class="tok-o">*</span><span class="tok-n">e_height</span><span class="tok-p">))</span>
</td></tr></table></code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Exercise</div>
<p>Give the Blockhead pupils by drawing a circle or ellipse in each eye. Make sure it is proportional!</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You can always check to see if you are making your shapes proportional if you change the dimensions of the Pygame display at the start of the program and make sure the image resizes appropriately.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_lines"><a class="anchor" href="#_lines"></a>2.2.4. Lines</h4>
<div class="paragraph">
<p>You can draw a line in Pygame using the function <code>pygame.draw.line</code>.</p>
</div>
<div class="paragraph">
<p>
<code class="listingblock">
pygame.draw.line(<i>surface</i>, <i>color</i>, <i>start-xy</i>, <i>end-xy</i>, <i>optional-line-width</i>)
</code>
</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><em>surface</em></dt>
<dd>
<p>The surface we are going to drawing the line on.</p>
</dd>
<dt class="hdlist1"><em>color</em></dt>
<dd>
<p>An RGB triple</p>
</dd>
<dt class="hdlist1"><em>start-xy</em></dt>
<dd>
<p>The \((x,y)\) coordinate of one endpoint of the line</p>
</dd>
<dt class="hdlist1"><em>end-xy</em></dt>
<dd>
<p>The \((x,y)\) coordinate of the other endpoint of the line</p>
</dd>
<dt class="hdlist1"><em>optional-line-width</em></dt>
<dd>
<p>The width of the line in pixels</p>
</dd>
</dl>
</div>
<div class="paragraph">
<div class="title">Exercise  <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Draw a cross through the left eye.<br>
<span class="image"><img src="./images/eye-cross.png" alt="eye cross" width="300" height="200"></span></p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6
7</div></td><td class="code"><span></span><span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">line</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">white</span><span class="tok-p">,</span>
                 <span class="tok-p">(</span><span class="tok-n">ul_c_x</span><span class="tok-p">,</span> <span class="tok-n">ul_c_y</span> <span class="tok-o">-</span> <span class="tok-n">ul_c_radius</span><span class="tok-p">),</span>
                 <span class="tok-p">(</span><span class="tok-n">ul_c_x</span><span class="tok-p">,</span> <span class="tok-n">ul_c_y</span> <span class="tok-o">+</span> <span class="tok-n">ul_c_radius</span><span class="tok-p">))</span>

<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">line</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">white</span><span class="tok-p">,</span>
                 <span class="tok-p">(</span><span class="tok-n">ul_c_x</span> <span class="tok-o">-</span> <span class="tok-n">ul_c_radius</span><span class="tok-p">,</span> <span class="tok-n">ul_c_y</span><span class="tok-p">),</span>
                 <span class="tok-p">(</span><span class="tok-n">ul_c_x</span> <span class="tok-o">+</span> <span class="tok-n">ul_c_radius</span><span class="tok-p">,</span> <span class="tok-n">ul_c_y</span><span class="tok-p">))</span>
</td></tr></table></code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>There are other Pygame drawing functions that we will introduce as needed. You can make an astonishing number of drawing from rectangles, circles, ellipses, and lines.</p>
</div>
<div class="paragraph">
<div class="title">Our Complete Blockhead <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Variables have been renamed to be more meaningful. For example <code>ul_c_x</code> which stood for (<em>upper left circle x coordinate</em>) is now <code>left_eye_x</code> and so on.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-kn">import</span> <span class="tok-nn">pygame</span><span class="tok-o">,</span> <span class="tok-nn">color</span>

<span class="tok-c1"># initial pygame stuff</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">init</span><span class="tok-p">()</span>
<span class="tok-n">width</span> <span class="tok-o">=</span> <span class="tok-mi">600</span>   <span class="tok-c1"># display surface 600 pixels wide</span>
<span class="tok-n">height</span> <span class="tok-o">=</span> <span class="tok-mi">400</span>  <span class="tok-c1"># display surface is 400 pixels high</span>
<span class="tok-n">win</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">set_mode</span><span class="tok-p">((</span><span class="tok-n">width</span><span class="tok-p">,</span><span class="tok-n">height</span><span class="tok-p">))</span>

<span class="tok-c1"># create the background</span>
<span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">fill</span><span class="tok-p">(</span><span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">lightgray</span><span class="tok-p">)</span>

<span class="tok-c1"># set up some variable for the head</span>
<span class="tok-n">head_width</span> <span class="tok-o">=</span> <span class="tok-n">width</span> <span class="tok-o">//</span> <span class="tok-mi">3</span>
<span class="tok-n">head_height</span> <span class="tok-o">=</span> <span class="tok-n">height</span> <span class="tok-o">//</span> <span class="tok-mi">3</span>
<span class="tok-n">head_x</span> <span class="tok-o">=</span> <span class="tok-n">width</span> <span class="tok-o">//</span> <span class="tok-mi">2</span> <span class="tok-o">-</span> <span class="tok-n">head_width</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>
<span class="tok-n">head_y</span> <span class="tok-o">=</span> <span class="tok-n">height</span> <span class="tok-o">//</span> <span class="tok-mi">2</span> <span class="tok-o">-</span> <span class="tok-n">head_height</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">rect</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">yellow</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">head_x</span><span class="tok-p">,</span> <span class="tok-n">head_y</span><span class="tok-p">,</span> <span class="tok-n">head_width</span><span class="tok-p">,</span> <span class="tok-n">head_height</span><span class="tok-p">))</span>

<span class="tok-c1"># left eye</span>
<span class="tok-n">left_eye_x</span> <span class="tok-o">=</span> <span class="tok-n">head_x</span> <span class="tok-o">+</span> <span class="tok-n">head_width</span> <span class="tok-o">//</span> <span class="tok-mi">4</span>
<span class="tok-n">left_eye_y</span> <span class="tok-o">=</span> <span class="tok-n">head_y</span> <span class="tok-o">+</span> <span class="tok-n">head_height</span> <span class="tok-o">//</span> <span class="tok-mi">4</span>
<span class="tok-n">left_eye_r</span> <span class="tok-o">=</span> <span class="tok-n">head_width</span> <span class="tok-o">//</span> <span class="tok-mi">2</span> <span class="tok-o">//</span> <span class="tok-mi">3</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>  <span class="tok-c1"># width of quadrant is r_width//2 then 1/3 of that</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">circle</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">darkgray</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">left_eye_x</span><span class="tok-p">,</span> <span class="tok-n">left_eye_y</span><span class="tok-p">),</span> <span class="tok-n">left_eye_r</span><span class="tok-p">)</span>

<span class="tok-c1"># left eye cross</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">line</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">white</span><span class="tok-p">,</span>
                 <span class="tok-p">(</span><span class="tok-n">left_eye_x</span><span class="tok-p">,</span> <span class="tok-n">left_eye_y</span> <span class="tok-o">-</span> <span class="tok-n">left_eye_r</span><span class="tok-p">),</span>
                 <span class="tok-p">(</span><span class="tok-n">left_eye_x</span><span class="tok-p">,</span> <span class="tok-n">left_eye_y</span> <span class="tok-o">+</span> <span class="tok-n">left_eye_r</span><span class="tok-p">))</span>

<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">line</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">white</span><span class="tok-p">,</span>
                 <span class="tok-p">(</span><span class="tok-n">left_eye_x</span> <span class="tok-o">-</span> <span class="tok-n">left_eye_r</span><span class="tok-p">,</span> <span class="tok-n">left_eye_y</span><span class="tok-p">),</span>
                 <span class="tok-p">(</span><span class="tok-n">left_eye_x</span> <span class="tok-o">+</span> <span class="tok-n">left_eye_r</span><span class="tok-p">,</span> <span class="tok-n">left_eye_y</span><span class="tok-p">))</span>

<span class="tok-c1"># right eye</span>
<span class="tok-n">right_eye_x</span> <span class="tok-o">=</span> <span class="tok-n">head_x</span> <span class="tok-o">+</span> <span class="tok-mi">3</span> <span class="tok-o">*</span> <span class="tok-n">head_width</span> <span class="tok-o">//</span> <span class="tok-mi">4</span>
<span class="tok-n">right_eye_y</span> <span class="tok-o">=</span> <span class="tok-n">head_y</span> <span class="tok-o">+</span> <span class="tok-n">head_height</span> <span class="tok-o">//</span> <span class="tok-mi">4</span>
<span class="tok-n">right_eye_r</span> <span class="tok-o">=</span> <span class="tok-n">head_width</span> <span class="tok-o">//</span> <span class="tok-mi">2</span> <span class="tok-o">//</span> <span class="tok-mi">3</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>  <span class="tok-c1"># width of quadrant is r_width//2 then 1/3 of that</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">circle</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">darkgray</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">right_eye_x</span><span class="tok-p">,</span> <span class="tok-n">right_eye_y</span><span class="tok-p">),</span> <span class="tok-n">right_eye_r</span><span class="tok-p">)</span>

<span class="tok-c1"># mouth</span>
<span class="tok-n">mouth_width</span> <span class="tok-o">=</span> <span class="tok-n">head_width</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>
<span class="tok-n">mouth_height</span> <span class="tok-o">=</span> <span class="tok-n">head_height</span> <span class="tok-o">//</span> <span class="tok-mi">4</span>
<span class="tok-n">mouth_x</span> <span class="tok-o">=</span> <span class="tok-n">head_x</span> <span class="tok-o">+</span> <span class="tok-n">head_width</span> <span class="tok-o">//</span> <span class="tok-mi">2</span> <span class="tok-o">-</span> <span class="tok-n">mouth_width</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>
<span class="tok-n">mouth_y</span> <span class="tok-o">=</span> <span class="tok-n">head_y</span> <span class="tok-o">+</span> <span class="tok-mi">2</span> <span class="tok-o">*</span> <span class="tok-n">head_height</span> <span class="tok-o">//</span> <span class="tok-mi">3</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">ellipse</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">pink</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">mouth_x</span><span class="tok-p">,</span> <span class="tok-n">mouth_y</span><span class="tok-p">,</span> <span class="tok-n">mouth_width</span><span class="tok-p">,</span> <span class="tok-n">mouth_height</span><span class="tok-p">))</span>

<span class="tok-c1"># smile</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">ellipse</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">yellow</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">mouth_x</span><span class="tok-p">,</span> <span class="tok-n">mouth_y</span><span class="tok-p">,</span> <span class="tok-n">mouth_width</span><span class="tok-p">,</span> <span class="tok-n">mouth_height</span> <span class="tok-o">-</span> <span class="tok-o">.</span><span class="tok-mi">2</span> <span class="tok-o">*</span> <span class="tok-n">mouth_height</span><span class="tok-p">))</span>

<span class="tok-c1"># add a nose</span>
<span class="tok-n">nose_width</span> <span class="tok-o">=</span> <span class="tok-n">head_width</span> <span class="tok-o">//</span> <span class="tok-mi">10</span>  <span class="tok-c1"># 1/10th width of head</span>
<span class="tok-n">nose_height</span> <span class="tok-o">=</span> <span class="tok-n">head_height</span> <span class="tok-o">//</span> <span class="tok-mi">4</span> <span class="tok-c1"># 1/4 height of head</span>
<span class="tok-n">nose_x</span> <span class="tok-o">=</span> <span class="tok-n">head_x</span> <span class="tok-o">+</span> <span class="tok-n">head_width</span> <span class="tok-o">//</span> <span class="tok-mi">2</span> <span class="tok-o">-</span> <span class="tok-n">nose_width</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>  <span class="tok-c1"># centered horizontally</span>
<span class="tok-n">nose_y</span> <span class="tok-o">=</span> <span class="tok-n">head_y</span> <span class="tok-o">+</span> <span class="tok-n">head_height</span> <span class="tok-o">//</span> <span class="tok-mi">2</span> <span class="tok-o">-</span> <span class="tok-n">nose_height</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>  <span class="tok-c1"># centered vertically</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">ellipse</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">blue</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">nose_x</span><span class="tok-p">,</span> <span class="tok-n">nose_y</span><span class="tok-p">,</span> <span class="tok-n">nose_width</span><span class="tok-p">,</span> <span class="tok-n">nose_height</span><span class="tok-p">))</span>

<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">update</span><span class="tok-p">()</span>

<span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s2">&quot;Hit &lt;enter&gt; when done&quot;</span><span class="tok-p">)</span>
<span class="tok-n">include</span><span class="tok-p">:</span><span class="tok-n">python</span><span class="tok-o">/</span><span class="tok-n">blockhead</span><span class="tok-o">.</span><span class="tok-n">py</span></code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Exercise</div>
<p>Complete the Blockhead adding ears, hair, a hat. Make sure it stays proportional.</p>
</div>
</div>
<div class="sect3">
<h4 id="_sample_blockheads"><a class="anchor" href="#_sample_blockheads"></a>2.2.5. Sample Blockheads</h4>
<div class="paragraph">
<p>To give you some ideas here are some of the blockheads that have been turned in over the years as assignments.<sup class="footnote">[<a id="_footnoteref_5" class="footnote" href="#_footnotedef_5" title="View footnote.">5</a>]</sup></p>
</div>
<div class="paragraph">
<div class="title">Example 1 <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p><span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="imageblock text-center">
<div class="content">
<img src="./images/sbh.png" alt="sbh" width="300" height="200">
</div>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Example 2 <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p><span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="imageblock text-center">
<div class="content">
<img src="./images/minion.png" alt="minion" width="300" height="200">
</div>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Example 3 <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p><span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="imageblock text-center">
<div class="content">
<img src="./images/pumpkin.png" alt="pumpkin" width="300" height="200">
</div>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Example 4 <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p><span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="imageblock text-center">
<div class="content">
<img src="./images/spongebob.png" alt="spongebob" width="300" height="200">
</div>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Example 5 <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p><span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="imageblock text-center">
<div class="content">
<img src="./images/grumpy.png" alt="grumpy" width="300" height="200">
</div>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Example 6 <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p><span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="imageblock text-center">
<div class="content">
<img src="./images/doodlebug.png" alt="doodlebug" width="300" height="200">
</div>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Example 7 <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p><span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="imageblock text-center">
<div class="content">
<img src="./images/twjone16.png" alt="twjone16" width="300" height="200">
</div>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Example 8 <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p><span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="imageblock text-center">
<div class="content">
<img src="./images/dlgold16.png" alt="dlgold16" width="300" height="200">
</div>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Example 9 <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p><span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="imageblock text-center">
<div class="content">
<img src="./images/djang16.png" alt="djang16" width="300" height="200">
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_exercises_2"><a class="anchor" href="#_exercises_2"></a>2.3. Exercises</h3>
<div class="paragraph">
<div class="title">Exercise 1 - Multiple Choice</div>
<p>Answer questions about the following code fragment.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</div></td><td class="code"><span></span><span class="tok-kn">import</span> <span class="tok-nn">color</span>   <span class="tok-c1"># this is the color.py file we just wrote above</span>
<span class="tok-kn">import</span> <span class="tok-nn">pygame</span>

<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">init</span><span class="tok-p">()</span>
<span class="tok-n">width</span> <span class="tok-o">=</span> <span class="tok-mi">600</span>
<span class="tok-n">height</span> <span class="tok-o">=</span> <span class="tok-mi">500</span>
<span class="tok-n">win</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">set_mode</span><span class="tok-p">((</span><span class="tok-n">width</span><span class="tok-p">,</span><span class="tok-n">height</span><span class="tok-p">))</span>
<span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">fill</span><span class="tok-p">(</span><span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">burntsienna</span><span class="tok-p">)</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">update</span><span class="tok-p">()</span>
<span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s2">&quot;Hit &lt;enter&gt; to quit.&quot;</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the statement <code>win.fill(color.burntsienna)</code>, <code>win</code> is an example of a/an (choose <em>the best</em> answer)</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>variable</p>
</li>
<li>
<p>object reference</p>
</li>
<li>
<p>function</p>
</li>
<li>
<p>method</p>
</li>
<li>
<p>module</p>
</li>
</ol>
</div>
</li>
<li>
<p>In the statement <code>win.fill(color.burntsienna)</code>, <code>fill</code> is an example of a/an (choose <em>the best</em> answer)</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>variable</p>
</li>
<li>
<p>object reference</p>
</li>
<li>
<p>function</p>
</li>
<li>
<p>method</p>
</li>
<li>
<p>module</p>
</li>
</ol>
</div>
</li>
<li>
<p>In the statement <code>pygame.display.update()</code>, <code>update</code> is an example of a/an (choose <em>the best</em> answer)</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>variable</p>
</li>
<li>
<p>object reference</p>
</li>
<li>
<p>function</p>
</li>
<li>
<p>method</p>
</li>
<li>
<p>module</p>
</li>
</ol>
</div>
</li>
<li>
<p>In the statement <code>pygame.display.update()</code>, <code>pygame</code> is an example of a/an (choose <em>the best</em> answer)</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>variable</p>
</li>
<li>
<p>object reference</p>
</li>
<li>
<p>function</p>
</li>
<li>
<p>method</p>
</li>
<li>
<p>module</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Exercise 2 - Python Values <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>So far we have encountered six different kinds of Python values. For example, integers are one. Name the others.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>integers, floating-point numbers, strings, <code>None</code>, tuples, and object references</p>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Exercise 3 - Smiley</div>
<p>Write a Python/pygame program that reproduces the smiley below.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./images/smiley.png" alt="smiley" width="300" height="200">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_terminology_2"><a class="anchor" href="#_terminology_2"></a>2.4. Terminology</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Terminology</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>pixel</p>
</li>
<li>
<p>reference</p>
</li>
<li>
<p>display surface</p>
</li>
<li>
<p>off-by-one error</p>
</li>
<li>
<p>vector graphics</p>
</li>
<li>
<p>object</p>
</li>
<li>
<p>bounding box</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>tuple</p>
</li>
<li>
<p>Integrated Development Environment (IDE)</p>
</li>
<li>
<p>surface</p>
</li>
<li>
<p>proportional graphics</p>
</li>
<li>
<p>raster graphics</p>
</li>
<li>
<p>method</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_pygame_functions"><a class="anchor" href="#_pygame_functions"></a>2.5. Pygame Functions</h3>
<div class="ulist">
<ul>
<li>
<p><code>pygame.init</code></p>
</li>
<li>
<p><code>pygame.display.set_mode</code></p>
</li>
<li>
<p><code>surface.fill</code></p>
</li>
<li>
<p><code>pygame.display.update</code></p>
</li>
<li>
<p><code>pygame.draw.rect</code></p>
</li>
<li>
<p><code>pygame.draw.circle</code></p>
</li>
<li>
<p><code>pygame.draw.ellipse</code></p>
</li>
<li>
<p><code>pygame.draw.line</code></p>
</li>
<li>
<p><code>pygame.draw.arc</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_functions"><a class="anchor" href="#_functions"></a>3. Functions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Functions play a massively important role in programming. They encapsulate common computations and keep programmers from having to reinvent the wheel.
You can just use the <code>math.sqrt</code> function. You don&#8217;t have to write it yourself.</p>
</div>
<div class="paragraph">
<p>Recall that in mathematics a <em>function</em> maps values in a <em>domain</em> to values in a <em>range</em>. In Python the <code>math.sqrt</code> function maps 4 to 2.0, 9 to 3.0, and 2 to 1.4142135623730951.<sup class="footnote">[<a id="_footnoteref_6" class="footnote" href="#_footnotedef_6" title="View footnote.">6</a>]</sup></p>
</div>
<div class="imageblock text-cener">
<div class="content">
<img src="./images/sqrt-func.png" alt="sqrt func" width="604" height="226">
</div>
<div class="title">Figure 4. <code>math.sqrt</code> function</div>
</div>
<div class="paragraph">
<p>The round function maps <code>round(3.56,1)</code> to <code>3.6</code>. <strong><em>Functions return values</em></strong>. Always. But sometimes we don&#8217;t care about the return value. In Python functions sometimes return the special value <code>None</code>, which essentially means the function does not "really" return a value.<sup class="footnote">[<a id="_footnoteref_7" class="footnote" href="#_footnotedef_7" title="View footnote.">7</a>]</sup>. For example, the <code>print</code> function returns the value <code>None</code> but has the <em>side effect</em> of printing its arguments on the console.</p>
</div>
<div class="imageblock text-cener">
<div class="content">
<img src="./images/print-func.png" alt="print func" width="604" height="226">
</div>
<div class="title">Figure 5. <code>print</code> function</div>
</div>
<div class="paragraph">
<p>We saw earlier that</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1</div></td><td class="code"><span></span><span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;Hello World&quot;</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>will print <em>Hello World</em> on the console, but <code>print</code> also returned the <code>None</code> value.</p>
</div>
<div class="paragraph">
<p>The following looks strange, but is legit, and almost certainly not what was intended.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1</div></td><td class="code"><span></span><span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;Hello World&quot;</span><span class="tok-p">))</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Self Check <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>What would get printed by the code above?</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2</div></td><td class="code"><span></span><span class="tok-n">Hello</span> <span class="tok-n">World</span>
<span class="tok-bp">None</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>The inner <code>print</code> prints <em>Hello World</em> to the console and returns <code>None</code> to the outer <code>print</code>, which it prints the console. Again, strange, and almost certainly not what was intended.</p>
</div>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<code>None</code> is an actual value in Python like <code>3</code> and <code>3.14</code>, <code>"Hello"</code>, and <code>'Goodbye'</code>. It is the value that means <em>no value</em>. You will rarely ever use it explicitly.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_calling_functions"><a class="anchor" href="#_calling_functions"></a>3.1. Calling Functions</h3>
<div class="paragraph">
<p>Lets get a little more formal about calling functions. Consider the statement</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;Hello World&quot;</span><span class="tok-p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>We say that we are <em>calling</em> the <code>print</code> function and <em>passing</em> the argument <code>Hello World</code>. Passing an argument means we send the value to the function.</p>
</div>
<div class="paragraph">
<p>Consider our previous program where we needed to compute \(sin(\sqrt{\pi/4})\) &#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2</div></td><td class="code"><span></span><span class="tok-n">result</span> <span class="tok-o">=</span> <span class="tok-n">math</span><span class="tok-o">.</span><span class="tok-n">sin</span><span class="tok-p">(</span><span class="tok-n">math</span><span class="tok-o">.</span><span class="tok-n">sqrt</span><span class="tok-p">(</span><span class="tok-n">math</span><span class="tok-o">.</span><span class="tok-n">pi</span><span class="tok-o">/</span><span class="tok-mi">4</span><span class="tok-p">))</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-nb">round</span><span class="tok-p">(</span><span class="tok-n">result</span><span class="tok-p">,</span> <span class="tok-mi">2</span><span class="tok-p">))</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>How many function calls are there in the two lines above? Explain all of the arguments and return values.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>The first line contains two function calls. First <code>math.sqrt</code> is called with the argument <code>math.pi/4</code>. Then <code>math.sin</code> is called and uses the value returned from the <code>math.sqrt</code> call as its arguments. The return value of <code>math.sin</code> is then assigned to the variable <code>result</code>. The second line contains two function calls as well. First <code>round</code> is called with <em>two</em> arguments, <code>result</code> and <code>2</code>. <code>result</code> is the value being rounded and <code>2</code> is the number of places to round to. The return value from <code>round</code> is then used as the only argument to the <code>print</code> function.</p>
</div>
<div class="paragraph">
<p>In total there are four function calls and five arguments involved.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_defining_functions"><a class="anchor" href="#_defining_functions"></a>3.2. Defining Functions</h3>
<div class="paragraph">
<p>The real power with functions is that programmers get to define our own. Functions allow us to encapsulate commonly occurring computations. Lets go back to our rather banal example of our formula to convert a Fahrenheit temperature to Celsius. Rather than having to keep remembering the formula we can just define a function.</p>
</div>
<div class="listingblock">
<div class="title">util.py</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3</div></td><td class="code"><span></span><span class="tok-k">def</span> <span class="tok-nf">f2c</span><span class="tok-p">(</span><span class="tok-n">f</span><span class="tok-p">):</span>              <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-n">c</span> <span class="tok-o">=</span> <span class="tok-mi">5</span> <span class="tok-o">/</span> <span class="tok-mi">9</span> <span class="tok-o">*</span> <span class="tok-p">(</span><span class="tok-n">f</span> <span class="tok-o">-</span> <span class="tok-mi">32</span><span class="tok-p">)</span> <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="tok-k">return</span> <span class="tok-n">c</span>             <i class="conum" data-value="3"></i><b>(3)</b>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>This is the <em>function header</em>. It tells Python we are defining our own function and it takes one <em>parameter</em> <code>f</code>. The value of <code>f</code> is determined by the argument when <code>f2c</code> is called.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>This is the main part of the function that does the computation. It defines a <em>local variable</em> <code>c</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>This is the return statement that indicates that function <code>f2c</code> returns the value <code>c</code> to the <em>caller</em> that was just computed.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Lines 2 and 3 constitute the <em>function body</em>, which is indented under the function header.</p>
</div>
<div class="paragraph">
<p>We now have our own function for converting Fahrenheit to Celsius and we can tuck it away in a file somewhere so we can reuse it later.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./images/f2c-func.png" alt="f2c func">
</div>
</div>
<div class="paragraph">
<p>We can use <code>f2c</code> in a program by <em>calling</em> it with an argument.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">f2c</span><span class="tok-p">(</span><span class="tok-mi">32</span><span class="tok-p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>We call this the <em>main program</em>. The main program is any code that exists outside of a function.</p>
</div>
<div class="paragraph">
<div class="title">Self check <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Why is the following line incorrect?<br>
<code>f2c(32)</code></p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>Because <code>f2c</code> returns a value, and this line does not do anything with that value. It doesn&#8217;t print it or use it in another computation.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>It is a common mistake for students to confuse a function <em>returning a value</em> and a <em>function printing a value</em>. Consider this version of <code>f2c</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3</div></td><td class="code"><span></span><span class="tok-k">def</span> <span class="tok-nf">f2c</span><span class="tok-p">(</span><span class="tok-n">f</span><span class="tok-p">):</span>
    <span class="tok-n">c</span> <span class="tok-o">=</span> <span class="tok-mi">5</span> <span class="tok-o">/</span> <span class="tok-mi">9</span> <span class="tok-o">*</span> <span class="tok-p">(</span><span class="tok-n">f</span> <span class="tok-o">-</span> <span class="tok-mi">32</span><span class="tok-p">)</span>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">c</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>This function returns the value <code>None</code> and, as a side effect, prints the value of the variable <code>c</code> on the console. This function is not technically wrong. It does not have a syntax error, nor a run-time error, or even a logic error. But it is in some way inferior to the first version of <code>f2c</code>. Consider the following program.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2</div></td><td class="code"><span></span><span class="tok-n">t</span> <span class="tok-o">=</span> <span class="tok-nb">float</span><span class="tok-p">(</span><span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s2">&quot;Enter a temperature: &quot;</span><span class="tok-p">))</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">f2c</span><span class="tok-p">(</span><span class="tok-n">t</span><span class="tok-p">)</span> <span class="tok-o">+</span>  <span class="tok-mi">100</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>This program reads a temperature from the user and puts it in the variable <code>t</code>. It then converts <code>t</code> to Celsius and adds 100 degrees Celsius to the result and printing the final value. For the first version of <code>f2c</code> this works fine. But the second version crashes because it tries to add 100 to <code>None</code>.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
A function that returns a value is not the same thing as the function printing a value.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_putting_functions_in_a_module"><a class="anchor" href="#_putting_functions_in_a_module"></a>3.2.1. Putting functions in a module</h4>
<div class="paragraph">
<p>Since we will be using the <code>f2c</code> function later in the text it is a good idea to place general functions in a module, such as <code>util.py</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4</div></td><td class="code"><span></span><span class="tok-kn">import</span> <span class="tok-nn">util</span>

<span class="tok-n">t</span> <span class="tok-o">=</span> <span class="tok-nb">float</span><span class="tok-p">(</span><span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s2">&quot;Enter a temperature: &quot;</span><span class="tok-p">))</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">util</span><span class="tok-o">.</span><span class="tok-n">f2c</span><span class="tok-p">(</span><span class="tok-n">t</span><span class="tok-p">)</span> <span class="tok-o">+</span>  <span class="tok-mi">100</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_functions_for_their_side_effect"><a class="anchor" href="#_functions_for_their_side_effect"></a>3.3. Functions for their side effect</h3>
<div class="paragraph">
<p>Functions return values. Some functions, such as <code>print</code>, return <code>None</code> but are used for their <em>side effect</em>.</p>
</div>
<div class="paragraph">
<p>Recall our complete blockhead program from before.</p>
</div>
<div class="paragraph">
<div class="title">Our Complete Blockhead <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p><span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-kn">import</span> <span class="tok-nn">pygame</span><span class="tok-o">,</span> <span class="tok-nn">color</span>

<span class="tok-c1"># initial pygame stuff</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">init</span><span class="tok-p">()</span>
<span class="tok-n">width</span> <span class="tok-o">=</span> <span class="tok-mi">600</span>   <span class="tok-c1"># display surface 600 pixels wide</span>
<span class="tok-n">height</span> <span class="tok-o">=</span> <span class="tok-mi">400</span>  <span class="tok-c1"># display surface is 400 pixels high</span>
<span class="tok-n">win</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">set_mode</span><span class="tok-p">((</span><span class="tok-n">width</span><span class="tok-p">,</span><span class="tok-n">height</span><span class="tok-p">))</span>

<span class="tok-c1"># create the background</span>
<span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">fill</span><span class="tok-p">(</span><span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">lightgray</span><span class="tok-p">)</span>

<span class="tok-c1"># set up some variable for the head</span>
<span class="tok-n">head_width</span> <span class="tok-o">=</span> <span class="tok-n">width</span> <span class="tok-o">//</span> <span class="tok-mi">3</span>
<span class="tok-n">head_height</span> <span class="tok-o">=</span> <span class="tok-n">height</span> <span class="tok-o">//</span> <span class="tok-mi">3</span>
<span class="tok-n">head_x</span> <span class="tok-o">=</span> <span class="tok-n">width</span> <span class="tok-o">//</span> <span class="tok-mi">2</span> <span class="tok-o">-</span> <span class="tok-n">head_width</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>
<span class="tok-n">head_y</span> <span class="tok-o">=</span> <span class="tok-n">height</span> <span class="tok-o">//</span> <span class="tok-mi">2</span> <span class="tok-o">-</span> <span class="tok-n">head_height</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">rect</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">yellow</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">head_x</span><span class="tok-p">,</span> <span class="tok-n">head_y</span><span class="tok-p">,</span> <span class="tok-n">head_width</span><span class="tok-p">,</span> <span class="tok-n">head_height</span><span class="tok-p">))</span>

<span class="tok-c1"># left eye</span>
<span class="tok-n">left_eye_x</span> <span class="tok-o">=</span> <span class="tok-n">head_x</span> <span class="tok-o">+</span> <span class="tok-n">head_width</span> <span class="tok-o">//</span> <span class="tok-mi">4</span>
<span class="tok-n">left_eye_y</span> <span class="tok-o">=</span> <span class="tok-n">head_y</span> <span class="tok-o">+</span> <span class="tok-n">head_height</span> <span class="tok-o">//</span> <span class="tok-mi">4</span>
<span class="tok-n">left_eye_r</span> <span class="tok-o">=</span> <span class="tok-n">head_width</span> <span class="tok-o">//</span> <span class="tok-mi">2</span> <span class="tok-o">//</span> <span class="tok-mi">3</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>  <span class="tok-c1"># width of quadrant is r_width//2 then 1/3 of that</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">circle</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">darkgray</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">left_eye_x</span><span class="tok-p">,</span> <span class="tok-n">left_eye_y</span><span class="tok-p">),</span> <span class="tok-n">left_eye_r</span><span class="tok-p">)</span>

<span class="tok-c1"># left eye cross</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">line</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">white</span><span class="tok-p">,</span>
                 <span class="tok-p">(</span><span class="tok-n">left_eye_x</span><span class="tok-p">,</span> <span class="tok-n">left_eye_y</span> <span class="tok-o">-</span> <span class="tok-n">left_eye_r</span><span class="tok-p">),</span>
                 <span class="tok-p">(</span><span class="tok-n">left_eye_x</span><span class="tok-p">,</span> <span class="tok-n">left_eye_y</span> <span class="tok-o">+</span> <span class="tok-n">left_eye_r</span><span class="tok-p">))</span>

<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">line</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">white</span><span class="tok-p">,</span>
                 <span class="tok-p">(</span><span class="tok-n">left_eye_x</span> <span class="tok-o">-</span> <span class="tok-n">left_eye_r</span><span class="tok-p">,</span> <span class="tok-n">left_eye_y</span><span class="tok-p">),</span>
                 <span class="tok-p">(</span><span class="tok-n">left_eye_x</span> <span class="tok-o">+</span> <span class="tok-n">left_eye_r</span><span class="tok-p">,</span> <span class="tok-n">left_eye_y</span><span class="tok-p">))</span>

<span class="tok-c1"># right eye</span>
<span class="tok-n">right_eye_x</span> <span class="tok-o">=</span> <span class="tok-n">head_x</span> <span class="tok-o">+</span> <span class="tok-mi">3</span> <span class="tok-o">*</span> <span class="tok-n">head_width</span> <span class="tok-o">//</span> <span class="tok-mi">4</span>
<span class="tok-n">right_eye_y</span> <span class="tok-o">=</span> <span class="tok-n">head_y</span> <span class="tok-o">+</span> <span class="tok-n">head_height</span> <span class="tok-o">//</span> <span class="tok-mi">4</span>
<span class="tok-n">right_eye_r</span> <span class="tok-o">=</span> <span class="tok-n">head_width</span> <span class="tok-o">//</span> <span class="tok-mi">2</span> <span class="tok-o">//</span> <span class="tok-mi">3</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>  <span class="tok-c1"># width of quadrant is r_width//2 then 1/3 of that</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">circle</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">darkgray</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">right_eye_x</span><span class="tok-p">,</span> <span class="tok-n">right_eye_y</span><span class="tok-p">),</span> <span class="tok-n">right_eye_r</span><span class="tok-p">)</span>

<span class="tok-c1"># mouth</span>
<span class="tok-n">mouth_width</span> <span class="tok-o">=</span> <span class="tok-n">head_width</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>
<span class="tok-n">mouth_height</span> <span class="tok-o">=</span> <span class="tok-n">head_height</span> <span class="tok-o">//</span> <span class="tok-mi">4</span>
<span class="tok-n">mouth_x</span> <span class="tok-o">=</span> <span class="tok-n">head_x</span> <span class="tok-o">+</span> <span class="tok-n">head_width</span> <span class="tok-o">//</span> <span class="tok-mi">2</span> <span class="tok-o">-</span> <span class="tok-n">mouth_width</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>
<span class="tok-n">mouth_y</span> <span class="tok-o">=</span> <span class="tok-n">head_y</span> <span class="tok-o">+</span> <span class="tok-mi">2</span> <span class="tok-o">*</span> <span class="tok-n">head_height</span> <span class="tok-o">//</span> <span class="tok-mi">3</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">ellipse</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">pink</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">mouth_x</span><span class="tok-p">,</span> <span class="tok-n">mouth_y</span><span class="tok-p">,</span> <span class="tok-n">mouth_width</span><span class="tok-p">,</span> <span class="tok-n">mouth_height</span><span class="tok-p">))</span>

<span class="tok-c1"># smile</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">ellipse</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">yellow</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">mouth_x</span><span class="tok-p">,</span> <span class="tok-n">mouth_y</span><span class="tok-p">,</span> <span class="tok-n">mouth_width</span><span class="tok-p">,</span> <span class="tok-n">mouth_height</span> <span class="tok-o">-</span> <span class="tok-o">.</span><span class="tok-mi">2</span> <span class="tok-o">*</span> <span class="tok-n">mouth_height</span><span class="tok-p">))</span>

<span class="tok-c1"># add a nose</span>
<span class="tok-n">nose_width</span> <span class="tok-o">=</span> <span class="tok-n">head_width</span> <span class="tok-o">//</span> <span class="tok-mi">10</span>  <span class="tok-c1"># 1/10th width of head</span>
<span class="tok-n">nose_height</span> <span class="tok-o">=</span> <span class="tok-n">head_height</span> <span class="tok-o">//</span> <span class="tok-mi">4</span> <span class="tok-c1"># 1/4 height of head</span>
<span class="tok-n">nose_x</span> <span class="tok-o">=</span> <span class="tok-n">head_x</span> <span class="tok-o">+</span> <span class="tok-n">head_width</span> <span class="tok-o">//</span> <span class="tok-mi">2</span> <span class="tok-o">-</span> <span class="tok-n">nose_width</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>  <span class="tok-c1"># centered horizontally</span>
<span class="tok-n">nose_y</span> <span class="tok-o">=</span> <span class="tok-n">head_y</span> <span class="tok-o">+</span> <span class="tok-n">head_height</span> <span class="tok-o">//</span> <span class="tok-mi">2</span> <span class="tok-o">-</span> <span class="tok-n">nose_height</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>  <span class="tok-c1"># centered vertically</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">ellipse</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">blue</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">nose_x</span><span class="tok-p">,</span> <span class="tok-n">nose_y</span><span class="tok-p">,</span> <span class="tok-n">nose_width</span><span class="tok-p">,</span> <span class="tok-n">nose_height</span><span class="tok-p">))</span>

<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">update</span><span class="tok-p">()</span>

<span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s2">&quot;Hit &lt;enter&gt; when done&quot;</span><span class="tok-p">)</span>
<span class="tok-n">include</span><span class="tok-p">:</span><span class="tok-n">python</span><span class="tok-o">/</span><span class="tok-n">blockhead</span><span class="tok-o">.</span><span class="tok-n">py</span></code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>What if we wanted to draw two or more blockheads on the display surface? One way is to make another copy of the code, and change lots of variable names etc. This is a perfect situation where we can write a function <code>blockhead</code> that we can call more than once.</p>
</div>
<div class="paragraph">
<p>In keeping with the way drawing rectangle works specifying the Blockhead&#8217;s \(x\) and \(y\) coordinate along with its width and height makes sense:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2</div></td><td class="code"><span></span><span class="tok-k">def</span> <span class="tok-nf">draw_blockhead</span><span class="tok-p">(</span><span class="tok-n">head_x</span><span class="tok-p">,</span> <span class="tok-n">head_y</span><span class="tok-p">,</span> <span class="tok-n">head_w</span><span class="tok-p">,</span> <span class="tok-n">head_h</span><span class="tok-p">):</span>
    <span class="tok-k">pass</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>This is just the function header. The Python statement <code>pass</code> is the statement that does nothing. We are using it here as a placeholder for the function body, which we have not yet written.</p>
</div>
<div class="paragraph">
<p>So what we&#8217;ll do now is place all of the code used for the drawing inside the function and make sure that we use the parameters to initialize the</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48</div></td><td class="code"><span></span><span class="tok-k">def</span> <span class="tok-nf">draw_blockhead</span><span class="tok-p">(</span><span class="tok-n">head_x</span><span class="tok-p">,</span> <span class="tok-n">head_y</span><span class="tok-p">,</span> <span class="tok-n">head_w</span><span class="tok-p">,</span> <span class="tok-n">head_h</span><span class="tok-p">):</span>

    <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">rect</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">yellow</span><span class="tok-p">,</span>
	                <span class="tok-p">(</span><span class="tok-n">head_x</span><span class="tok-p">,</span> <span class="tok-n">head_y</span><span class="tok-p">,</span> <span class="tok-n">head_width</span><span class="tok-p">,</span> <span class="tok-n">head_height</span><span class="tok-p">))</span>

    <span class="tok-c1"># left eye</span>
    <span class="tok-n">left_eye_x</span> <span class="tok-o">=</span> <span class="tok-n">head_x</span> <span class="tok-o">+</span> <span class="tok-n">head_width</span> <span class="tok-o">//</span> <span class="tok-mi">4</span>
    <span class="tok-n">left_eye_y</span> <span class="tok-o">=</span> <span class="tok-n">head_y</span> <span class="tok-o">+</span> <span class="tok-n">head_height</span> <span class="tok-o">//</span> <span class="tok-mi">4</span>
    <span class="tok-n">left_eye_r</span> <span class="tok-o">=</span> <span class="tok-n">head_width</span> <span class="tok-o">//</span> <span class="tok-mi">12</span>
    <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">circle</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">darkgray</span><span class="tok-p">,</span>
	                  <span class="tok-p">(</span><span class="tok-n">left_eye_x</span><span class="tok-p">,</span> <span class="tok-n">left_eye_y</span><span class="tok-p">),</span> <span class="tok-n">left_eye_r</span><span class="tok-p">)</span>

    <span class="tok-c1"># left eye cross</span>
    <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">line</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">white</span><span class="tok-p">,</span>
                     <span class="tok-p">(</span><span class="tok-n">left_eye_x</span><span class="tok-p">,</span> <span class="tok-n">left_eye_y</span> <span class="tok-o">-</span> <span class="tok-n">left_eye_r</span><span class="tok-p">),</span>
                     <span class="tok-p">(</span><span class="tok-n">left_eye_x</span><span class="tok-p">,</span> <span class="tok-n">left_eye_y</span> <span class="tok-o">+</span> <span class="tok-n">left_eye_r</span><span class="tok-p">))</span>

    <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">line</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">white</span><span class="tok-p">,</span>
                     <span class="tok-p">(</span><span class="tok-n">left_eye_x</span> <span class="tok-o">-</span> <span class="tok-n">left_eye_r</span><span class="tok-p">,</span> <span class="tok-n">left_eye_y</span><span class="tok-p">),</span>
                     <span class="tok-p">(</span><span class="tok-n">left_eye_x</span> <span class="tok-o">+</span> <span class="tok-n">left_eye_r</span><span class="tok-p">,</span> <span class="tok-n">left_eye_y</span><span class="tok-p">))</span>

    <span class="tok-c1"># right eye</span>
    <span class="tok-n">right_eye_x</span> <span class="tok-o">=</span> <span class="tok-n">head_x</span> <span class="tok-o">+</span> <span class="tok-mi">3</span> <span class="tok-o">*</span> <span class="tok-n">head_width</span> <span class="tok-o">//</span> <span class="tok-mi">4</span>
    <span class="tok-n">right_eye_y</span> <span class="tok-o">=</span> <span class="tok-n">head_y</span> <span class="tok-o">+</span> <span class="tok-n">head_height</span> <span class="tok-o">//</span> <span class="tok-mi">4</span>

	<span class="tok-n">right_eye_r</span> <span class="tok-o">=</span> <span class="tok-n">head_width</span> <span class="tok-o">//</span> <span class="tok-mi">12</span>
    <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">circle</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">darkgray</span><span class="tok-p">,</span>
	    <span class="tok-p">(</span><span class="tok-n">right_eye_x</span><span class="tok-p">,</span> <span class="tok-n">right_eye_y</span><span class="tok-p">),</span> <span class="tok-n">right_eye_r</span><span class="tok-p">)</span>

    <span class="tok-c1"># mouth</span>
    <span class="tok-n">mouth_width</span> <span class="tok-o">=</span> <span class="tok-n">head_width</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>
    <span class="tok-n">mouth_height</span> <span class="tok-o">=</span> <span class="tok-n">head_height</span> <span class="tok-o">//</span> <span class="tok-mi">4</span>
    <span class="tok-n">mouth_x</span> <span class="tok-o">=</span> <span class="tok-n">head_x</span> <span class="tok-o">+</span> <span class="tok-n">head_width</span> <span class="tok-o">//</span> <span class="tok-mi">2</span> <span class="tok-o">-</span> <span class="tok-n">mouth_width</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>
    <span class="tok-n">mouth_y</span> <span class="tok-o">=</span> <span class="tok-n">head_y</span> <span class="tok-o">+</span> <span class="tok-mi">2</span> <span class="tok-o">*</span> <span class="tok-n">head_height</span> <span class="tok-o">//</span> <span class="tok-mi">3</span>
    <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">ellipse</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">pink</span><span class="tok-p">,</span>
	    <span class="tok-p">(</span><span class="tok-n">mouth_x</span><span class="tok-p">,</span> <span class="tok-n">mouth_y</span><span class="tok-p">,</span> <span class="tok-n">mouth_width</span><span class="tok-p">,</span> <span class="tok-n">mouth_height</span><span class="tok-p">))</span>

    <span class="tok-c1"># smile</span>
    <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">ellipse</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">yellow</span><span class="tok-p">,</span>
	    <span class="tok-p">(</span><span class="tok-n">mouth_x</span><span class="tok-p">,</span> <span class="tok-n">mouth_y</span><span class="tok-p">,</span> <span class="tok-n">mouth_width</span><span class="tok-p">,</span> <span class="tok-n">mouth_height</span> <span class="tok-o">-</span> <span class="tok-o">.</span><span class="tok-mi">2</span> <span class="tok-o">*</span> <span class="tok-n">mouth_height</span><span class="tok-p">))</span>

    <span class="tok-c1"># add a nose</span>
    <span class="tok-n">nose_width</span> <span class="tok-o">=</span> <span class="tok-n">head_width</span> <span class="tok-o">//</span> <span class="tok-mi">10</span>  <span class="tok-c1"># 1/10th width of head</span>
    <span class="tok-n">nose_height</span> <span class="tok-o">=</span> <span class="tok-n">head_height</span> <span class="tok-o">//</span> <span class="tok-mi">4</span> <span class="tok-c1"># 1/4 height of head</span>
    <span class="tok-n">nose_x</span> <span class="tok-o">=</span> <span class="tok-n">head_x</span> <span class="tok-o">+</span> <span class="tok-n">head_width</span> <span class="tok-o">//</span> <span class="tok-mi">2</span> <span class="tok-o">-</span> <span class="tok-n">nose_width</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>
    <span class="tok-n">nose_y</span> <span class="tok-o">=</span> <span class="tok-n">head_y</span> <span class="tok-o">+</span> <span class="tok-n">head_height</span> <span class="tok-o">//</span> <span class="tok-mi">2</span> <span class="tok-o">-</span> <span class="tok-n">nose_height</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>
    <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">ellipse</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">blue</span><span class="tok-p">,</span>
	    <span class="tok-p">(</span><span class="tok-n">nose_x</span><span class="tok-p">,</span> <span class="tok-n">nose_y</span><span class="tok-p">,</span> <span class="tok-n">nose_width</span><span class="tok-p">,</span> <span class="tok-n">nose_height</span><span class="tok-p">))</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now we can call the <code>draw_blockhead</code> function as many times as we like without having to
duplicate lots of code. The variables <code>head_x</code>, <code>head_y</code>, <code>head_w</code>, <code>head_h</code> are <em>parameters</em> and they can be used anywhere in the function body. That is their <em>scope</em>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <em>scope</em> of a variable is the region of the program where it can be used.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>All of the other variables that are defined in the function are <em>local variables</em>. A local variable&#8217;s scope is from the point where where it is defined until the end of the function.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A <em>local variable</em> is defined in a function. Its scope is the point from where it was defined until the end of the function.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>draw_blockhead</code> function still uses the variable <code>win</code>, which is neither passed as a parameter nor is it defined with the function. The function assumes <code>win</code> is defined in the main program. We say that <code>win</code> is a <em>global variable</em>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A <em>global variable</em> is defined in the main program. Its scope is the point from where it was defined until the end of the program.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</div></td><td class="code"><span></span><span class="tok-c1"># initial Pygame stuff</span>
<span class="tok-kn">import</span> <span class="tok-nn">pygame</span><span class="tok-o">,</span> <span class="tok-nn">color</span>

<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">init</span><span class="tok-p">()</span>
<span class="tok-n">width</span> <span class="tok-o">=</span> <span class="tok-mi">600</span>   <span class="tok-c1"># display surface 600 pixels wide</span>
<span class="tok-n">height</span> <span class="tok-o">=</span> <span class="tok-mi">400</span>  <span class="tok-c1"># display surface is 400 pixels high</span>
<span class="tok-n">win</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">set_mode</span><span class="tok-p">((</span><span class="tok-n">width</span><span class="tok-p">,</span><span class="tok-n">height</span><span class="tok-p">))</span>

<span class="tok-c1"># create the background</span>
<span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">fill</span><span class="tok-p">(</span><span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">lightgray</span><span class="tok-p">)</span>

<span class="tok-n">blockhead</span><span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">,</span><span class="tok-mi">0</span><span class="tok-p">,</span><span class="tok-mi">299</span><span class="tok-p">,</span><span class="tok-mi">199</span><span class="tok-p">)</span>
<span class="tok-n">blockhead</span><span class="tok-p">(</span><span class="tok-mi">300</span><span class="tok-p">,</span><span class="tok-mi">0</span><span class="tok-p">,</span><span class="tok-mi">299</span><span class="tok-p">,</span><span class="tok-mi">199</span><span class="tok-p">)</span>
<span class="tok-n">blockhead</span><span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">,</span><span class="tok-mi">200</span><span class="tok-p">,</span><span class="tok-mi">299</span><span class="tok-p">,</span><span class="tok-mi">199</span><span class="tok-p">)</span>
<span class="tok-n">blockhead</span><span class="tok-p">(</span><span class="tok-mi">300</span><span class="tok-p">,</span><span class="tok-mi">200</span><span class="tok-p">,</span><span class="tok-mi">299</span><span class="tok-p">,</span><span class="tok-mi">199</span><span class="tok-p">)</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">update</span><span class="tok-p">()</span>

<span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s2">&quot;Hit &lt;enter&gt; when done&quot;</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./images/four-blockheads.png" alt="four blockheads" width="300" height="100">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_benefits_of_functions"><a class="anchor" href="#_benefits_of_functions"></a>3.4. Benefits of functions</h3>
<div class="sect3">
<h4 id="_functions_make_code_more_readable"><a class="anchor" href="#_functions_make_code_more_readable"></a>3.4.1. Functions make code more readable</h4>
<div class="paragraph">
<p>If you look at the main program above it is clear that the program draws four figures. If we didn&#8217;t use a function and duplicated the code to draw the figures then it would be far less clear what is going on.</p>
</div>
</div>
<div class="sect3">
<h4 id="_functions_make_code_less_buggy"><a class="anchor" href="#_functions_make_code_less_buggy"></a>3.4.2. Functions make code less buggy</h4>
<div class="paragraph">
<p>Imagine had we not used a function and we found an error in the code, we would then have to fix that error in every place where the code was duplicated. When we use a function we just fix it once.</p>
</div>
</div>
<div class="sect3">
<h4 id="_functions_make_programs_more_concise"><a class="anchor" href="#_functions_make_programs_more_concise"></a>3.4.3. Functions make programs more concise</h4>
<div class="paragraph">
<p>This one is obvious. We don&#8217;t have to copy and paste code, and the program is much shorter.</p>
</div>
</div>
<div class="sect3">
<h4 id="_functions_allow_programmers_to_easily_reuse_code"><a class="anchor" href="#_functions_allow_programmers_to_easily_reuse_code"></a>3.4.4. Functions allow programmers to easily <em>reuse</em> code.</h4>
<div class="paragraph">
<p>Consider our Fahrenheit-to-Celsius conversion function <code>f2c</code> that we placed in a file <code>util.py</code>. We can reuse that function whenever we want without having to reinvent the wheel every time.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_exercises_3"><a class="anchor" href="#_exercises_3"></a>3.5. Exercises</h3>
<div class="paragraph">
<div class="title">Exercise 1</div>
<p>Write a function <code>circ_area</code> that that takes the radius of a circle as a parameter and returns the area of the circle.  Write a main program that reads the radius from the user (keyboard) and prints the area.</p>
</div>
<div class="paragraph">
<div class="title">Exercise 2</div>
<p>Answer questions about the program below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</div></td><td class="code"><span></span><span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-mi">5</span>
<span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-mi">6</span>
<span class="tok-n">z</span> <span class="tok-o">=</span> <span class="tok-mi">33</span>

<span class="tok-k">def</span> <span class="tok-nf">f</span><span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">):</span>
   <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-mi">9</span>
   <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">x</span> <span class="tok-o">+</span> <span class="tok-n">y</span> <span class="tok-o">+</span> <span class="tok-n">z</span><span class="tok-p">)</span>

<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">x</span> <span class="tok-o">+</span> <span class="tok-n">y</span> <span class="tok-o">+</span> <span class="tok-n">z</span><span class="tok-p">)</span>
<span class="tok-n">f</span><span class="tok-p">(</span><span class="tok-mi">12</span><span class="tok-p">)</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">x</span> <span class="tok-o">+</span> <span class="tok-n">y</span> <span class="tok-o">+</span> <span class="tok-n">z</span><span class="tok-p">)</span>
<span class="tok-k">pass</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>What is the output of the program?</p>
</li>
<li>
<p>Which line contains a function header?</p>
</li>
<li>
<p>Which line(s) constitute the main program?</p>
</li>
<li>
<p>Is there a local variable defined anywhere? If so what is its scope?</p>
</li>
<li>
<p>Does the function <code>f</code> return a value?</p>
</li>
<li>
<p>Does the function <code>f</code> reference any global variables?</p>
</li>
<li>
<p>Which lines constitute a function body?</p>
</li>
<li>
<p>Are there any arguments used in the program? If so what and where are they? (tricky)</p>
</li>
<li>
<p>Are there any parameters defined in the program? Explain.</p>
</li>
<li>
<p>What does the last line do?</p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Exercise 3</div>
<p>What is a <em>built-in</em> function?</p>
</div>
<div class="paragraph">
<div class="title">Exercise 4 <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Assume that <strong><em>C</em></strong> is an initial amount of an investment, <strong><em>r</em></strong> is the yearly rate of interest (e.g., .02 is 2%), <strong><em>t</em></strong> is the number of years until maturation, <strong><em>n</em></strong> is the number of times the interest is compounded per year, then the final value of the investment is \(p=c(1+r/n)^{tn}\). Write a function <code>investment</code> that takes <strong><em>C</em></strong>, <strong><em>r</em></strong>, <strong><em>n</em></strong>, and <strong><em>t</em></strong> as arguments and returns the final value of the investment to the nearest penny. Test your function with a main program where \(C = 1000, r = .01, n = 1, t = 1\).</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>This exercise should be familiar from Chapter 1.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-k">def</span> <span class="tok-nf">investment</span><span class="tok-p">(</span><span class="tok-n">c</span><span class="tok-p">,</span><span class="tok-n">r</span><span class="tok-p">,</span><span class="tok-n">n</span><span class="tok-p">,</span><span class="tok-n">t</span><span class="tok-p">):</span>
    <span class="tok-n">p</span> <span class="tok-o">=</span> <span class="tok-n">c</span><span class="tok-o">*</span><span class="tok-p">(</span><span class="tok-mi">1</span> <span class="tok-o">+</span> <span class="tok-n">r</span><span class="tok-o">/</span><span class="tok-n">n</span><span class="tok-p">)</span><span class="tok-o">**</span><span class="tok-p">(</span><span class="tok-n">t</span><span class="tok-o">*</span><span class="tok-n">n</span><span class="tok-p">)</span>
    <span class="tok-k">return</span> <span class="tok-n">p</span> <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>We didn&#8217;t have to use the local variable <code>p</code>. We could just as well have said <code>return c*(1 + r/n)**(t*n)</code></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Test on \(C = 1000, r = .01, n = 1, t = 1\).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">interest</span><span class="tok-p">(</span><span class="tok-mi">1000</span><span class="tok-p">,</span><span class="tok-o">.</span><span class="tok-mo">01</span><span class="tok-p">,</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">1</span><span class="tok-p">))</span> <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Should print <code>1010.0</code></td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_terminology_3"><a class="anchor" href="#_terminology_3"></a>3.6. Terminology</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. Terminology</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>function call</p>
</li>
<li>
<p>passing an argument</p>
</li>
<li>
<p>parameter</p>
</li>
<li>
<p>local variable</p>
</li>
<li>
<p>function body</p>
</li>
<li>
<p>main program</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>return value</p>
</li>
<li>
<p><code>None</code></p>
</li>
<li>
<p>global variable</p>
</li>
<li>
<p>function header</p>
</li>
<li>
<p>scope</p>
</li>
<li>
<p><code>pass</code></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_repetition_the_while_loop"><a class="anchor" href="#_repetition_the_while_loop"></a>4. Repetition - The While Loop</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Lets assume we have a particle (a circle, face, or image of a ball).<sup class="footnote">[<a id="_footnoteref_8" class="footnote" href="#_footnotedef_8" title="View footnote.">8</a>]</sup> on a Pygame display surface drawn halfway down the display and all the way to the left.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
We will often use the term <em>particle</em> to represent a moving object such as a baseball, a hockey puck, an electron, etc. The term <a href="https://en.wikipedia.org/wiki/Particle"><em>particle</em></a> comes from physics and is an abstract representation of some object.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When the particle is obviously something like a soccer ball I will often use the term <em>particle</em> and <em>ball</em> interchangeably.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</div></td><td class="code"><span></span><span class="tok-kn">import</span> <span class="tok-nn">color</span><span class="tok-o">,</span> <span class="tok-nn">pygame</span>

<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">init</span><span class="tok-p">()</span>
<span class="tok-n">side</span> <span class="tok-o">=</span> <span class="tok-mi">500</span>
<span class="tok-n">win</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">set_mode</span><span class="tok-p">((</span><span class="tok-n">side</span><span class="tok-p">,</span><span class="tok-n">side</span><span class="tok-p">))</span>

<span class="tok-c1"># properties of the particle</span>
<span class="tok-n">radius</span> <span class="tok-o">=</span> <span class="tok-n">side</span><span class="tok-o">//</span><span class="tok-mi">20</span>
<span class="tok-n">px</span> <span class="tok-o">=</span> <span class="tok-n">radius</span>   <span class="tok-c1"># particle is all the way to the left </span><i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-n">py</span> <span class="tok-o">=</span> <span class="tok-n">side</span><span class="tok-o">//</span><span class="tok-mi">2</span>  <span class="tok-c1"># and halfway down display</span>
<span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">fill</span><span class="tok-p">(</span><span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">white</span><span class="tok-p">)</span>

<span class="tok-c1"># draw the particle</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">circle</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">blue</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">px</span><span class="tok-p">,</span> <span class="tok-n">py</span><span class="tok-p">),</span> <span class="tok-n">radius</span><span class="tok-p">)</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">update</span><span class="tok-p">()</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Where would the particle show up of we set <code>px = 0</code></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>What if we wanted to draw another particle right next to the first? The next particle&#8217;s \(x\) coordinate will be one diameter (or 2 radii) past the first particle&#8217;s \(x\) coordinate.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2</div></td><td class="code"><span></span><span class="tok-n">px</span> <span class="tok-o">=</span> <span class="tok-n">px</span> <span class="tok-o">+</span> <span class="tok-mi">2</span> <span class="tok-o">*</span> <span class="tok-n">radius</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">circle</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">blue</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">px</span><span class="tok-p">,</span> <span class="tok-n">py</span><span class="tok-p">),</span> <span class="tok-n">radius</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>How about a third particle?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2</div></td><td class="code"><span></span><span class="tok-n">px</span> <span class="tok-o">=</span> <span class="tok-n">px</span> <span class="tok-o">+</span> <span class="tok-mi">2</span> <span class="tok-o">*</span> <span class="tok-n">radius</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">circle</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">blue</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">px</span><span class="tok-p">,</span> <span class="tok-n">py</span><span class="tok-p">),</span> <span class="tok-n">radius</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>And a fourth particle? &#8230;&#8203; well, you get the picture. We could keep copying and pasting until we have as many particles displayed as we need. This should feel wrong. And it is. What we want to do is repeat those two lines until the display is filled with particles.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./images/particles.png" alt="particles">
</div>
</div>
<div class="paragraph">
<p>The <em>while loop</em> repeats a body of code (indented) as long as some condition is true. The syntax is &#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python">while (<strong><em>condition</em></strong>):
    stmt</code></pre>
</div>
</div>
<div class="paragraph">
<p>We want to keep repeating the two lines of code</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2</div></td><td class="code"><span></span><span class="tok-n">px</span> <span class="tok-o">=</span> <span class="tok-n">px</span> <span class="tok-o">+</span> <span class="tok-mi">2</span> <span class="tok-o">*</span> <span class="tok-n">radius</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">circle</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">blue</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">px</span><span class="tok-p">,</span> <span class="tok-n">py</span><span class="tok-p">),</span> <span class="tok-n">radius</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>as long as some condition is true. In this case, as long as the particle&#8217;s right edge is to the left of the right edge of the display.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3</div></td><td class="code"><span></span><span class="tok-k">while</span> <span class="tok-n">px</span> <span class="tok-o">+</span> <span class="tok-n">radius</span> <span class="tok-o">&lt;</span> <span class="tok-n">side</span><span class="tok-p">:</span>
    <span class="tok-n">px</span> <span class="tok-o">=</span> <span class="tok-n">px</span> <span class="tok-o">+</span> <span class="tok-mi">2</span> <span class="tok-o">*</span> <span class="tok-n">radius</span>
    <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">circle</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">blue</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">px</span><span class="tok-p">,</span> <span class="tok-n">py</span><span class="tok-p">),</span> <span class="tok-n">radius</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Eventually <code>px + radius</code> will become greater than <code>side</code> and the loop condition becomes false and then the loop <em>terminates</em>.</p>
</div>
<div class="paragraph">
<p>Note: <code>True</code> and <code>False</code> are values in Python, just like the integer <code>1</code> and the float <code>3.14159</code>. <code>True</code> an `False are called <em>boolean</em> values.</p>
</div>
<div class="sect2">
<h3 id="_animation"><a class="anchor" href="#_animation"></a>4.1. Animation</h3>
<div class="paragraph">
<p>One modification is that we can <em>animate</em> the particle moving across the screen smoothly. Rather than redraw the particle two radii, shift the particle by just one pixel. We can also add a delay. Finally before we redraw the particle we can erase the display. This is a standard way of an animating an object in computer graphics:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Erase the background</p>
</li>
<li>
<p>Update the object&#8217;s position (for example, the particle&#8217;s \(x\)-coordinate).</p>
</li>
<li>
<p>Redraw the object</p>
</li>
<li>
<p>introduce a slight delay to model (mimic or simulate) the passage of time</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6</div></td><td class="code"><span></span><span class="tok-k">while</span> <span class="tok-n">px</span> <span class="tok-o">+</span> <span class="tok-n">radius</span> <span class="tok-o">&lt;</span> <span class="tok-n">side</span><span class="tok-p">:</span>
    <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">fill</span><span class="tok-p">(</span><span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">white</span><span class="tok-p">)</span>                                    <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">circle</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">blue</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">px</span><span class="tok-p">,</span><span class="tok-n">py</span><span class="tok-p">),</span> <span class="tok-n">radius</span><span class="tok-p">)</span>
    <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">update</span><span class="tok-p">()</span>
    <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">time</span><span class="tok-o">.</span><span class="tok-n">delay</span><span class="tok-p">(</span><span class="tok-mi">5</span><span class="tok-p">)</span>                                     <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="tok-n">px</span> <span class="tok-o">=</span> <span class="tok-n">px</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>                                              <i class="conum" data-value="3"></i><b>(3)</b>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>erase the screen, effectively erasing the particle</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>delay 5 milliseconds</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>moving 1 pixel at a time makes the motion look smooth</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A <em>sprite</em> is a more general computer graphics term for a 2-dimensional object that is animated in a larger scene. Our particle is an example of a sprite.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_relational_operators"><a class="anchor" href="#_relational_operators"></a>4.2. Relational Operators</h3>
<div class="paragraph">
<p>So far we have only used the  <em>less than</em> relational operator <code>&lt;</code> that compares two values. Table <a href="#relops">Relational Operators</a> lists them all.</p>
</div>
<table id="relops" class="tableblock frame-all grid-all" style="width: 50%;">
<caption class="title">Table 6. Relational Operators</caption>
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 88.8889%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Operator</th>
<th class="tableblock halign-left valign-top">operation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">less than</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;=</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">less than or equal to</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">greater than</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&gt;=</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">greater than or equal to</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>==</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">equal to</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>!=</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not equal to</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Animate moving the particle to the bottom of the screen.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>While the particle&#8217;s \(y\)-coordinate plus the radius is less than the
side length.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6</div></td><td class="code"><span></span><span class="tok-k">while</span> <span class="tok-n">py</span> <span class="tok-o">+</span> <span class="tok-n">radius</span> <span class="tok-o">&lt;</span> <span class="tok-n">side</span><span class="tok-p">:</span>  <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">fill</span><span class="tok-p">(</span><span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">white</span><span class="tok-p">)</span>
    <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">circle</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">blue</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">px</span><span class="tok-p">,</span><span class="tok-n">py</span><span class="tok-p">),</span> <span class="tok-n">radius</span><span class="tok-p">)</span>
    <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">update</span><span class="tok-p">()</span>
    <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">time</span><span class="tok-o">.</span><span class="tok-n">delay</span><span class="tok-p">(</span><span class="tok-mi">5</span><span class="tok-p">)</span>
    <span class="tok-n">py</span> <span class="tok-o">=</span> <span class="tok-n">py</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>What would happen if we simply had <code>while py &lt; side</code>?</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Animate moving the particle from right to left.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>While the particle&#8217;s \(x\)-coordinate is greater than 0.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6</div></td><td class="code"><span></span><span class="tok-k">while</span> <span class="tok-n">px</span> <span class="tok-o">&gt;</span> <span class="tok-mi">0</span><span class="tok-p">:</span>
    <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">fill</span><span class="tok-p">(</span><span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">white</span><span class="tok-p">)</span>
    <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">circle</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">blue</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">px</span><span class="tok-p">,</span><span class="tok-n">py</span><span class="tok-p">),</span> <span class="tok-n">radius</span><span class="tok-p">)</span>
    <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">update</span><span class="tok-p">()</span>
    <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">time</span><span class="tok-o">.</span><span class="tok-n">delay</span><span class="tok-p">(</span><span class="tok-mi">5</span><span class="tok-p">)</span>
    <span class="tok-n">px</span> <span class="tok-o">=</span> <span class="tok-n">px</span> <span class="tok-o">-</span> <span class="tok-mi">1</span>
</td></tr></table></code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Animate moving the particle to the top of the screen.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>While the particle&#8217;s \(y\)-coordinate is greater than 0.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6</div></td><td class="code"><span></span><span class="tok-k">while</span> <span class="tok-n">py</span> <span class="tok-o">&gt;</span> <span class="tok-mi">0</span><span class="tok-p">:</span>
    <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">fill</span><span class="tok-p">(</span><span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">white</span><span class="tok-p">)</span>
    <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">circle</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">blue</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">px</span><span class="tok-p">,</span><span class="tok-n">py</span><span class="tok-p">),</span> <span class="tok-n">radius</span><span class="tok-p">)</span>
    <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">update</span><span class="tok-p">()</span>
    <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">time</span><span class="tok-o">.</span><span class="tok-n">delay</span><span class="tok-p">(</span><span class="tok-mi">5</span><span class="tok-p">)</span>
    <span class="tok-n">py</span> <span class="tok-o">=</span> <span class="tok-n">py</span> <span class="tok-o">-</span> <span class="tok-mi">1</span>
</td></tr></table></code></pre>
</div>
</div>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Whenever you find yourself copying and pasting the same lines of code over and over that is a sure sign that either 1) you should be encapsulating that code in a function, or 2) it should be repeating in a loop.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_counting_loops"><a class="anchor" href="#_counting_loops"></a>4.3. Counting Loops</h3>
<div class="paragraph">
<p>A common loop pattern is to repeat a body of code an exact number of times.</p>
</div>
<div class="paragraph">
<div class="title">Example</div>
<p>Lets print a table of powers of two up to <em>2<sup>10</sup></em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>i   2^i
==========
0  | 1
1  | 2
2  | 4
3  | 8
...
10 | 1024</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6
7
8</div></td><td class="code"><span></span><span class="tok-c1"># table header</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;i     2^i&quot;</span><span class="tok-p">)</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;=========&quot;</span><span class="tok-p">)</span>

<span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>                       <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-k">while</span> <span class="tok-n">i</span> <span class="tok-o">&lt;=</span> <span class="tok-mi">10</span><span class="tok-p">:</span>              <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">i</span><span class="tok-p">,</span> <span class="tok-s1">&#39;</span><span class="tok-se">\t</span><span class="tok-s1">|&#39;</span><span class="tok-p">,</span> <span class="tok-mi">2</span><span class="tok-o">**</span><span class="tok-n">i</span><span class="tok-p">)</span>   <i class="conum" data-value="3"></i><b>(3)</b>
    <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-n">i</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>               <i class="conum" data-value="4"></i><b>(4)</b>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>In a counting loop we almost always initialize a variable to 0. It is a <em>convention</em> to use <code>i</code>, <code>j</code>, and <code>k</code> as a name for a counting variable.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>We want to include <code>10</code> in our table so we use <code>&lt;=</code> here. Could we have also said <code>i &lt; 11</code>? Yes.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><code>'\t'</code> represents the tab character. Without it the table columns would not be lined up neatly. Recall our discussion of <em>escape</em> characters back in the section on string literals.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>This increments the value of <code>i</code> by 1.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Lets be careful how we interpret the statement <code>i = i + 1</code>. This is an <em>assignment statement</em>, not a statement in mathematics (which would be nonsense). The way to read this is <em>the new value of <code>i</code> gets the old value of <code>i</code> plus one</em>.</p>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>What would happen if we forgot the line <code>i = i + 1</code>?</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>Since <code>i</code> would never increment, the loop condition would never become false and the loop would never terminate. This is called an <em>infinite loop</em>. Furthermore,
the program would keep printing the line <code>0  |  1</code></p>
</div>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
A <em>convention</em> is something that is common practice. Stick with conventions as it makes code more readable.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Write a while-loop that prints the integers from 1 to 10, one integer per line.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>Here is one way to do it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4</div></td><td class="code"><span></span><span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">1</span>
<span class="tok-k">while</span> <span class="tok-n">i</span> <span class="tok-o">&lt;=</span> <span class="tok-mi">10</span><span class="tok-p">:</span>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">i</span><span class="tok-p">)</span>
    <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-n">i</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Does the following program work? If not, fix it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4</div></td><td class="code"><span></span><span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">1</span>
<span class="tok-k">while</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-mi">10</span><span class="tok-p">:</span>
    <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-n">i</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">i</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>You could fix it by starting <code>i</code> at <code>0</code> instead of <code>1</code>.</p>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Print the integers counting down from 10 to 0. When you are done print "Blast off!". Add a one second delay in between integers. Hint: use the <code>pygame.time.delay(n)</code> function where <code>n</code> is the number of
milliseconds to delay.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>There is a 1000 milliseconds in a second.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6
7
8</div></td><td class="code"><span></span><span class="tok-kn">import</span> <span class="tok-nn">pygame</span>

<span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">10</span>
<span class="tok-k">while</span> <span class="tok-n">i</span> <span class="tok-o">&gt;</span> <span class="tok-o">-</span><span class="tok-mi">1</span><span class="tok-p">:</span>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">i</span><span class="tok-p">)</span>
    <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-n">i</span> <span class="tok-o">-</span> <span class="tok-mi">1</span>
    <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">time</span><span class="tok-o">.</span><span class="tok-n">delay</span><span class="tok-p">(</span><span class="tok-mi">1000</span><span class="tok-p">)</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;Blast off!&quot;</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_accumulating_loops"><a class="anchor" href="#_accumulating_loops"></a>4.4. Accumulating Loops</h3>
<div class="paragraph">
<p>Another common loop pattern is to keep a running total. For example, lets compute the sum of the integers from \(1\) to \(n\). That is, \(1 + 2 + 3 + \cdots + n\) where \(n\) is entered by the user.<sup class="footnote">[<a id="_footnoteref_9" class="footnote" href="#_footnotedef_9" title="View footnote.">9</a>]</sup></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6
7
8
9</div></td><td class="code"><span></span><span class="tok-n">n</span>   <span class="tok-o">=</span> <span class="tok-nb">int</span><span class="tok-p">(</span><span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s2">&quot;Enter n: &quot;</span><span class="tok-p">))</span>
<span class="tok-n">i</span>   <span class="tok-o">=</span> <span class="tok-mi">1</span>                          <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-n">total</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>                        <i class="conum" data-value="2"></i><b>(2)</b>

<span class="tok-k">while</span> <span class="tok-n">i</span> <span class="tok-o">&lt;=</span> <span class="tok-n">n</span><span class="tok-p">:</span>                    <i class="conum" data-value="3"></i><b>(3)</b>
    <span class="tok-n">total</span> <span class="tok-o">=</span> <span class="tok-n">total</span> <span class="tok-o">+</span> <span class="tok-n">i</span>            <i class="conum" data-value="4"></i><b>(4)</b>
    <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-n">i</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>                    <i class="conum" data-value="5"></i><b>(5)</b>

<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;The sum from 1 to&quot;</span><span class="tok-p">,</span> <span class="tok-n">n</span><span class="tok-p">,</span> <span class="tok-s2">&quot;is&quot;</span><span class="tok-p">,</span> <span class="tok-n">total</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The loop counter. This could have started at 0 but including 0 in the total doesn&#8217;t change it.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Keep track of the running total in <code>total</code>. I have purposefully avoided
usng the variable named <code>sum</code> because <code>sum</code> is also the name of a built-in function.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Make sure to include <code>n</code></td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>This adds the current value of <code>i</code> to the running total in <code>total</code>. Again, interpret this as the assignment statement <em>the new value of</em> <code>total</code> <em>gets the old value of</em> <code>total</code> <em>plus</em> <code>i</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Increment the loop counter</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Programmers often use assignment statements such as <code>x = x + 1</code>. Most programming languages, Python included, has a <code>+=</code> operator and we can write
<code>x = x + 1</code> as the more pithy <code>x += 1</code>.<sup class="footnote">[<a id="_footnoteref_10" class="footnote" href="#_footnotedef_10" title="View footnote.">10</a>]</sup> The while loop in the example above could be rewritten to be</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-k">while</span> <span class="tok-n">i</span> <span class="tok-o">&lt;=</span> <span class="tok-n">n</span><span class="tok-p">:</span>
    <span class="tok-n">total</span> <span class="tok-o">+=</span> <span class="tok-n">i</span>
    <span class="tok-n">i</span> <span class="tok-o">+=</span> <span class="tok-mi">1</span></code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Write a program that computes the average of non-negative numbers (for example quiz grades) entered by the user. Quit reading numbers when the user has entered a negative number. Be careful, make sure you don&#8217;t include the negative number in the average. Here is an example run of the program.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Enter a number: 3
Enter a number: 9
Enter a number: 7
Enter a number: 8
Enter a number: -1
The average is  6.75</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Answer  <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p><span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</div></td><td class="code"><span></span><span class="tok-n">n</span>   <span class="tok-o">=</span> <span class="tok-nb">float</span><span class="tok-p">(</span><span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s2">&quot;Enter a number: &quot;</span><span class="tok-p">))</span>
<span class="tok-n">i</span>   <span class="tok-o">=</span> <span class="tok-mi">0</span>
<span class="tok-n">total</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>

<span class="tok-k">while</span> <span class="tok-n">n</span> <span class="tok-o">&gt;=</span> <span class="tok-mi">0</span><span class="tok-p">:</span>
    <span class="tok-n">i</span> <span class="tok-o">+=</span> <span class="tok-mi">1</span>
    <span class="tok-n">total</span> <span class="tok-o">+=</span> <span class="tok-n">n</span>
    <span class="tok-n">n</span> <span class="tok-o">=</span> <span class="tok-nb">float</span><span class="tok-p">(</span><span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s2">&quot;Enter a number: &quot;</span><span class="tok-p">))</span>

<span class="tok-n">average</span> <span class="tok-o">=</span> <span class="tok-n">total</span> <span class="tok-o">/</span> <span class="tok-n">i</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;The average is &quot;</span><span class="tok-p">,</span> <span class="tok-nb">round</span><span class="tok-p">(</span><span class="tok-n">average</span><span class="tok-p">,</span> <span class="tok-mi">2</span><span class="tok-p">))</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>This is actually a little tricky. Notice the first line. We read our first number <em>before</em> the loop. Once we get into the loop we know that we must have entered a non-negative number.</p>
</div>
<div class="paragraph">
<p>There is actually a subtle bug in this code that can sometimes lead to a crash. Can you find it?<sup class="footnote">[<a id="_footnoteref_11" class="footnote" href="#_footnotedef_11" title="View footnote.">11</a>]</sup></p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_exponential_growth_example_password_length"><a class="anchor" href="#_exponential_growth_example_password_length"></a>4.5. Exponential Growth (Example: Password Length)</h3>
<div class="paragraph">
<p>Why are longer passwords better than shorter passwords? It is obvious, longer passwords are harder to guess. But how much harder? Lets say we allowed passwords to contain 26 upper or lower case characters (that is 52 possible alphabetic characters, in the English alphabet), ten digits 0 through 9, and 32 symbol characters <code>~!@#$%^&amp;*()_-+={[}]"':;&gt;.&lt;,?/|\</code>. That is 94 possible distinct characters that can be used in a password.<sup class="footnote">[<a id="_footnoteref_12" class="footnote" href="#_footnotedef_12" title="View footnote.">12</a>]</sup></p>
</div>
<div class="paragraph">
<p>There are \(94\) one character passwords, \(94^2 = 8836\) two character passwords, \(94^3 = 830584\) three character passwords, and so on, so that if a password was ten characters long there are \(94^{10} = 53861511409489970176\) possible passwords or approximately \(5 \times 10^{19}\).</p>
</div>
<div class="paragraph">
<p>Plotting \(94^i\), where \(i\) is the number of characters in the password, gives us the graph:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./images/94_to_the_i.png" alt="94 to the i" width="480" height="360">
</div>
</div>
<div class="paragraph">
<p>This is an example of <em>exponential growth</em> in the number of characters in the password. Notice how the graph explodes at between 8 and 10 characters (was it ever suggested that you make your passwords more than 8 characters long?)
What is the total number of passwords up to 10 characters long? We would have to include all of the nine character passwords, and the eight character passwords, etc. and compute the sum \(94^1 + 94^2 + 94^3 + \cdots + 94^{10}\).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6
7</div></td><td class="code"><span></span><span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">1</span>
<span class="tok-n">total</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>
<span class="tok-k">while</span> <span class="tok-n">i</span> <span class="tok-o">&lt;=</span> <span class="tok-mi">10</span><span class="tok-p">:</span>
    <span class="tok-n">total</span> <span class="tok-o">+=</span> <span class="tok-mi">94</span><span class="tok-o">**</span><span class="tok-n">i</span>
    <span class="tok-n">i</span> <span class="tok-o">+=</span> <span class="tok-mi">1</span>

<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">total</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>which would print <code>54440667446151152650</code>, which is also just bigger than \(5.4 \times 10^{19}\).</p>
</div>
<div class="paragraph">
<p>To emphasize the difference between a six character password and a ten character password, let&#8217;s assume a malicious hacker was trying to break into a system by trying all possible passwords. How long might it take? Lets say we had a powerful computer that could attempt 1 billion passwords per second.</p>
</div>
<div class="paragraph">
<p>For a six character password that&#8217;s \(94^6/10^9/60 \approx 11.5\) minutes to try all possibilities. On average we will search about half the passwords, so on average it would take about  \(6\)  minutes.</p>
</div>
<div class="paragraph">
<p>For a ten character password,
we have \(94^{10}/10^9\) seconds. Dividing by  \(60\)  to get minutes then another \(60\) for hours, then  \(24\) to get days, then \(365.25\) to get years, we have \(94^{10}/10^9/60/60/24/365.25 = 1706\) years! Again, this is to try them all, so on average we would find it after looking at half of the passwords, so it would only take about
\(850\) years.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A <em>brute force attack</em> is one where an attacker tries all possible combinations of passwords.  The number of possible passwords grows exponentially with their length. As we saw, brute force attacks are most effective against short passwords.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_exponential_growth_example_population"><a class="anchor" href="#_exponential_growth_example_population"></a>4.6. Exponential Growth (Example: Population)</h3>
<div class="paragraph">
<p>Exponential growth arises in more subtle ways. In the previous example we were raising the base of the exponent, <em>94</em>, to a fairly large power.  What if the base were small, but still greater than one? Lets use an example of world population growth rate, which is currently estimated to be <em>1.11</em>% (or .011) per year in 2017.<sup class="footnote">[<a id="_footnoteref_13" class="footnote" href="#_footnotedef_13" title="View footnote.">13</a>]</sup></p>
</div>
<div class="paragraph">
<p>Let \(t\) be the current year and \(P_t\) be the current population  at the beginning of year \(t\). So \(P_{t+1} = P_t + 0.011P_t\) or, factoring out the \(P_t\) then \(P_{t+1} = P_t(1.011)\).</p>
</div>
<div class="paragraph">
<p>One way of interpreting the formula \(P_{t+1} = P_t(1.011)\) is to see that <em>the new value of \(P\) is the old value of \(P\) times 1.011</em>. We have seen this pattern before in code. It is just an assignment statement:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">P</span> <span class="tok-o">=</span> <span class="tok-n">P</span> <span class="tok-o">*</span> <span class="tok-mf">1.011</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>We can just keep iterating this statement after we give it an initial population.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5</div></td><td class="code"><span></span><span class="tok-n">P</span> <span class="tok-o">=</span> <span class="tok-mf">7.5e9</span>      <span class="tok-c1"># initial population</span>
<span class="tok-n">P</span> <span class="tok-o">=</span> <span class="tok-n">P</span> <span class="tok-o">*</span> <span class="tok-mf">1.011</span>  <span class="tok-c1"># population after year 1</span>
<span class="tok-n">P</span> <span class="tok-o">=</span> <span class="tok-n">P</span> <span class="tok-o">*</span> <span class="tok-mf">1.011</span>  <span class="tok-c1"># population after year 2</span>
<span class="tok-n">P</span> <span class="tok-o">=</span> <span class="tok-n">P</span> <span class="tok-o">*</span> <span class="tok-mf">1.011</span>  <span class="tok-c1"># population after year 3</span>
<span class="tok-c1"># and so on</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Of course if we want to compute the population <em>P</em> after \(n\) years we should use a loop.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</div></td><td class="code"><span></span><span class="tok-n">P</span> <span class="tok-o">=</span> <span class="tok-mf">7.5e9</span>    <span class="tok-c1"># initial population 7.5 billion</span>
<span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>        <span class="tok-c1"># counter</span>
<span class="tok-n">r</span> <span class="tok-o">=</span> <span class="tok-o">.</span><span class="tok-mo">011</span>     <span class="tok-c1"># growth rate 1.1%</span>
<span class="tok-n">n</span> <span class="tok-o">=</span> <span class="tok-nb">int</span><span class="tok-p">(</span><span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s2">&quot;Enter a number of years: &quot;</span><span class="tok-p">))</span>

<span class="tok-k">while</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-n">n</span><span class="tok-p">:</span>
    <span class="tok-n">P</span> <span class="tok-o">=</span> <span class="tok-n">P</span> <span class="tok-o">*</span> <span class="tok-p">(</span><span class="tok-mi">1</span> <span class="tok-o">+</span> <span class="tok-n">r</span><span class="tok-p">)</span>
    <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-n">i</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>

<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;Final population: &quot;</span><span class="tok-p">,</span> <span class="tok-nb">int</span><span class="tok-p">(</span><span class="tok-n">P</span><span class="tok-p">))</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Assume we have current population of roughly 7.5 billion.<sup class="footnote">[<a id="_footnoteref_14" class="footnote" href="#_footnotedef_14" title="View footnote.">14</a>]</sup> If we look at plots over a 10 year (top left), 100 year (top right), 1000 year (bottom left), and 5000 year (bottom right) time horizon then the year plot looks nearly <em>linear</em>. But as we progress up to 5000 years we see that this seemingly linear growth is a mirage and we have a curve that is definitely exponential.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="./images/pop-10-year.png" alt="pop 10 year" width="300" height="300"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="./images/pop-100-year.png" alt="pop 100 year" width="300" height="300"></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="./images/pop-1000-year.png" alt="pop 1000 year" width="300" height="300"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="./images/pop-5000-year.png" alt="pop 5000 year" width="300" height="300"></span></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<em>Linear growth</em> follows the equation of a line, \(y=mx+b\) where \(m\) is the slope and \(b\) is the \(y\)-intercept.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The mathematically inclined will notice that if we just keep iterating the statement \(P = P(1+r)\) we can use a little algebra and keep substituting \(P(1+r)\) for \(P\).  Substituting once we get \(P = P(1+r)(1+r) = P(1+r)^2\). If we substitute a third time we get \(P = P(1+r)(1+r)(1+r) = P(1+r)^3\). After \(n+1\) substitutions we get \(P_{n+1} = P(1+r)^n\), and the exponential is obvious.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>When using a loop like this we can easily ask alternative questions such as <em>how many years will it take to reach a population of 10 billion</em>? This is just a simple matter of rephrasing the loop condition.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6
7
8
9</div></td><td class="code"><span></span><span class="tok-n">p</span> <span class="tok-o">=</span> <span class="tok-mf">7.5e9</span>    <span class="tok-c1"># initial population 7.5 billion</span>
<span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>        <span class="tok-c1"># counter</span>
<span class="tok-n">r</span> <span class="tok-o">=</span> <span class="tok-o">.</span><span class="tok-mo">011</span>     <span class="tok-c1"># growth rate 1.1%</span>

<span class="tok-k">while</span> <span class="tok-n">p</span> <span class="tok-o">&lt;</span> <span class="tok-mf">10e9</span><span class="tok-p">:</span>
    <span class="tok-n">p</span> <span class="tok-o">=</span> <span class="tok-n">p</span> <span class="tok-o">*</span> <span class="tok-p">(</span><span class="tok-mi">1</span> <span class="tok-o">+</span> <span class="tok-n">r</span><span class="tok-p">)</span>
    <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-n">i</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>

<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">i</span><span class="tok-p">,</span> <span class="tok-s2">&quot;years to 10 billion&quot;</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Check Yourself</div>
<p>The population growth rate is not constant. It fluctuates and has increased and decreased over the centuries. Currently it is decreasing at a rate of about <em>.025%</em> per year (.00025). Can we modify our program to incorporate a decreasing growth rate? The beauty of programming is that incorporating changes like this is easy compared to trying to figure out the mathematics.  Below is a graph over a 50 year period beginning with our current population. After 50 years the population is approximately \(9.5 \times 10^9\).</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="./images/pop-decreasing-growth.png" alt="align&quot;center&quot;"></span></p>
</div>
<div class="paragraph">
<p>If the growth rate decreases long enough it will eventually become negative. Correspondingly the population will start shrinking.</p>
</div>
<div class="paragraph">
<div class="title">Answer  <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p><span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</div></td><td class="code"><span></span><span class="tok-n">p</span> <span class="tok-o">=</span> <span class="tok-mf">7.5e9</span>    <span class="tok-c1"># initial population 7.5 billion</span>
<span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>        <span class="tok-c1"># counter</span>
<span class="tok-n">r</span> <span class="tok-o">=</span> <span class="tok-o">.</span><span class="tok-mo">011</span>     <span class="tok-c1"># growth rate 1.1%</span>
<span class="tok-n">n</span> <span class="tok-o">=</span> <span class="tok-nb">int</span><span class="tok-p">(</span><span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s2">&quot;Enter a number of years: &quot;</span><span class="tok-p">))</span>

<span class="tok-k">while</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-n">n</span><span class="tok-p">:</span>
    <span class="tok-n">p</span> <span class="tok-o">=</span> <span class="tok-n">p</span> <span class="tok-o">*</span> <span class="tok-p">(</span><span class="tok-mi">1</span> <span class="tok-o">+</span> <span class="tok-n">r</span><span class="tok-p">)</span>
    <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-n">i</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>
    <span class="tok-n">r</span> <span class="tok-o">=</span> <span class="tok-n">r</span> <span class="tok-o">-</span> <span class="tok-o">.</span><span class="tok-mo">00025</span> <i class="conum" data-value="1"></i><b>(1)</b>

<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;Final population: &quot;</span><span class="tok-p">,</span> <span class="tok-nb">int</span><span class="tok-p">(</span><span class="tok-n">p</span><span class="tok-p">))</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>This is the only line that has changed from the original solution. The rate decreases by <em>.025%</em> every year.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_checksums_detecting_network_communication_errors"><a class="anchor" href="#_checksums_detecting_network_communication_errors"></a>4.7. Checksums; detecting network communication errors</h3>
<div class="paragraph">
<p>A <em>checksum</em> is an integer derived from a larger integer and is used to detect communication errors in a network.  There are many different checksum techniques but one of the easiest to understand is to add up the digits in a base-ten integer mod ten, and then append that number to the original integer. Recall that in a computer, everything is represented as bits; music, images, web pages, Word documents, etc. Sequences of bits are just integers. Rather than work in the language of bits, binary, 0s and 1s, we will stick with the more familiar base-ten digits 0-9.</p>
</div>
<div class="paragraph">
<p>If a network was transmitting the number \(51623\) we would compute the checksum by computing \((5+1+6+2+3)\% 10 = 7\) and we would then transmit the number \(516237\). We call \(7\) the <em>checksum digit</em>, or just <em>checksum</em> for short. What would happen if there was an error in the transmission and the number transmitted was \(596237\). We remove the checksum digit \(7\), and compute
the checksum of \(59623\) which is \((5+9+6+2+3) \% 10 = 5\) and we see that \(7 \neq 5\) so there must have been an error in the transmission.</p>
</div>
<div class="paragraph">
<p>Why does this work? This only works if there is a single error in a digit. It is easy to construct a case where if there were multiple errors this would not work. For example, if we were transmitting the value \(516237\) and there were two errors in the original communication such as \(526137\) the checksum is \(7\) in both. If there is only single error it makes sense that a change in any single digit would change the final checksum mod \(10\).</p>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>What is the checksum digit for the integer \(198723\)?</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>It is \(0\) because \((1 + 9 + 8 + 7 + 2 + 3) \% 10 = 30 \% 10 = 0\).</p>
</div>
</div>
</div>
<div class="paragraph">
<p>How can we write a program to compute a checksum? If we have an integer such as \(51623\) we can get the last digit using \(\% 10\); for example, \(51623 \% 10 = 3\). Then we need to do the same to the remaining digits \(5162\). We can get that using <em>integer division</em> by 10, \(51623 // 10 = 5162\). We just keep repeating this process adding up the remainder until the number has been reduced to \(0\).</p>
</div>
<div class="paragraph">
<p>We can put this in a function that takes an integer to compute the checksum of and return the checksum.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6
7</div></td><td class="code"><span></span><span class="tok-k">def</span> <span class="tok-nf">checksum</span><span class="tok-p">(</span><span class="tok-n">n</span><span class="tok-p">):</span>
    <span class="tok-n">total</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>

    <span class="tok-k">while</span> <span class="tok-n">n</span> <span class="tok-o">&gt;</span> <span class="tok-mi">0</span><span class="tok-p">:</span>
        <span class="tok-n">total</span> <span class="tok-o">=</span> <span class="tok-n">total</span> <span class="tok-o">+</span> <span class="tok-p">(</span><span class="tok-n">n</span> <span class="tok-o">%</span> <span class="tok-mi">10</span><span class="tok-p">)</span>  <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="tok-n">n</span> <span class="tok-o">=</span> <span class="tok-n">n</span> <span class="tok-o">//</span> <span class="tok-mi">10</span>               <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="tok-k">return</span> <span class="tok-n">total</span> <span class="tok-o">%</span> <span class="tok-mi">10</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>or `total += n % 10</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>or <code>n //= 10</code></td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Review</div>
<ol class="arabic">
<li>
<p>Does the <code>checksum</code> function use any local variables?</p>
</li>
<li>
<p><code>n</code> on line 1 is a ________________________</p>
</li>
<li>
<p>Line 1 is the function ________________________</p>
</li>
<li>
<p>Lines 2-7 constitute the function ________________________</p>
</li>
<li>
<p><code>total</code> on line 2 is defined as a ______________________ variable.</p>
</li>
<li>
<p>What is the value of <code>checksum(91242)</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>How can we append the checksum of an integer to the end (the <em>least significant digit</em>)? For example if the checksum of \(51326\) is \(7\) how do we build the new integer \(513267\)?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2</div></td><td class="code"><span></span><span class="tok-n">check</span> <span class="tok-o">=</span> <span class="tok-n">checksum</span><span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">)</span>   <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-n">data</span> <span class="tok-o">=</span> <span class="tok-n">x</span> <span class="tok-o">*</span> <span class="tok-mi">10</span> <span class="tok-o">+</span> <span class="tok-n">check</span> <i class="conum" data-value="2"></i><b>(2)</b>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Compute the checksum of <code>x</code>, the integer we want to transmit</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Multiply <code>x</code> by 10 shifting it left, and then add in the checksum digit <code>check</code>.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_while_loop_exercises"><a class="anchor" href="#_while_loop_exercises"></a>4.8. While-Loop Exercises</h3>
<div class="paragraph">
<div class="title">Exercise 0</div>
<p>If you haven&#8217;t done the <em>Check Yourself</em> exercises in this chapter do those now.</p>
</div>
<div class="paragraph">
<div class="title">Exercise 1<span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p><em>The Fibonacci Sequence</em> is the sequence of integers \(0,1,1,2,3,5,8,13\cdots\). Each Fibonacci number is the sum of the previous two Fibonacci numbers. By definition the first two Fibonacci numbers are \(0\) and \(1\). If the first Fibonacci number is \(0\) then the seventh Fibonacci number is \(8\). Write a while-loop to compute the one-hundredth Fibonacci number. Hint: This is a little tricky. Use two variables, one to keep track of the current Fibonacci number and one for the previous Fibonacci number.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>The answer you get should be <code>218922995834555169026</code>.  This is a surprisingly large number. The Fibonacci sequence actually exhibits exponential growth.</p>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Exercise 2</div>
<p>Write a while loop to compute the sum of squares from \(1\) to \(100\), or \(1^2 + 2^2 + 3^2 + \cdots + 100^2\).</p>
</div>
<div class="paragraph">
<div class="title">Exercise 3</div>
<p>How many times will <code>hello</code> be printed by the code below?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4</div></td><td class="code"><span></span><span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">2</span>
<span class="tok-k">while</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-mi">11</span><span class="tok-p">:</span>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;hello&quot;</span><span class="tok-p">)</span>
	<span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-n">i</span> <span class="tok-o">+</span> <span class="tok-mi">2</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Exercise 4</div>
<p>How many times will <code>hello</code> be printed by the code below?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4</div></td><td class="code"><span></span><span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">12</span>
<span class="tok-k">while</span> <span class="tok-o">&lt;</span> <span class="tok-mi">18</span><span class="tok-p">:</span>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;hello&quot;</span><span class="tok-p">)</span>
	<span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-n">i</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Exercise 5</div>
<p>What is the output the code below?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5</div></td><td class="code"><span></span><span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">1</span>
<span class="tok-n">n</span> <span class="tok-o">=</span> <span class="tok-mi">10</span>
<span class="tok-k">while</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-n">n</span><span class="tok-p">:</span>
    <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-n">i</span> <span class="tok-o">*</span> <span class="tok-mi">2</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">i</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Exercise 6</div>
<p>Write a function <code>num_digits</code> that will return the number of digits in an integer. For example,
if we were to call <code>num_digits(5132981)</code> it would return 7 because there are 7 digits in 5132981. Hint: this is similar to the <code>checksum</code> program.</p>
</div>
<div class="paragraph">
<div class="title">Exercise 7</div>
<p>The <code>*</code> operator can be applied to a string and an integer. For example, <code>'Z' * 5</code> evaluates to <code>ZZZZZ</code>. Write a Python program that reads an integer from the user and prints a triangle pattern of asterisks. For example, if the user enters <code>6</code> then there are six rows of asterisks where the first row has one asterisk and the sixth row has six asterisks as in the sample output below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Enter n: 6
*
**
***
****
*****
******</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Answer  <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p><span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6</div></td><td class="code"><span></span><span class="tok-n">n</span> <span class="tok-o">=</span> <span class="tok-nb">int</span><span class="tok-p">(</span><span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s2">&quot;Enter n: &quot;</span><span class="tok-p">))</span>

<span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">1</span>
<span class="tok-k">while</span> <span class="tok-n">i</span> <span class="tok-o">&lt;=</span> <span class="tok-n">n</span><span class="tok-p">:</span>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s1">&#39;*&#39;</span> <span class="tok-o">*</span> <span class="tok-n">i</span><span class="tok-p">)</span> <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-n">i</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Print <code>i</code> asterisks and an end-of-line character.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_terminology_4"><a class="anchor" href="#_terminology_4"></a>4.9. Terminology</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 7. Terminology</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>particle</p>
</li>
<li>
<p>loop condition</p>
</li>
<li>
<p>convention</p>
</li>
<li>
<p>counting loop</p>
</li>
<li>
<p>brute force attack</p>
</li>
<li>
<p>linear growth</p>
</li>
<li>
<p>boolean</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>loop body</p>
</li>
<li>
<p>sprite</p>
</li>
<li>
<p>accumulating loop</p>
</li>
<li>
<p>infinite loop</p>
</li>
<li>
<p>exponential growth</p>
</li>
<li>
<p>checksum</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conditionals"><a class="anchor" href="#_conditionals"></a>5. Conditionals</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Lets simulate tossing a coin and print <code>Heads</code> or <code>Tails</code> with a 50-50 chance.</p>
</div>
<div class="paragraph">
<p>The <code>random</code> module contains many functions for generating random numbers. The function <code>random.random()</code> returns a <code>uniform</code> floating-point number between 0 and 1.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A random number generator is <em>uniform</em> if all outcomes are equally likely.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2</div></td><td class="code"><span></span><span class="tok-kn">import</span> <span class="tok-nn">random</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">random</span><span class="tok-p">())</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>0.2840077963246783</pre>
</div>
</div>
<div class="paragraph">
<p>The function <code>random.randrange(n)</code> returns a <em>uniform</em> random integer between 0 and <code>n-1</code> inclusive.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2</div></td><td class="code"><span></span><span class="tok-kn">import</span> <span class="tok-nn">random</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-mi">6</span><span class="tok-p">))</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>We need some way to check what the random number generator produced.
The <em>if-statement</em> executes one of two possible blocks of statements depending on a logical condition.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python">if (<strong><em>condition</em></strong>):
    true_stmts
else:
    false_stmts</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the condition is true then the block of statements labeled <code>true_stmts</code> will be executed, otherwise the block of statements labeled <code>false_stmts</code> will be executed. The <code>else</code> part is optional.  <code>if</code> and <code>else</code> are new <em>keywords</em>. They cannot be used as variable or function names. Notice also that the statements under the <code>if</code> of <code>else</code> are indented just like a function body or the body of a while loop.</p>
</div>
<div class="paragraph">
<p>Back to simulating a coin toss. Here is one way using <code>random.random()</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6
7</div></td><td class="code"><span></span><span class="tok-kn">import</span> <span class="tok-nn">random</span>
<span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">random</span><span class="tok-p">()</span>

<span class="tok-k">if</span> <span class="tok-n">x</span> <span class="tok-o">&lt;</span> <span class="tok-mf">0.5</span><span class="tok-p">:</span>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;Heads&quot;</span><span class="tok-p">)</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-k">else</span><span class="tok-p">:</span>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;Tails&quot;</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Assigning heads to be less than .5 is, of course, arbitrary. We could have just as easily made tails be less than .5.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Here is another way using <code>random.randrange()</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6
7</div></td><td class="code"><span></span><span class="tok-kn">import</span> <span class="tok-nn">random</span>
<span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-mi">2</span><span class="tok-p">)</span>

<span class="tok-k">if</span> <span class="tok-n">x</span> <span class="tok-o">==</span> <span class="tok-mi">0</span><span class="tok-p">:</span>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;Heads&quot;</span><span class="tok-p">)</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-k">else</span><span class="tok-p">:</span>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;Tails&quot;</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Similar to the above, assigning heads to be 0 is arbitrary.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Using either <code>random.random()</code> or <code>random.randrange()</code> is fine. One way is not particularly better than the other. Using <code>random.random()</code> makes it a little easier to simulate tossing an <em>unfair</em> coin. For example, a coin that comes up heads two-thirds of the time.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6
7</div></td><td class="code"><span></span><span class="tok-kn">import</span> <span class="tok-nn">random</span>
<span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">random</span><span class="tok-p">()</span>

<span class="tok-k">if</span> <span class="tok-n">x</span> <span class="tok-o">&lt;</span> <span class="tok-mi">2</span><span class="tok-o">/</span><span class="tok-mi">3</span><span class="tok-p">:</span>        <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;Heads&quot;</span><span class="tok-p">)</span>
<span class="tok-k">else</span><span class="tok-p">:</span>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;Tails&quot;</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>If the random number generator is uniform then this should ensure that <code>x</code> is less than <code>2/3</code>, well, with probability <code>2/3</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Using <code>random.randrange()</code> is a little tricker, but you can come close.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6
7</div></td><td class="code"><span></span><span class="tok-kn">import</span> <span class="tok-nn">random</span>
<span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-mi">1000</span><span class="tok-p">)</span>

<span class="tok-k">if</span> <span class="tok-n">x</span> <span class="tok-o">&lt;</span> <span class="tok-mi">667</span><span class="tok-p">:</span>         <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;Heads&quot;</span><span class="tok-p">)</span>
<span class="tok-k">else</span><span class="tok-p">:</span>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;Tails&quot;</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Not exactly two-thirds, but close. How can we make it more accurate?</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Write a program that reads an integer from the keyboard and prints <code>even</code>, if the number was even, or <code>odd</code> if the number was odd. A number is even if it is divisible by two. That is, the remainder after dividing by two is zero.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6</div></td><td class="code"><span></span><span class="tok-n">n</span> <span class="tok-o">=</span> <span class="tok-nb">int</span><span class="tok-p">(</span><span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s2">&quot;Enter an integer: &quot;</span><span class="tok-p">))</span>

<span class="tok-k">if</span> <span class="tok-n">n</span> <span class="tok-o">%</span> <span class="tok-mi">2</span> <span class="tok-o">==</span> <span class="tok-mi">0</span><span class="tok-p">:</span>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">n</span><span class="tok-p">,</span> <span class="tok-s2">&quot;is even&quot;</span><span class="tok-p">)</span>
<span class="tok-k">else</span><span class="tok-p">:</span>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">n</span><span class="tok-p">,</span> <span class="tok-s2">&quot;is odd&quot;</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_if_elif_else"><a class="anchor" href="#_if_elif_else"></a>5.1. if-elif-else</h3>
<div class="paragraph">
<p>Lets take an example of tossing a single die <sup class="footnote">[<a id="_footnoteref_15" class="footnote" href="#_footnotedef_15" title="View footnote.">15</a>]</sup>. We will print <code>one</code> if we rolled a one, <code>two</code> if we rolled a two, etc. One way to write this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</div></td><td class="code"><span></span><span class="tok-kn">import</span> <span class="tok-nn">random</span>

<span class="tok-n">d</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-mi">6</span><span class="tok-p">)</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>
<span class="tok-k">if</span> <span class="tok-n">d</span> <span class="tok-o">==</span> <span class="tok-mi">1</span><span class="tok-p">:</span>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;one&quot;</span><span class="tok-p">)</span>
<span class="tok-k">else</span><span class="tok-p">:</span>
    <span class="tok-k">if</span> <span class="tok-n">d</span> <span class="tok-o">==</span> <span class="tok-mi">2</span><span class="tok-p">:</span>
        <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;two&quot;</span><span class="tok-p">)</span>
    <span class="tok-k">else</span><span class="tok-p">:</span>
        <span class="tok-k">if</span> <span class="tok-n">d</span> <span class="tok-o">==</span> <span class="tok-mi">3</span><span class="tok-p">:</span>
            <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;three&quot;</span><span class="tok-p">)</span>
        <span class="tok-k">else</span><span class="tok-p">:</span>
            <span class="tok-k">if</span> <span class="tok-n">d</span> <span class="tok-o">==</span> <span class="tok-mi">4</span><span class="tok-p">:</span>
                <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;four&quot;</span><span class="tok-p">)</span>
            <span class="tok-k">else</span><span class="tok-p">:</span>
                <span class="tok-k">if</span> <span class="tok-n">d</span> <span class="tok-o">==</span> <span class="tok-mi">5</span><span class="tok-p">:</span>
                    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;five&quot;</span><span class="tok-p">)</span>
                <span class="tok-k">else</span><span class="tok-p">:</span>
                    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;six&quot;</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>This is pretty confusing and not very readable. Most programming languages have an alternative form of the if-statement that we sometimes call <em>if-else-if</em>. Here is Python&#8217;s version:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python">if (<strong><em>condition1</em></strong>):
    stmts1
elif (<strong><em>condition2</em></strong>):
    stmts2
elif (<strong><em>condition3</em></strong>):
    stmts3

	...

else:
    stmts_else</code></pre>
</div>
</div>
<div class="paragraph">
<p>The final <code>else</code> clause is optional. Note the new keyword <code>elif</code>.  <code>condition1</code> is checked first and if it is true then <code>stmts</code> is executed, and the remainder of the if-elif-statement is skipped. If <code>condition1</code> is false we check <code>condition2</code> and so on.</p>
</div>
<div class="paragraph">
<p>Now we can write our die toss program as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</div></td><td class="code"><span></span><span class="tok-n">d</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-mi">6</span><span class="tok-p">)</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>
<span class="tok-k">if</span> <span class="tok-n">d</span> <span class="tok-o">==</span> <span class="tok-mi">1</span><span class="tok-p">:</span>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;one&quot;</span><span class="tok-p">)</span>
<span class="tok-k">elif</span> <span class="tok-n">d</span> <span class="tok-o">==</span> <span class="tok-mi">2</span><span class="tok-p">:</span>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;two&quot;</span><span class="tok-p">)</span>
<span class="tok-k">elif</span> <span class="tok-n">d</span> <span class="tok-o">==</span> <span class="tok-mi">3</span><span class="tok-p">:</span>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;three&quot;</span><span class="tok-p">)</span>
<span class="tok-k">elif</span> <span class="tok-n">d</span> <span class="tok-o">==</span> <span class="tok-mi">4</span><span class="tok-p">:</span>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;four&quot;</span><span class="tok-p">)</span>
<span class="tok-k">elif</span> <span class="tok-n">d</span> <span class="tok-o">==</span> <span class="tok-mi">5</span><span class="tok-p">:</span>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;five&quot;</span><span class="tok-p">)</span>
<span class="tok-k">else</span><span class="tok-p">:</span>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;six&quot;</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_logical_operators"><a class="anchor" href="#_logical_operators"></a>5.2. Logical Operators</h3>
<div class="paragraph">
<p>Up until now our conditions in either the while loop or the if-statement have been relatively simple. Python, as do all other programming languages, allow you to state more complicated conditions such as, <em>if the temperature greater than 50 and less than 100</em>. We have new Python keywords <code>and</code>, <code>or</code>, <code>not</code>.</p>
</div>
<div class="sect3">
<h4 id="_logical_and"><a class="anchor" href="#_logical_and"></a>5.2.1. Logical <code>and</code></h4>
<div class="paragraph">
<p>Lets say we rolled a pair of dice and wanted to check if we rolled two ones (snake eyes). Our first attempt, might be:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6</div></td><td class="code"><span></span><span class="tok-n">d1</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-mi">6</span><span class="tok-p">)</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>
<span class="tok-n">d2</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-mi">6</span><span class="tok-p">)</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>

<span class="tok-k">if</span> <span class="tok-n">d1</span> <span class="tok-o">==</span> <span class="tok-mi">1</span><span class="tok-p">:</span>
    <span class="tok-k">if</span> <span class="tok-n">d2</span> <span class="tok-o">==</span> <span class="tok-mi">1</span><span class="tok-p">:</span>
        <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;snake eyes!&quot;</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>This works just fine, albeit a bit clunky. More concise would be to use the logical operator <code>and</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5</div></td><td class="code"><span></span><span class="tok-n">d1</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-mi">6</span><span class="tok-p">)</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>
<span class="tok-n">d2</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-mi">6</span><span class="tok-p">)</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>

<span class="tok-k">if</span> <span class="tok-n">d1</span> <span class="tok-o">==</span> <span class="tok-mi">1</span> <span class="tok-ow">and</span> <span class="tok-n">d2</span> <span class="tok-o">==</span> <span class="tok-mi">1</span><span class="tok-p">:</span> <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;snake eyes!&quot;</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>and</code> is a Python keyword.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The logical operator <code>and</code> combines a logical value on the left and the right, <em>X</em> <code>and</code> <em>Y</em>. The entire logical expression is true if both <em>X</em> and <em>Y</em> are true.  We often state this interms of a <em>truth table</em>.</p>
</div>
<div class="paragraph">
<p><code>False</code> and <code>True</code> are Python keywords.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 50%;">
<caption class="title">Table 8. Logical <code>and</code></caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">X</th>
<th class="tableblock halign-left valign-top">Y</th>
<th class="tableblock halign-left valign-top">X <code>and</code> Y</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>False</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>False</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>False</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>True</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>True</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>False</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>True</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>True</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>True</code></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A <em>truth table</em> enumerates all possible outcomes of a logical operator for all possible inputs.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Write an if-statement that checks whether an integer <code>n</code> is between 0 and 100 inclusive. If it is then set a variable <code>x</code> to <code>0</code>. Write it two ways, one using a nested if-statement, and the second using the logical <code>and</code> operator.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="listingblock">
<div class="title">Version 1</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3</div></td><td class="code"><span></span><span class="tok-k">if</span> <span class="tok-n">n</span> <span class="tok-o">&gt;=</span> <span class="tok-mi">0</span><span class="tok-p">:</span>
    <span class="tok-k">if</span> <span class="tok-n">n</span> <span class="tok-o">&lt;=</span> <span class="tok-mi">100</span><span class="tok-p">:</span>
        <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Version 2</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2</div></td><td class="code"><span></span><span class="tok-k">if</span> <span class="tok-n">n</span> <span class="tok-o">&gt;=</span> <span class="tok-mi">0</span> <span class="tok-ow">and</span> <span class="tok-n">n</span> <span class="tok-o">&lt;=</span> <span class="tok-mi">100</span><span class="tok-p">:</span>
    <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>These are not complete programs as we haven&#8217;t assigned a value to <code>n</code> yet. We will often call these <em>code fragments</em>.</p>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A <em>code fragment</em> is an incomplete segment of Python code. It is not meant to be a complete program.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_logical_or"><a class="anchor" href="#_logical_or"></a>5.2.2. Logical <code>or</code></h4>
<div class="paragraph">
<p>Returning to our dice roll, lets check to see if at least one of the dice is a one. Again, your first instinct might be to write this using if-statements alone, which is possible.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6
7</div></td><td class="code"><span></span><span class="tok-n">d1</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-mi">6</span><span class="tok-p">)</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>
<span class="tok-n">d2</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-mi">6</span><span class="tok-p">)</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>

<span class="tok-k">if</span> <span class="tok-n">d1</span> <span class="tok-o">==</span> <span class="tok-mi">1</span><span class="tok-p">:</span>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;one&quot;</span><span class="tok-p">)</span>
<span class="tok-k">elif</span> <span class="tok-n">d2</span> <span class="tok-o">==</span> <span class="tok-mi">1</span><span class="tok-p">:</span>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;one&quot;</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>But a more concise way would be to use the logical <code>or</code> operator.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5</div></td><td class="code"><span></span><span class="tok-n">d1</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-mi">6</span><span class="tok-p">)</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>
<span class="tok-n">d2</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-mi">6</span><span class="tok-p">)</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>

<span class="tok-k">if</span> <span class="tok-n">d1</span> <span class="tok-o">==</span> <span class="tok-mi">1</span> <span class="tok-ow">or</span> <span class="tok-n">d2</span> <span class="tok-o">==</span> <span class="tok-mi">1</span><span class="tok-p">:</span> <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;one&quot;</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>or</code> is a Python keyword.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The logical operator <code>or</code> combines a logical value on the left and the right, <em>X</em> <code>or</code> <em>Y</em>. The entire logical expression is true if either one of <em>X</em> or <em>Y</em> is true.  The truth table for logical <code>or</code> is:</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 50%;">
<caption class="title">Table 9. Logical <code>or</code></caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">X</th>
<th class="tableblock halign-left valign-top">Y</th>
<th class="tableblock halign-left valign-top">X <code>or</code> Y</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>False</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>False</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>False</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>True</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>True</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>False</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>True</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>True</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>True</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>When <code>and</code> and <code>or</code> are both used in an expression <code>and</code> has a higher precedence (much like <code>*</code> does over <code>+</code>).</p>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Write a code fragment that will determine whether a user rolled exactly one 1.
Assume variable <code>d1</code> and <code>d2</code> have values.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>There several ways to write this. Here is one way.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2</div></td><td class="code"><span></span><span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-n">d1</span> <span class="tok-o">==</span> <span class="tok-mi">1</span> <span class="tok-ow">or</span> <span class="tok-n">d2</span> <span class="tok-o">==</span> <span class="tok-mi">1</span><span class="tok-p">)</span> <span class="tok-ow">and</span> <span class="tok-n">d1</span> <span class="tok-o">!=</span> <span class="tok-n">d2</span><span class="tok-p">:</span> <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;exactly one, 1&quot;</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>The parentheses around the <code>or</code> are necessary.  Another solution is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2</div></td><td class="code"><span></span><span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-n">d1</span> <span class="tok-o">==</span> <span class="tok-mi">1</span> <span class="tok-ow">or</span> <span class="tok-n">d2</span> <span class="tok-o">==</span> <span class="tok-mi">1</span><span class="tok-p">)</span> <span class="tok-ow">and</span> <span class="tok-p">(</span><span class="tok-n">d1</span> <span class="tok-o">!=</span> <span class="tok-mi">1</span> <span class="tok-ow">or</span> <span class="tok-n">d2</span> <span class="tok-o">!=</span> <span class="tok-mi">1</span><span class="tok-p">):</span> <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;exactly one, 1&quot;</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Note the parentheses, they are necessary.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Yet a third solution is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2</div></td><td class="code"><span></span><span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-n">d1</span> <span class="tok-o">==</span> <span class="tok-mi">1</span> <span class="tok-ow">and</span> <span class="tok-n">d2</span> <span class="tok-o">!=</span> <span class="tok-mi">1</span><span class="tok-p">)</span> <span class="tok-ow">or</span> <span class="tok-p">(</span><span class="tok-n">d1</span> <span class="tok-o">!=</span> <span class="tok-mi">1</span> <span class="tok-ow">and</span> <span class="tok-n">d2</span> <span class="tok-o">==</span> <span class="tok-mi">1</span><span class="tok-p">):</span>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;exactly one, 1&quot;</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_logical_not"><a class="anchor" href="#_logical_not"></a>5.2.3. Logical <code>not</code></h4>
<div class="paragraph">
<p>The remaining logical operator is <code>not</code>, the logical negation of <code>True</code> and <code>False</code>. The truth table is simply:</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 25%;">
<caption class="title">Table 10. Logical <code>not</code></caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">X</th>
<th class="tableblock halign-left valign-top"><code>not</code> X</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>False</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>True</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>False</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_exercises_4"><a class="anchor" href="#_exercises_4"></a>5.3. Exercises</h3>
<div class="paragraph">
<div class="title">Exercise 1 <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Write a function <code>max2</code> that returns the larger of the two parameters. For example, <code>print(max2(9,7))</code>
would print <code>9</code>.</p>
</div>
<div class="listingblock result">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-k">def</span> <span class="tok-nf">max2</span><span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">):</span>
    <span class="tok-k">if</span> <span class="tok-n">x</span> <span class="tok-o">&gt;</span> <span class="tok-n">y</span><span class="tok-p">:</span>
        <span class="tok-k">return</span> <span class="tok-n">x</span>
    <span class="tok-k">else</span><span class="tok-p">:</span>
        <span class="tok-k">return</span> <span class="tok-n">y</span></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Exercise 2<span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Write a function <code>max3</code> that returns the maximum of three parameters. For example, <code>print(max3(4,2,9))</code> would print <code>9</code>.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6
7</div></td><td class="code"><span></span><span class="tok-k">def</span> <span class="tok-nf">max3</span><span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">,</span><span class="tok-n">z</span><span class="tok-p">):</span>
    <span class="tok-k">if</span> <span class="tok-n">x</span> <span class="tok-o">&gt;</span> <span class="tok-n">y</span> <span class="tok-ow">and</span> <span class="tok-n">x</span> <span class="tok-o">&gt;</span> <span class="tok-n">z</span><span class="tok-p">:</span>    <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="tok-k">return</span> <span class="tok-n">x</span>
    <span class="tok-k">elif</span> <span class="tok-n">y</span> <span class="tok-o">&gt;</span> <span class="tok-n">x</span> <span class="tok-ow">and</span> <span class="tok-n">y</span> <span class="tok-o">&gt;</span> <span class="tok-n">z</span><span class="tok-p">:</span>  <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="tok-k">return</span> <span class="tok-n">y</span>
    <span class="tok-k">else</span><span class="tok-p">:</span>                  <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="tok-k">return</span> <span class="tok-n">z</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Is <code>x</code> the largest?</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Is <code>y</code> the largest?</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>It must be <code>z</code></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A more concise way would be to use the function <code>max2</code> from the previus
problem.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2</div></td><td class="code"><span></span><span class="tok-k">def</span> <span class="tok-nf">max3</span><span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">,</span><span class="tok-n">z</span><span class="tok-p">):</span>
    <span class="tok-k">return</span> <span class="tok-n">max2</span><span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">max2</span><span class="tok-p">(</span><span class="tok-n">y</span><span class="tok-p">,</span><span class="tok-n">z</span><span class="tok-p">))</span> <i class="conum" data-value="1"></i><b>(1)</b>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Recall that this is called <em>function composition</em>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Okay, so none of this was necessary. Python already has a built-in function <code>max</code> that can take an arbitrary number of arguments.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-nb">max</span><span class="tok-p">(</span><span class="tok-mi">4</span><span class="tok-p">,</span><span class="tok-mi">1</span><span class="tok-p">))</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-nb">max</span><span class="tok-p">(</span><span class="tok-mi">4</span><span class="tok-p">,</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">9</span><span class="tok-p">))</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-nb">max</span><span class="tok-p">(</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">10</span><span class="tok-p">,</span><span class="tok-mi">4</span><span class="tok-p">,</span><span class="tok-mi">1</span><span class="tok-p">))</span></code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Exercise 3</div>
<p>Write a function <code>middle</code> that returns middle of three numbers. Calling <code>print(middle(4,1,9))</code> would print <code>4</code>.</p>
</div>
<div class="paragraph">
<div class="title">Exercise 4 <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Write a program that reads three integers from the user and prints <code>equal</code> if all three are equal and <code>not equal</code> if they are not all the same.</p>
</div>
<div class="listingblock result">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-nb">int</span><span class="tok-p">(</span><span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s2">&quot;Enter number: &quot;</span><span class="tok-p">))</span>
<span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-nb">int</span><span class="tok-p">(</span><span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s2">&quot;Enter number: &quot;</span><span class="tok-p">))</span>
<span class="tok-n">z</span> <span class="tok-o">=</span> <span class="tok-nb">int</span><span class="tok-p">(</span><span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s2">&quot;Enter number: &quot;</span><span class="tok-p">))</span>

<span class="tok-k">if</span> <span class="tok-n">x</span> <span class="tok-o">==</span> <span class="tok-n">y</span> <span class="tok-ow">and</span> <span class="tok-n">y</span> <span class="tok-o">==</span> <span class="tok-n">z</span><span class="tok-p">:</span>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s1">&#39;equal&#39;</span><span class="tok-p">)</span>
<span class="tok-k">else</span><span class="tok-p">:</span>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s1">&#39;not equal&#39;</span><span class="tok-p">)</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_terminology_5"><a class="anchor" href="#_terminology_5"></a>5.4. Terminology</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 11. Terminology</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>uniform random number</p>
</li>
<li>
<p>code fragment</p>
</li>
<li>
<p>truth table</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>and</code></p>
</li>
<li>
<p><code>or</code></p>
</li>
<li>
<p><code>not</code></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_a_random_walk"><a class="anchor" href="#_a_random_walk"></a>6. A Random Walk</h2>
<div class="sectionbody">
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Computer Simulations are really just virtual time machines.</p>
</div>
</blockquote>
<div class="attribution">
&#8212; Edmond Kirsch in Origin: A Novel<br>
<cite>by Dan Brown</cite>
</div>
</div>
<div class="paragraph">
<p>The real power in programming comes from how we can combine loops, conditional statements, and functions in creative ways to solve or explore a problem.  We will continue our investigations in
programming by exploring the nature of <em>randomness</em>.<sup class="footnote">[<a id="_footnoteref_16" class="footnote" href="#_footnotedef_16" title="View footnote.">16</a>]</sup></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A computer program is <em>deterministic</em> if it produces the same exact results every time it executes.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
"A random process models the progression of a system over time, where the evolution is random rather than deterministic."<sup class="footnote">[<a id="_footnoteref_17" class="footnote" href="#_footnotedef_17" title="View footnote.">17</a>]</sup>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Lets simulate tossing a coin \(n\) times counting the number of occurrences of a head or a tail. We will have \(n\) be input by the user. We will start by tossing a coin once and checking if it is heads or tails using a variable <code>heads</code> to keep track of the number times heads appeared and a variable <code>tails</code> for the number of times tails appeared.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6</div></td><td class="code"><span></span><span class="tok-n">toss</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-mi">2</span><span class="tok-p">)</span>

<span class="tok-k">if</span> <span class="tok-n">toss</span> <span class="tok-o">==</span> <span class="tok-mi">0</span><span class="tok-p">:</span>
    <span class="tok-n">heads</span> <span class="tok-o">=</span> <span class="tok-n">heads</span> <span class="tok-o">+</span> <span class="tok-mi">1</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-k">else</span><span class="tok-p">:</span>
    <span class="tok-n">tails</span> <span class="tok-o">=</span> <span class="tok-n">tails</span> <span class="tok-o">+</span> <span class="tok-mi">1</span> <i class="conum" data-value="2"></i><b>(2)</b>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>This is actually a syntax error because <code>heads</code> is not yet defined.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Same comment. <code>tails</code> is not yet defined.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This is the loop body, all we need to do now is to get \(n\) from the user, initialize the <code>heads</code> and <code>tails</code> variables, and use a counting loop to toss the die \(n\) times.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Don&#8217;t try and write the program all at once. Break into parts.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</div></td><td class="code"><span></span><span class="tok-kn">import</span> <span class="tok-nn">random</span>

<span class="tok-n">n</span> <span class="tok-o">=</span> <span class="tok-nb">int</span><span class="tok-p">(</span><span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s2">&quot;Enter number of times to toss coin: &quot;</span><span class="tok-p">))</span>

<span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>       <span class="tok-c1"># loop counter</span>
<span class="tok-n">heads</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>   <span class="tok-c1"># number of heads tossed</span>
<span class="tok-n">tails</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>   <span class="tok-c1"># number of tails tossed</span>

<span class="tok-k">while</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-n">n</span><span class="tok-p">:</span>
    <span class="tok-n">toss</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-mi">2</span><span class="tok-p">)</span> <i class="conum" data-value="1"></i><b>(1)</b>

    <span class="tok-k">if</span> <span class="tok-n">toss</span> <span class="tok-o">==</span> <span class="tok-mi">0</span><span class="tok-p">:</span>
        <span class="tok-n">heads</span> <span class="tok-o">=</span> <span class="tok-n">heads</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>
    <span class="tok-k">else</span><span class="tok-p">:</span>
        <span class="tok-n">tails</span> <span class="tok-o">=</span> <span class="tok-n">tails</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>
    <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-n">i</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>

<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;Heads: &quot;</span><span class="tok-p">,</span> <span class="tok-n">heads</span><span class="tok-p">)</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;Tails: &quot;</span><span class="tok-p">,</span> <span class="tok-n">tails</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>A common mistake is to put this statement before the loop. Why is that incorrect?</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>One of the benefits of writing a program like this, a <em>simulation</em>, is that we can simulate tossing a coin thousands, millions, or even billions of times. This is not possible if we were to try and do this by hand with a real coin.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If you think you need a loop try and figure out what the process is that needs to be repeated. Then, put that in the loop as the loop body.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A <em>computer simulation</em> is a computer program that represents a simulation (or model) of some real-world process.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>As you might expect when you run this program, the number of times heads and tails are rolled is roughly equal. But this only prints the final result. What is going on <em>during</em> the simulation?</p>
</div>
<div class="paragraph">
<div class="title">Check Yourself<span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Modify the coin toss program to count the number of times it takes to toss ten heads in a row. Run the program a few times. How big do you have to make \(n\) in order to get ten heads in a row?</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>This is just one possible solution.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</div></td><td class="code"><span></span><span class="tok-kn">import</span> <span class="tok-nn">random</span>

<span class="tok-n">n</span> <span class="tok-o">=</span> <span class="tok-nb">int</span><span class="tok-p">(</span><span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s2">&quot;Enter number of times to toss coin: &quot;</span><span class="tok-p">))</span>

<span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>
<span class="tok-n">heads</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>
<span class="tok-n">tails</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>
<span class="tok-n">in_a_row</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>         <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-n">in_a_row_count</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>   <i class="conum" data-value="2"></i><b>(2)</b>

<span class="tok-k">while</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-n">n</span><span class="tok-p">:</span>
    <span class="tok-n">toss</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-mi">2</span><span class="tok-p">)</span>

    <span class="tok-k">if</span> <span class="tok-n">toss</span> <span class="tok-o">==</span> <span class="tok-mi">0</span><span class="tok-p">:</span>
        <span class="tok-n">heads</span> <span class="tok-o">=</span> <span class="tok-n">heads</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>
        <span class="tok-n">in_a_row</span> <span class="tok-o">=</span> <span class="tok-n">in_a_row</span> <span class="tok-o">+</span> <span class="tok-mi">1</span> <i class="conum" data-value="3"></i><b>(3)</b>
    <span class="tok-k">else</span><span class="tok-p">:</span>
        <span class="tok-n">tails</span> <span class="tok-o">=</span> <span class="tok-n">tails</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>
        <span class="tok-n">in_a_row</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>            <i class="conum" data-value="4"></i><b>(4)</b>

    <span class="tok-k">if</span> <span class="tok-n">in_a_row</span> <span class="tok-o">==</span> <span class="tok-mi">10</span><span class="tok-p">:</span>          <i class="conum" data-value="5"></i><b>(5)</b>
        <span class="tok-n">in_a_row_count</span> <span class="tok-o">=</span> <span class="tok-n">in_a_row_count</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>

    <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-n">i</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>

<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;Heads: &quot;</span><span class="tok-p">,</span> <span class="tok-n">heads</span><span class="tok-p">)</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;Tails: &quot;</span><span class="tok-p">,</span> <span class="tok-n">tails</span><span class="tok-p">)</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;Number of ten in a row: &quot;</span><span class="tok-p">,</span> <span class="tok-n">in_a_row_count</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>A counter for keeping track of number of heads in a row.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Keep track of the number of times we roll heads ten in a row.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>When we roll heads, increment the counter.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>If we roll tails, reset the counter.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Check to see if we hit ten in a row.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_the_gamblers_ruin"><a class="anchor" href="#_the_gamblers_ruin"></a>6.1. The Gambler&#8217;s Ruin</h3>
<div class="paragraph">
<p>Lets modify our coin toss program and see if we can learn something about randomness. Assume a gambler is playing the coin toss game, if they guess correctly they win a chip, and lose one of they are wrong. They have a 50-50 chance of winning each toss (better odds than a real casino.) Maybe they will start with a certain number of chips, say one thousand.</p>
</div>
<div class="paragraph">
<p>How long will the gambler play? A recreational gambler might play until they lose everything or hit some goal, such as doubling their chips. Lets modify the coin toss program and turn it in to the coin toss gambling game. We could ask the user every time if they want to choose heads or tails, but this may take a long time, and we will want to see what happens over many tosses (a thousand, or million). Since it doesn&#8217;t matter what the gambler guesses, because it is always 50-50, we can have the program always choose heads (or tails) for the guess.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</div></td><td class="code"><span></span><span class="tok-kn">import</span> <span class="tok-nn">random</span>
<span class="tok-n">chips</span> <span class="tok-o">=</span> <span class="tok-mi">1000</span>                        <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-k">while</span> <span class="tok-n">chips</span> <span class="tok-o">&gt;</span> <span class="tok-mi">0</span> <span class="tok-ow">and</span> <span class="tok-n">chips</span> <span class="tok-o">&lt;</span> <span class="tok-mi">2000</span><span class="tok-p">:</span>   <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="tok-n">toss</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-mi">2</span><span class="tok-p">)</span>

    <span class="tok-k">if</span> <span class="tok-n">toss</span> <span class="tok-o">==</span> <span class="tok-mi">0</span><span class="tok-p">:</span>
        <span class="tok-n">chips</span> <span class="tok-o">=</span> <span class="tok-n">chips</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>
    <span class="tok-k">else</span><span class="tok-p">:</span>
        <span class="tok-n">chips</span> <span class="tok-o">=</span> <span class="tok-n">chips</span> <span class="tok-o">-</span> <span class="tok-mi">1</span>

<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">chips</span><span class="tok-p">)</span> <i class="conum" data-value="3"></i><b>(3)</b>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>We start with 1000 chips.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>We play until we double our chips or lose them all.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Will print either 0 or 2000.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you run this program many times, as you might expect, about half the time the player loses everything and half the time they double their money. But a player with a gambling problem typically can&#8217;t quit, even when they are ahead. What might the program look like now?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</div></td><td class="code"><span></span><span class="tok-kn">import</span> <span class="tok-nn">random</span>
<span class="tok-n">chips</span> <span class="tok-o">=</span> <span class="tok-mi">1000</span>
<span class="tok-k">while</span> <span class="tok-n">chips</span> <span class="tok-o">&gt;</span> <span class="tok-mi">0</span><span class="tok-p">:</span>  <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-n">toss</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-mi">2</span><span class="tok-p">)</span>

    <span class="tok-k">if</span> <span class="tok-n">toss</span> <span class="tok-o">==</span> <span class="tok-mi">0</span><span class="tok-p">:</span>
        <span class="tok-n">chips</span> <span class="tok-o">=</span> <span class="tok-n">chips</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>
    <span class="tok-k">else</span><span class="tok-p">:</span>
        <span class="tok-n">chips</span> <span class="tok-o">=</span> <span class="tok-n">chips</span> <span class="tok-o">-</span> <span class="tok-mi">1</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">chips</span><span class="tok-p">)</span> <i class="conum" data-value="2"></i><b>(2)</b>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The only change is to remove the condition that the loop terminate when <code>chips</code> reaches 2000.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>What will always get printed?</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>We don&#8217;t even need to run the program to see what will happen here. The only way the program terminates is when the number of chips reaches zero. This will always happen and is called <em>The Gambler&#8217;s Ruin</em>. A gambler who gambles long enough will always lose everything.</p>
</div>
<div class="sect3">
<h4 id="_a_one_dimensional_random_walk"><a class="anchor" href="#_a_one_dimensional_random_walk"></a>6.1.1. A One Dimensional Random Walk</h4>
<div class="paragraph">
<p>How can we visualize this random process, plotting the number of chips the gambler has over time. It is instructive to let the number of chips go negative (similar to borrowing chips from the casino). Assuming we have a Pygame window of width \(w\) and height \(h\), if we let the center \(y\)-coordinate of the window represent \(0\) chips then <code>0 - chips</code> will be the \(y\)
coordinate of where we need to draw a pixel. If we keep a counter <code>i</code> for each toss of the coin then <code>i</code> will represent the <code>x</code> coordinate.</p>
</div>
<div class="paragraph">
<p>The Pygame command</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">set_at</span><span class="tok-p">((</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">),</span> <span class="tok-n">RGB</span><span class="tok-p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>draws a single pixel at coordinate <code>(x,y)</code> with the  color <code>RGB</code> (which should be an RGB triple).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</div></td><td class="code"><span></span><span class="tok-kn">import</span> <span class="tok-nn">random</span><span class="tok-o">,</span><span class="tok-nn">pygame</span><span class="tok-o">,</span><span class="tok-nn">color</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">init</span><span class="tok-p">()</span>
<span class="tok-n">win</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">set_mode</span><span class="tok-p">((</span><span class="tok-mi">600</span><span class="tok-p">,</span><span class="tok-mi">600</span><span class="tok-p">))</span>
<span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">fill</span><span class="tok-p">(</span><span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">white</span><span class="tok-p">)</span>

<span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>
<span class="tok-n">chips</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>
<span class="tok-n">scale</span> <span class="tok-o">=</span> <span class="tok-mi">100</span>                       <i class="conum" data-value="1"></i><b>(1)</b>

<span class="tok-k">while</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">get_width</span><span class="tok-p">()</span><span class="tok-o">*</span><span class="tok-n">scale</span><span class="tok-p">:</span>  <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="tok-n">n</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-mi">2</span><span class="tok-p">)</span>

    <span class="tok-k">if</span> <span class="tok-n">n</span> <span class="tok-o">%</span> <span class="tok-mi">2</span> <span class="tok-o">==</span> <span class="tok-mi">0</span><span class="tok-p">:</span>
        <span class="tok-n">chips</span> <span class="tok-o">=</span> <span class="tok-n">chips</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>
    <span class="tok-k">else</span><span class="tok-p">:</span>
        <span class="tok-n">chips</span> <span class="tok-o">=</span> <span class="tok-n">chips</span> <span class="tok-o">-</span> <span class="tok-mi">1</span>

    <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">set_at</span><span class="tok-p">((</span><span class="tok-n">i</span><span class="tok-o">//</span><span class="tok-n">scale</span><span class="tok-p">,</span> <span class="tok-n">h</span><span class="tok-o">//</span><span class="tok-mi">2</span> <span class="tok-o">-</span> <span class="tok-n">chips</span><span class="tok-p">),</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">black</span><span class="tok-p">)</span> <i class="conum" data-value="3"></i><b>(3)</b>

    <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">line</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">red</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">,</span><span class="tok-n">h</span><span class="tok-o">//</span><span class="tok-mi">2</span><span class="tok-p">),</span> <span class="tok-p">(</span><span class="tok-n">h</span><span class="tok-o">-</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-n">h</span><span class="tok-o">//</span><span class="tok-mi">2</span><span class="tok-p">))</span> <i class="conum" data-value="4"></i><b>(4)</b>
    <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">update</span><span class="tok-p">()</span>
    <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-n">i</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Rather than drawing only one point for each \(x\)-coordinate, we can fit more points if we plot multiple points at each coordinate. The <code>scale</code> variable is used for this.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Only draw until we fill the screen. This is also the first time we have seen this function call <code>win.get_width()</code>. See the note below.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Plot our current chip count. Notice the use of the <code>scale</code> variable to plot multiple points at each x-coordinate.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Keep redrawing a red line in the middle to represent zero chips.</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The window object <code>win</code> has methods <code>get_width()</code> and <code>get_height()</code> that returns
the width and the height of the window, in pixels. Recall that <em>methods</em> are special functions
that are defined on objects.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The random walk on the left plots 10 points per \(x\)-coordinate <code>scale = 10</code>. The plot on the right
plots 100 points per pixel <code>scale = 100</code>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 12. Two random walks</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="./images/rand_walk1.png" alt="rand walk1" width="300" height="300"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="./images/rand_walk2.png" alt="rand walk2" width="300" height="300"></span></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Even though we have a 50-50 chance of increasing or decreasing our chip count on every roll notice that we still go on long winning or long losing streaks.</p>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Modify the random walk above so that whenever we have a positive chip count we plot a green pixel. For a negative chip count plot a red pixel.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>Replace the line that plots a point with the condition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4</div></td><td class="code"><span></span><span class="tok-k">if</span> <span class="tok-n">cash</span> <span class="tok-o">&gt;</span> <span class="tok-mi">0</span><span class="tok-p">:</span>
    <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">set_at</span><span class="tok-p">((</span><span class="tok-n">i</span><span class="tok-o">//</span><span class="tok-n">scale</span><span class="tok-p">,</span> <span class="tok-n">h</span><span class="tok-o">//</span><span class="tok-mi">2</span><span class="tok-o">-</span><span class="tok-n">cash</span><span class="tok-p">),</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">green</span><span class="tok-p">)</span>
<span class="tok-k">else</span><span class="tok-p">:</span>
    <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">set_at</span><span class="tok-p">((</span><span class="tok-n">i</span><span class="tok-o">//</span><span class="tok-n">scale</span><span class="tok-p">,</span> <span class="tok-n">h</span><span class="tok-o">//</span><span class="tok-mi">2</span><span class="tok-o">-</span><span class="tok-n">cash</span><span class="tok-p">),</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">red</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>What color pixel gets plotted when cash equals 0? Does it matter? No, drawing the red line erases whatever pixel that would have been drawn at \(y\)-coordinate \(0\).</p>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Modify the random walk so that whenever we hit a new high we mark the location by printing a small green circle (slightly bigger than a single pixel).  Also, when we hit a new low, plot a red circle at the location.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>The trick here is to use two variables, one to keep track of the current high, and the other to keep track of the current low. Call these <code>high</code> and <code>low</code> and should be initialized to the starting <code>cash</code> amount at the beginning. Whenever the <code>cash</code> variable exceeds <code>high</code>, set <code>high</code> to cash. Similarly when <code>cash</code> is less than <code>low</code> set <code>low</code> to <code>cash</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6</div></td><td class="code"><span></span><span class="tok-k">if</span> <span class="tok-n">cash</span> <span class="tok-o">&gt;</span> <span class="tok-n">high</span><span class="tok-p">:</span>
	<span class="tok-n">high</span> <span class="tok-o">=</span> <span class="tok-n">cash</span>
	<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">circle</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">green</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">i</span><span class="tok-o">//</span><span class="tok-n">scale</span><span class="tok-p">,</span> <span class="tok-n">h</span><span class="tok-o">//</span><span class="tok-mi">2</span><span class="tok-o">-</span><span class="tok-n">cash</span><span class="tok-p">),</span> <span class="tok-mi">2</span><span class="tok-p">)</span>
<span class="tok-k">elif</span> <span class="tok-n">cash</span> <span class="tok-o">&lt;</span> <span class="tok-n">low</span><span class="tok-p">:</span>
	<span class="tok-n">low</span> <span class="tok-o">=</span> <span class="tok-n">cash</span>
	<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">draw</span><span class="tok-o">.</span><span class="tok-n">circle</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">red</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">i</span><span class="tok-o">//</span><span class="tok-n">scale</span><span class="tok-p">,</span> <span class="tok-n">h</span><span class="tok-o">//</span><span class="tok-mi">2</span><span class="tok-o">-</span><span class="tok-n">cash</span><span class="tok-p">),</span> <span class="tok-mi">2</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Here is an example run. Early in the simulation we generate lots of new highs and lows, and whenever we hit a new high or low we tend to generate several nearby, but these becaome rare as the simulation progresses. This was done with <code>scale</code> set to <code>100</code>.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="./images/hi-low-1d-rand-walk.png" alt="hi low 1d rand walk" width="300" height="300"></span></p>
</div>
</div>
</div>
<div class="paragraph">
<p>The Gambler&#8217;s Ruin is an example of a <em>random walk</em>. Random walks are useful for building models in many disciplines including economics.<sup class="footnote">[<a id="_footnoteref_18" class="footnote" href="#_footnotedef_18" title="View footnote.">18</a>]</sup> and physics.  In economics random walks are often used to model fluctuations in random processes such as the stock market. In physics, a random walk can model random motions such as <em>Brownian Motion</em>.</p>
</div>
<div class="paragraph">
<p>Random walks have a sophisticated and complex mathematical theory. However, notice how straightforward it is to do some simple programming experiments and learn something about random processes without having to understanding the mathematics.</p>
</div>
<div class="paragraph">
<p>The Gambler&#8217;s Ruin is an example of a _one dimensional random walk. One dimensional because there is only one random variable, the coin toss.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_brownian_motion"><a class="anchor" href="#_brownian_motion"></a>6.2. Brownian Motion</h3>
<div class="paragraph">
<p>Brownian Motion is the random movement of particles suspended in a liquid or gas.  Botanist Robert Brown discovered this while noticing the random movement of pollen particles on the surface of water. In this case, the particle can move randomly in either the \(x\) or \(y\) direction.  In terms of a graphic display, the particle&#8217;s coordinate \((x,y)\) has
eight possible neighboring locations that it can move to. Forgetting, for the time being, about a particle that is on an edge of the display.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./images/pixel_neighbors.png" alt="pixel neighbors" width="214" height="200">
</div>
</div>
<div class="paragraph">
<p>In this case we will have <em>two</em> random variables, one in the \(x\) direction and one in the \(y\) direction.  If <code>(x,y)</code> is the coordinate of the particle how can we make it move randomly to one of the eight neighbors? One way is to toss an eight sided die and update <code>x</code> and <code>y</code> accordingly. For example, if we assign each neighbor one of the random numbers from <code>0</code> to <code>7</code> with <code>0</code> corresponding to the top middle, then if we rolled a <code>0</code> then the particle&#8217;s new <code>x</code> coordinate would remain the same and its new <code>y</code> coordinate would be <code>y - 1</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Because we are using two random variables this Brownian Motion simulation is often referred to as a <em>two dimensional random walk</em>. It also goes by the rather uncomplimentary moniker <em>The Drunkard&#8217;s Walk</em>, referring to the rather haphazard way one who has imbibed too much alcohol meanders through the streets.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</div></td><td class="code"><span></span><span class="tok-nb">dir</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-mi">8</span><span class="tok-p">)</span>
<span class="tok-k">if</span> <span class="tok-nb">dir</span> <span class="tok-o">==</span> <span class="tok-mi">0</span><span class="tok-p">:</span>     <span class="tok-c1"># top middle</span>
    <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-n">y</span> <span class="tok-o">-</span> <span class="tok-mi">1</span>
<span class="tok-k">elif</span> <span class="tok-nb">dir</span> <span class="tok-o">==</span> <span class="tok-mi">1</span><span class="tok-p">:</span>   <span class="tok-c1"># top right</span>
    <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-n">x</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>
    <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-n">y</span> <span class="tok-o">-</span> <span class="tok-mi">1</span>
<span class="tok-k">elif</span> <span class="tok-nb">dir</span> <span class="tok-o">==</span> <span class="tok-mi">2</span><span class="tok-p">:</span>   <span class="tok-c1"># right middle</span>
    <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-n">x</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>
<span class="tok-k">elif</span> <span class="tok-nb">dir</span> <span class="tok-o">==</span> <span class="tok-mi">3</span><span class="tok-p">:</span>   <span class="tok-c1"># lower right</span>
    <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-n">x</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>
    <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-n">y</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>
<span class="tok-k">elif</span> <span class="tok-nb">dir</span> <span class="tok-o">==</span> <span class="tok-mi">4</span><span class="tok-p">:</span>   <span class="tok-c1"># botton middle</span>
    <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-n">y</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>
<span class="tok-k">elif</span> <span class="tok-nb">dir</span> <span class="tok-o">==</span> <span class="tok-mi">5</span><span class="tok-p">:</span>   <span class="tok-c1"># bottom left</span>
    <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-n">y</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>
    <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-n">x</span> <span class="tok-o">-</span> <span class="tok-mi">1</span>
<span class="tok-k">elif</span> <span class="tok-nb">dir</span> <span class="tok-o">==</span> <span class="tok-mi">6</span><span class="tok-p">:</span>   <span class="tok-c1"># left middle</span>
    <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-n">x</span> <span class="tok-o">-</span> <span class="tok-mi">1</span>
<span class="tok-k">else</span><span class="tok-p">:</span>            <span class="tok-c1"># top left</span>
    <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-n">x</span> <span class="tok-o">-</span> <span class="tok-mi">1</span>
    <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-n">y</span> <span class="tok-o">-</span> <span class="tok-mi">1</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>This block of code is the process we need to repeat over and over (when do we quit?, hold that thought).  But first lets think about this code segment. Putting this in the loop body will make our loop a little unwieldy. Instead lets think of it in terms of a function <code>move</code> that takes a particle&#8217;s current <code>x</code> and <code>y</code> coordinate and returns its new <code>x</code> and <code>y</code>. Pictorially,</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./images/2D_move.png" alt="2D move" width="362" height="130">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3</div></td><td class="code"><span></span><span class="tok-k">def</span> <span class="tok-nf">move</span><span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">):</span>
    <span class="tok-c1"># insert if-elif above</span>
    <span class="tok-k">return</span> <span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Calling the <code>move</code> function is the heart of our loop body. We can start a particle in the middle of the window (or at any random location for that matter) and let it run.
But when should the simulation stop? That is, what is the loop condition? We have several options. We could</p>
</div>
<div class="ulist">
<ul>
<li>
<p>run for a certain number of iterations, 10, 100, 10000, etc.</p>
</li>
<li>
<p>run until the particle moves off of the display</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The first option is straightforward and just requires a counting variable. The second option is a little more interesting. How can we say, as a Python logical condition, <em>while the particle is on the display</em>?</p>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Write a logical condition that is true if the particle at coordinate <code>(x,y)</code> is within the bounds of  the display window. Assume that variable <code>w</code> and <code>h</code> refer to the width and height of the display.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>Well &#8230;&#8203; <code>x</code> must be between <code>0</code> and <code>w</code> (including 0, but excluding <code>w</code>) and
<code>y</code> must be between <code>0</code> and <code>h</code> (including 0, but excluding <code>h</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-p">(</span><span class="tok-mi">0</span> <span class="tok-o">&lt;=</span> <span class="tok-n">x</span> <span class="tok-ow">and</span> <span class="tok-n">x</span> <span class="tok-o">&lt;</span> <span class="tok-n">w</span><span class="tok-p">)</span> <span class="tok-ow">and</span> <span class="tok-p">(</span><span class="tok-mi">0</span> <span class="tok-o">&lt;=</span> <span class="tok-n">y</span> <span class="tok-ow">and</span> <span class="tok-n">y</span> <span class="tok-o">&lt;</span> <span class="tok-n">h</span><span class="tok-p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The parentheses are not strictly necessary but aid in clarity. Contrast this same expression
without parentheses.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-mi">0</span> <span class="tok-o">&lt;=</span> <span class="tok-n">x</span> <span class="tok-ow">and</span> <span class="tok-n">x</span> <span class="tok-o">&lt;</span> <span class="tok-n">w</span> <span class="tok-ow">and</span> <span class="tok-mi">0</span> <span class="tok-o">&lt;=</span> <span class="tok-n">y</span> <span class="tok-ow">and</span> <span class="tok-n">y</span> <span class="tok-o">&lt;</span> <span class="tok-n">h</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Python allows for a more concise way to describe inequalities. For example, in mathematical notation for the first inequality above, we would say \(0 \le x \lt w\). Python allows something similar and we can write <code>0 &lt;= x &lt; w</code>. Most programming languages do not allow this more pithy notation, but Python does. So we could rewrite the logical expression as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-p">(</span><span class="tok-mi">0</span> <span class="tok-o">&lt;=</span> <span class="tok-n">x</span> <span class="tok-o">&lt;</span> <span class="tok-n">w</span><span class="tok-p">)</span> <span class="tok-ow">and</span> <span class="tok-p">(</span><span class="tok-mi">0</span> <span class="tok-o">&lt;=</span> <span class="tok-n">y</span> <span class="tok-o">&lt;</span> <span class="tok-n">h</span><span class="tok-p">)</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_the_complete_brownian_program"><a class="anchor" href="#_the_complete_brownian_program"></a>6.2.1. The complete Brownian program</h4>
<div class="paragraph">
<p>Putting this altogether we have &#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48</div></td><td class="code"><span></span><span class="tok-kn">import</span> <span class="tok-nn">pygame</span><span class="tok-o">,</span> <span class="tok-nn">random</span><span class="tok-o">,</span> <span class="tok-nn">color</span>

<span class="tok-c1">#</span>
<span class="tok-c1"># move a particle with coordinates (x,y) to</span>
<span class="tok-c1"># a new random location, one of its eight neighbors.</span>
<span class="tok-c1">#</span>
<span class="tok-k">def</span> <span class="tok-nf">move</span><span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">):</span>
    <span class="tok-nb">dir</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-mi">8</span><span class="tok-p">)</span>
    <span class="tok-k">if</span> <span class="tok-nb">dir</span> <span class="tok-o">==</span> <span class="tok-mi">0</span><span class="tok-p">:</span>
        <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-n">y</span> <span class="tok-o">-</span> <span class="tok-mi">1</span>
    <span class="tok-k">elif</span> <span class="tok-nb">dir</span> <span class="tok-o">==</span> <span class="tok-mi">1</span><span class="tok-p">:</span>
        <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-n">x</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>
        <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-n">y</span> <span class="tok-o">-</span> <span class="tok-mi">1</span>
    <span class="tok-k">elif</span> <span class="tok-nb">dir</span> <span class="tok-o">==</span> <span class="tok-mi">2</span><span class="tok-p">:</span>
        <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-n">x</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>
    <span class="tok-k">elif</span> <span class="tok-nb">dir</span> <span class="tok-o">==</span> <span class="tok-mi">3</span><span class="tok-p">:</span>
        <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-n">x</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>
        <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-n">y</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>
    <span class="tok-k">elif</span> <span class="tok-nb">dir</span> <span class="tok-o">==</span> <span class="tok-mi">4</span><span class="tok-p">:</span>
        <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-n">y</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>
    <span class="tok-k">elif</span> <span class="tok-nb">dir</span> <span class="tok-o">==</span> <span class="tok-mi">5</span><span class="tok-p">:</span>
        <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-n">y</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>
        <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-n">x</span> <span class="tok-o">-</span> <span class="tok-mi">1</span>
    <span class="tok-k">elif</span> <span class="tok-nb">dir</span> <span class="tok-o">==</span> <span class="tok-mi">6</span><span class="tok-p">:</span>
        <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-n">x</span> <span class="tok-o">-</span> <span class="tok-mi">1</span>
    <span class="tok-k">else</span><span class="tok-p">:</span>
        <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-n">x</span> <span class="tok-o">-</span> <span class="tok-mi">1</span>
        <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-n">y</span> <span class="tok-o">-</span> <span class="tok-mi">1</span>

    <span class="tok-k">return</span> <span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">)</span>

<span class="tok-c1"># main program</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">init</span><span class="tok-p">()</span>

<span class="tok-n">win</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">set_mode</span><span class="tok-p">((</span><span class="tok-mi">600</span><span class="tok-p">,</span><span class="tok-mi">600</span><span class="tok-p">))</span>
<span class="tok-n">w</span> <span class="tok-o">=</span> <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">get_width</span><span class="tok-p">()</span>
<span class="tok-n">h</span> <span class="tok-o">=</span> <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">get_height</span><span class="tok-p">()</span>
<span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-n">w</span><span class="tok-o">//</span><span class="tok-mi">2</span>  <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-n">h</span><span class="tok-o">//</span><span class="tok-mi">2</span>  <i class="conum" data-value="2"></i><b>(2)</b>

<span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">fill</span><span class="tok-p">(</span><span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">white</span><span class="tok-p">)</span>

<span class="tok-k">while</span> <span class="tok-p">(</span><span class="tok-mi">0</span> <span class="tok-o">&lt;=</span> <span class="tok-n">x</span> <span class="tok-o">&lt;</span> <span class="tok-n">w</span><span class="tok-p">)</span> <span class="tok-ow">and</span> <span class="tok-p">(</span><span class="tok-mi">0</span> <span class="tok-o">&lt;=</span> <span class="tok-n">y</span> <span class="tok-o">&lt;</span> <span class="tok-n">h</span><span class="tok-p">):</span>
    <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">set_at</span><span class="tok-p">((</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">),</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">blue</span><span class="tok-p">)</span>
    <span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">)</span> <span class="tok-o">=</span> <span class="tok-n">move</span><span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">)</span>
    <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">update</span><span class="tok-p">()</span>

<span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s2">&quot;Hit enter&quot;</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Start the particle in the middle of the x axis.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Start the particle in the middle of the y axis.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Here is one sample run of the program</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="./images/brownian.png" alt="brownian" width="285" height="200"></span></p>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Add a second particle (use a different color) to the simulation. Stop the simulation when <em>both</em> particles have gone off the window.
Hints:-Add properties for a second particle. Don&#8217;t modify the <code>move</code> function or make a copy of the <code>move</code> function. Just <em>reuse</em> it by calling it again with the properties of the second particle. (That is the whole point of using functions). Finally modify the loop condition so the simulation terminates properly.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>Like always, there are many solutions. Here is one.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</div></td><td class="code"><span></span><span class="tok-kn">import</span> <span class="tok-nn">pygame</span><span class="tok-o">,</span> <span class="tok-nn">random</span><span class="tok-o">,</span> <span class="tok-nn">color</span>

<span class="tok-c1"># same move function goes here.</span>

<span class="tok-c1"># main program</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">init</span><span class="tok-p">()</span>

<span class="tok-n">win</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">set_mode</span><span class="tok-p">((</span><span class="tok-mi">600</span><span class="tok-p">,</span><span class="tok-mi">600</span><span class="tok-p">))</span>
<span class="tok-n">w</span> <span class="tok-o">=</span> <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">get_width</span><span class="tok-p">()</span>
<span class="tok-n">h</span> <span class="tok-o">=</span> <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">get_height</span><span class="tok-p">()</span>
<span class="tok-n">x1</span> <span class="tok-o">=</span> <span class="tok-n">w</span><span class="tok-o">//</span><span class="tok-mi">2</span>  <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-n">y1</span> <span class="tok-o">=</span> <span class="tok-n">h</span><span class="tok-o">//</span><span class="tok-mi">2</span>
<span class="tok-n">x2</span> <span class="tok-o">=</span> <span class="tok-n">w</span><span class="tok-o">//</span><span class="tok-mi">2</span>  <i class="conum" data-value="2"></i><b>(2)</b>
<span class="tok-n">y2</span> <span class="tok-o">=</span> <span class="tok-n">h</span><span class="tok-o">//</span><span class="tok-mi">2</span>

<span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">fill</span><span class="tok-p">(</span><span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">white</span><span class="tok-p">)</span>

<span class="tok-k">while</span> <span class="tok-p">(</span><span class="tok-mi">0</span> <span class="tok-o">&lt;=</span> <span class="tok-n">x1</span> <span class="tok-o">&lt;</span> <span class="tok-n">w</span><span class="tok-p">)</span> <span class="tok-ow">and</span> <span class="tok-p">(</span><span class="tok-mi">0</span> <span class="tok-o">&lt;=</span> <span class="tok-n">y1</span> <span class="tok-o">&lt;</span> <span class="tok-n">h</span><span class="tok-p">)</span> <span class="tok-ow">or</span> \  <i class="conum" data-value="3"></i><b>(3)</b>
      <span class="tok-p">(</span><span class="tok-mi">0</span> <span class="tok-o">&lt;=</span> <span class="tok-n">x2</span> <span class="tok-o">&lt;</span> <span class="tok-n">w</span><span class="tok-p">)</span> <span class="tok-ow">and</span> <span class="tok-p">(</span><span class="tok-mi">0</span> <span class="tok-o">&lt;=</span> <span class="tok-n">y2</span> <span class="tok-o">&lt;</span> <span class="tok-n">h</span><span class="tok-p">):</span>
    <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">set_at</span><span class="tok-p">((</span><span class="tok-n">x1</span><span class="tok-p">,</span><span class="tok-n">y1</span><span class="tok-p">),</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">blue</span><span class="tok-p">)</span>
    <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">set_at</span><span class="tok-p">((</span><span class="tok-n">x2</span><span class="tok-p">,</span><span class="tok-n">y2</span><span class="tok-p">),</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">green</span><span class="tok-p">)</span> <i class="conum" data-value="4"></i><b>(4)</b>
    <span class="tok-p">(</span><span class="tok-n">x1</span><span class="tok-p">,</span><span class="tok-n">y1</span><span class="tok-p">)</span> <span class="tok-o">=</span> <span class="tok-n">move</span><span class="tok-p">(</span><span class="tok-n">x1</span><span class="tok-p">,</span><span class="tok-n">y1</span><span class="tok-p">)</span>
    <span class="tok-p">(</span><span class="tok-n">x2</span><span class="tok-p">,</span><span class="tok-n">y2</span><span class="tok-p">)</span> <span class="tok-o">=</span> <span class="tok-n">move</span><span class="tok-p">(</span><span class="tok-n">x2</span><span class="tok-p">,</span><span class="tok-n">y2</span><span class="tok-p">)</span>   <i class="conum" data-value="5"></i><b>(5)</b>
    <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">update</span><span class="tok-p">()</span>

<span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s2">&quot;Enter&quot;</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Coordinates of the first particle.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Coordinates of the second particle.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Why logical <code>or</code>?</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Don&#8217;t forget to draw the second particle.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Notice how we just call the <code>move</code> function a second time with different arguments?</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>How hard is it to add a third particle? A fourth? As we progress we will learn more advanced techniques so we don&#8217;t have to keep defining new variables for each particle.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>A two particle system might look like</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./images/brownian2.png" alt="brownian2" width="292" height="208">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_improvements_to_the_brownian_program"><a class="anchor" href="#_improvements_to_the_brownian_program"></a>6.2.2. Improvement&#8217;s to the Brownian Program</h4>
<div class="paragraph">
<p>That big if-statement in the <code>move</code> function is rather clunky and error prone. If you mistype a <code>-</code> or <code>+</code> sign then the particle goes off in a seemingly nonrandom direction. Notice that all we are doing is either subtracting 1 or adding 1 to the particle&#8217;s \(x\) and/or \(y\) coordinate. We could just generate a random integer in the range -1 to 1 and add that to the coordinate.  We have to be careful to generate a different random integer for each coordinate.</p>
</div>
<div class="paragraph">
<p>A better and more concise <code>move</code> function.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6
7
8
9</div></td><td class="code"><span></span><span class="tok-k">def</span> <span class="tok-nf">move</span><span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">):</span>

    <span class="tok-n">delta_x</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-o">-</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">2</span><span class="tok-p">)</span>  <i class="conum" data-value="1"></i><b>(1)</b> <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-n">x</span> <span class="tok-o">+</span> <span class="tok-n">delta_x</span>

    <span class="tok-n">delta_y</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-o">-</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">2</span><span class="tok-p">)</span>
    <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-n">y</span> <span class="tok-o">+</span> <span class="tok-n">delta_y</span>

    <span class="tok-k">return</span> <span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Why <code>2</code> instead of <code>1</code> as the second argument to <code>randrange</code>?</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The Greek letter \(\Delta\) (pronounced <em>delta</em>) is often used to represent a change in some quantity. In this case a change in the <code>x</code> coordinate.</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Python (version 3) actually does allow Greek alphabetic letters in identifier names.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">A particle on a torus</div>
<p>Right now our particle simulation terminates when a particle hits the edge of the display. One modification would be to force the particle to stay within the bounds of the window. For example, when it hits an edge just make sure we don&#8217;t adjust the coordinate to go off the display.</p>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Modify the Brownian particle simulation so that a particle stays within the bounds of the window as if the edges of the window were an impermeable wall.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>The only thing you need to add is an if-statement that checks the bounds of the particle. An appropriate place to put this is the <code>move</code> function, since it is related to moving the particle.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</div></td><td class="code"><span></span><span class="tok-c1"># add this to the bottom of the move function.</span>
<span class="tok-k">if</span> <span class="tok-n">x</span> <span class="tok-o">&gt;=</span> <span class="tok-n">w</span><span class="tok-p">:</span>      <i class="conum" data-value="1"></i><b>(1)</b> <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-n">w</span> <span class="tok-o">-</span> <span class="tok-mi">1</span>  <i class="conum" data-value="3"></i><b>(3)</b>
<span class="tok-k">elif</span> <span class="tok-n">x</span> <span class="tok-o">&lt;</span> <span class="tok-mi">0</span><span class="tok-p">:</span>    <i class="conum" data-value="4"></i><b>(4)</b>
    <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>

<span class="tok-k">if</span> <span class="tok-n">y</span> <span class="tok-o">&gt;=</span> <span class="tok-n">h</span><span class="tok-p">:</span>
    <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-n">h</span> <span class="tok-o">-</span> <span class="tok-mi">1</span>
<span class="tok-k">elif</span> <span class="tok-n">y</span> <span class="tok-o">&lt;</span> <span class="tok-mi">0</span><span class="tok-p">:</span>
    <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Why <code>&gt;=</code>?</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Could we have also said <code>x &gt; w - 1</code> or even <code>x == w</code>? Yes to both.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Why <code>w - 1</code>?</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Could we have also said <code>x == -1</code>? Yes.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>Another more interesting solution might be to pretend that the display <em>wraps around</em> on its edges. For example, if a particle goes off the right edge have it come in on the left edge, and vice-versa. If a particle goes off the top then it appears at the bottom.</p>
</div>
<div class="paragraph">
<p>An obvious way to do this is similar to the above <em>check yourself</em> solution and check if the particle has gone off an edge and reset its coordinate accordingly.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5</div></td><td class="code"><span></span><span class="tok-c1"># wrap the x-coordinate around the x-axis.</span>
<span class="tok-k">if</span> <span class="tok-n">x</span> <span class="tok-o">&gt;=</span> <span class="tok-n">w</span><span class="tok-p">:</span>
    <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>
<span class="tok-k">elif</span> <span class="tok-n">x</span> <span class="tok-o">&lt;</span> <span class="tok-mi">0</span><span class="tok-p">:</span>
    <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-n">w</span> <span class="tok-o">-</span> <span class="tok-mi">1</span> <i class="conum" data-value="1"></i><b>(1)</b>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Why <code>w - 1</code> and not <code>w</code>?</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Modifying the \(y\)-coordinate is similar.</p>
</div>
<div class="paragraph">
<p>If we think of the display as a sheet of paper and curl the paper around on the x-axis then we curl it again around the y-axis we end up with the topological shape of a <em>torus</em>, or a donut.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="./images/brownian_on_torus.png" alt="brownian on torus" width="240" height="226"></span></p>
</div>
<div class="paragraph">
<p>The concept of a variable <em>wrapping around</em> should be familiar. This is modular arithmetic. So rather than the if-statement above we can simply add or subtract 1 modulo the width or height of the window. In which case our <code>move</code> function becomes &#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6
7
8
9</div></td><td class="code"><span></span><span class="tok-k">def</span> <span class="tok-nf">move</span><span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">):</span>

    <span class="tok-n">delta_x</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-o">-</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">2</span><span class="tok-p">)</span>
    <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-n">x</span> <span class="tok-o">+</span> <span class="tok-n">delta_x</span><span class="tok-p">)</span> <span class="tok-o">%</span> <span class="tok-n">w</span>

    <span class="tok-n">delta_y</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-o">-</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">2</span><span class="tok-p">)</span>
    <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-n">y</span> <span class="tok-o">+</span> <span class="tok-n">delta_y</span><span class="tok-p">)</span> <span class="tok-o">%</span> <span class="tok-n">h</span>

    <span class="tok-k">return</span> <span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Lets see what happens when the particle is on the right edge. Lets assume that the width of the window is 600 pixels (<code>w</code> is <code>600</code>), <code>x</code> is <code>599</code>. Lets further assume that <code>delta_x</code> is <code>1</code>, then the new value of <code>x</code> is <code>(599 + 1) % 600</code> or <code>0</code>, which becomes the new value of <code>x</code>, effectively wrapping around to the left edge.</p>
</div>
<div class="paragraph">
<p>Lets look at the left edge. When the particle <code>x</code> is on the left edge then <code>x</code> is <code>0</code> and let <code>delta_x</code> be <code>-1</code>. Then <code>(0 + -1) % 600</code> is <code>-1 % 600</code> which is <code>599</code>, effectively wrapping back to the right edge.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_a_fractional_dimension_random_walk_or_fractal"><a class="anchor" href="#_a_fractional_dimension_random_walk_or_fractal"></a>6.3. A Fractional Dimension Random Walk (or Fractal)</h3>
<div class="paragraph">
<p>Imagine a hiker out for a hike got lost. Off in the distance the hiker sees three cell towers, call them \(t_0\), \(t_1\), and \(t_2\). The hiker picks a cell tower at random and heads off to it in a straight line. Halfway there the hiker changes their mind, and marks the spot with a rock (a thumb tack in the image below). The hiker then chooses another tower at random (maybe the same towser) and walks towards it, gets halfway there and has a change of heart. They once again mark the spot with a rock, and choose another cell tower. Continuing this process until, well, &#8230;&#8203; forever. The image drawn by marking the rocks is an interesting sort of random walk.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./images/lost_hiker.png" alt="lost hiker" width="711" height="400">
</div>
</div>
<div class="paragraph">
<p>Let variables <code>(x0,y0)</code>, <code>(x1,y1)</code>, <code>(x2,y2)</code> be the coordinates of the towers, and
<code>(x,y)</code> be the coordinates of the hiker. Lets right down the process described in the paragraph above in <em>pseudocode</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code>1) create a Pygame display window
2) Assign the coordinates of the towers to variables
3) Assign the hiker random coordinates anywhere within the display
4) Forever
   a) choose a tower at random
   b) compute the mid-point between the hiker and the chosen tower and
      update the hiker's coordinates with the midpoint.
   c) plot a pixel at the hikers coordinate (similar to marking with a rock)</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Before you start writing code make sure you understand the problem. One way to do this is to write out each step of the problem, not in real Python code, but in more informal text, what computer scientists call <em>pseudocode</em>.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The mid-point of a line between two points \((x_0,y_0)\) and \((x_1,y_1)\) is
the average of the \(x\)-coordinates and the average of the \(y\)-coordinates, or
\((\frac{x_0+x_1}{2}, \frac{y_0+y_1}{2})\).
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36</div></td><td class="code"><span></span><span class="tok-kn">import</span> <span class="tok-nn">pygame</span><span class="tok-o">,</span> <span class="tok-nn">random</span><span class="tok-o">,</span> <span class="tok-nn">color</span>
<span class="tok-n">side</span> <span class="tok-o">=</span> <span class="tok-mi">500</span>
<span class="tok-n">win</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">set_mode</span><span class="tok-p">((</span><span class="tok-n">side</span><span class="tok-p">,</span><span class="tok-n">side</span><span class="tok-p">))</span>

<span class="tok-n">x0</span> <span class="tok-o">=</span> <span class="tok-n">side</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>  <span class="tok-c1"># tower 0 coordinates  </span><i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-n">y0</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>

<span class="tok-n">x1</span> <span class="tok-o">=</span> <span class="tok-n">side</span> <span class="tok-o">-</span> <span class="tok-mi">1</span>   <span class="tok-c1"># tower 1 coordinates</span>
<span class="tok-n">y1</span> <span class="tok-o">=</span> <span class="tok-n">side</span> <span class="tok-o">-</span> <span class="tok-mi">1</span>

<span class="tok-n">x2</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>          <span class="tok-c1"># tower 2 coordinates</span>
<span class="tok-n">y2</span> <span class="tok-o">=</span> <span class="tok-n">side</span> <span class="tok-o">-</span> <span class="tok-mi">1</span>

<span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-n">side</span><span class="tok-p">)</span> <span class="tok-c1"># hiker coordinates</span>
<span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-n">side</span><span class="tok-p">)</span>

<span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">fill</span><span class="tok-p">(</span><span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">white</span><span class="tok-p">)</span>

<span class="tok-k">while</span> <span class="tok-bp">True</span><span class="tok-p">:</span>

    <span class="tok-c1"># choose a tower at random</span>
    <span class="tok-n">t</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-mi">3</span><span class="tok-p">)</span> <i class="conum" data-value="2"></i><b>(2)</b>

	<span class="tok-c1"># which tower is it?</span>
    <span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-n">t</span> <span class="tok-o">==</span> <span class="tok-mi">0</span><span class="tok-p">):</span>
        <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-n">x</span> <span class="tok-o">+</span> <span class="tok-n">x0</span><span class="tok-p">)</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>
        <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-n">y</span> <span class="tok-o">+</span> <span class="tok-n">y0</span><span class="tok-p">)</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>
    <span class="tok-k">elif</span> <span class="tok-p">(</span><span class="tok-n">t</span> <span class="tok-o">==</span> <span class="tok-mi">1</span><span class="tok-p">):</span>
        <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-n">x</span> <span class="tok-o">+</span> <span class="tok-n">x1</span><span class="tok-p">)</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>
        <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-n">y</span> <span class="tok-o">+</span> <span class="tok-n">y1</span><span class="tok-p">)</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>
    <span class="tok-k">else</span><span class="tok-p">:</span>
        <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-n">x</span> <span class="tok-o">+</span> <span class="tok-n">x2</span><span class="tok-p">)</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>
        <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-n">y</span> <span class="tok-o">+</span> <span class="tok-n">y2</span><span class="tok-p">)</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>

    <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">set_at</span><span class="tok-p">((</span><span class="tok-n">x</span><span class="tok-p">,</span> <span class="tok-n">y</span><span class="tok-p">),</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">blue</span><span class="tok-p">)</span>
    <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">update</span><span class="tok-p">()</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Another way to write this is to use <em>tuple assignment</em> as <code>(x0,y0) = (side//2, 0)</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>It is important that the random number is in the loop body. We need
to get a new random tower every iteration. If this were before the loop then we would always be choosing the same tower.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The shape rendered by the code is called <em>Sierpinski&#8217;s Triangle</em>.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./images/sierpinski.png" alt="sierpinski" width="500" height="500">
</div>
</div>
<div class="paragraph">
<p>This process of choosing a random point within a shape and repeatedly choosing new points based on some criteria (<em>e.g.</em> the midpoint) is informally called  the <em>chaos game</em>, named by the branch of mathematics called <em>chaos theory</em>.</p>
</div>
<div class="paragraph">
<p>The Gambler&#8217;s Ruin is an example of a one dimensional random walk, because the number of random variables is one, and the variable can take on any integer value. Brownian Motion is an example of a two dimensional random walk because there two random variable that can take on any integer value. Sierpinski&#8217;s Triangle is different. While there are two random variables, it is clear from the image that the variables can only take on a subset of the values that the two dimensional random walk can. It is some how less than a two dimensional random walk, but more than one dimensional. It is a <em>fractional dimension</em> random walk, or a <em>fractal</em>.   The branch of Mathematics that studies fractals was made well know by the mathematician Benoit Mandlebrot in his book <em>The Fractal Geometry of Nature</em>.<sup class="footnote">[<a id="_footnoteref_19" class="footnote" href="#_footnotedef_19" title="View footnote.">19</a>]</sup></p>
</div>
<div class="paragraph">
<div class="title">Exercise</div>
<p>Add a second hiker to the Sierpinski Triangle program (the lost hiker example) and have it draw a different color pixel than the first hiker.</p>
</div>
<div class="paragraph">
<div class="title">Exercise</div>
<p>Rather than using a triangle use four cell towers, where each tower is placed in the middle of the window&#8217;s edge. For example, tower 0 is in the middle of the top edge at coordinate <em>(side//2, 0)</em>, and so on. Additionally, when choosing a new random tower make sure not to choose the same tower twice in a row. Hint: Keep an extra variable <code>prev</code> that keeps track of the previous tower guessed . When choosing a new tower make sure that you keep guessing until it isn&#8217;t the same as <code>prev</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_the_monty_hall_problem"><a class="anchor" href="#_the_monty_hall_problem"></a>6.4. The Monty Hall Problem</h3>
<div class="paragraph">
<p>The <em>Monty Hall Problem</em> dates back to a game show on American television called <em>Let&#8217;s Make a Deal</em>, hosted by, of course, Monty Hall. In the game show a contestant is presented with three doors. Behind one of the doors is a new car and behind the remaining doors are goats.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./images/doorsandgoat.png" alt="doorsandgoat" width="251">
</div>
<div class="title">Figure 6. The Monty Hall Problem.<sup class="footnote">[<a id="_footnoteref_20" class="footnote" href="#_footnotedef_20" title="View footnote.">20</a>]</sup></div>
</div>
<div class="paragraph">
<p>The contestant chooses a door. Monty Hall then opens a door that has a goat behind it. So now there are two closed doors, the one the contestant chose and the one that Monty Hall did not open. The contestant is given the chance to switch doors. The <em>Monty Hall Problem</em> is whether the contestant should switch or not.</p>
</div>
<div class="paragraph">
<p>This problem caused quite a ruckus in the mathematics community when a reader of Marilyn Vos Savant&#8217;s weekly Parade column presented her with the problem.<sup class="footnote">[<a id="_footnoteref_21" class="footnote" href="#_footnotedef_21" title="View footnote.">21</a>]</sup> Almost universally people thought the answer should be that it does not matter if the contestant switches because there are two unopened doors, so the odds are 50-50. Marilyn Vos Savant explained a different answer and the backlash from the mathematics community was harsh, patronizing, and really embarrassing for &#8230;&#8203; the mathematicians. Marilyn Vos Savant was correct. This is easy for us to say now after-the-fact; hindsight is 20-20. This problem stumped some well known mathematicians, and to this day, many of us still fumble around when we try to explain it.</p>
</div>
<div class="paragraph">
<p>Probability is often counter-intuitive, we saw this with the Gambler&#8217;s Ruin, but once again we can explore the Monty Hall Problem by writing a rather simple program to simulate the Monty Hall Problem to explore the answer, without having to understand the mathematics.  As we will see, even before we run the program, the answer will be evident.</p>
</div>
<div class="paragraph">
<p>Lets lay out the process of playing the game outlined above:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The contestant is presented with three doors, two with goats, and one with a new car. The goats and car are randomly assigned.</p>
</li>
<li>
<p>The contestant chooses a door to be revealed later.</p>
</li>
<li>
<p>The host shows a goat behind one of the other doors (not the contestant&#8217;s door).</p>
</li>
<li>
<p>The contestant is given the choice whether to switch to the other unopened door.</p>
</li>
<li>
<p>The contestant&#8217;s door is revealed.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>We&#8217;ll tackle each of these in turn.</p>
</div>
<div class="paragraph">
<p>We can assign goats and a car to doors in any order. One thing we need to be careful about is that we do not assign more than one goat or car to the same door.  Assume the doors are numbered 1, 2, and 3.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">goat1</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">4</span><span class="tok-p">)</span> <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Assign goat 1 to a random door.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Now how about the second goat?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">goat2</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">4</span><span class="tok-p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This doesn&#8217;t quite work because we might accidentally get the same
random number as <code>goat1</code>.  Here is another attempt.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">goat2</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">4</span><span class="tok-p">)</span>

<span class="tok-k">if</span> <span class="tok-n">goat1</span> <span class="tok-o">==</span> <span class="tok-n">goat2</span><span class="tok-p">:</span>
    <span class="tok-n">goat2</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">4</span><span class="tok-p">)</span> <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Try again if we generated the same random door as <code>goat1</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This is a common mistake. Why is it incorrect? Well, while it is less likely, we can still
get the same random number twice in a row. We need to keep trying as long as they are the same.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5</div></td><td class="code"><span></span><span class="tok-n">goat2</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">4</span><span class="tok-p">)</span>

<span class="tok-k">while</span> <span class="tok-n">goat1</span> <span class="tok-o">==</span> <span class="tok-n">goat2</span><span class="tok-p">:</span>
    <span class="tok-n">goat2</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">4</span><span class="tok-p">)</span>                       <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-c1"># What is true at this point after the loop terminates? </span><i class="conum" data-value="2"></i><b>(2)</b>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Keep trying as long as we keep getting the same random number as <code>goat1</code>. We know from the Gambler&#8217;s Ruin that we can sometimes get the same number several times in a row.
&lt;2&gt;that <code>goat1 != goat2</code></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>We have now assigned the two goats to two different doors. We need to assign the car to the remaining door. We can do the same thing but we have to make sure to avoid the two goat doors.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3</div></td><td class="code"><span></span><span class="tok-n">car</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">4</span><span class="tok-p">)</span>
<span class="tok-k">while</span> <span class="tok-n">car</span> <span class="tok-o">==</span> <span class="tok-n">goat1</span> <span class="tok-ow">or</span> <span class="tok-n">car</span> <span class="tok-o">==</span> <span class="tok-n">goat2</span><span class="tok-p">:</span>
    <span class="tok-n">car</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">4</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>This is one way to do it.</p>
</div>
<div class="paragraph">
<div class="title">Exercise <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Since there is only one door remaining for the car we should be able to calculate
it without using a loop. Hint: Think of a simple expression involving the door numbers.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">car</span> <span class="tok-o">=</span> <span class="tok-mi">6</span> <span class="tok-o">-</span> <span class="tok-n">goat1</span> <span class="tok-o">+</span> <span class="tok-n">goat2</span> <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Try it for various values of <code>goat1</code> and <code>goat2</code></td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>In the second part of the game we need to have the contestant choose a door. We can simply ask them to input it from the keyboard.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">choice</span> <span class="tok-o">=</span> <span class="tok-nb">int</span><span class="tok-p">(</span><span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s2">&quot;Choose a door: &quot;</span><span class="tok-p">))</span> <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>We are assuming the user will type in either 1, 2, or 3. We don&#8217;t do any error checking, though error checking is an import part of writing reliable, robust computer programs. Indeed many computer security vulnerabilities come from software developers not properly validating input data causing programs to behave in unexpected and sometimes dangerous ways.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>So now we have four variables set up:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>goat1</code> the location of the first goat</p>
</li>
<li>
<p><code>goat2</code> the location of the second goat</p>
</li>
<li>
<p><code>car</code> the location of the car</p>
</li>
<li>
<p><code>choice</code> the door the contestant chose</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>In the third step of the game we reveal one of the two goats, being careful not to show what is behind the contestant&#8217;s door or where the car is. Lets set up two variables <code>switch_door</code> and <code>show</code>. The <code>show</code> variable will be the door we need to show and the variable <code>switch_door</code> will be the door the contestant will switch to if they decide they want to switch.</p>
</div>
<div class="paragraph">
<p>If the user chose the same door as <code>goat1</code> then the door we will show is <code>goat2</code>. The door the user will switch to is (if these want to) is where the car is.  The other cases are reasoned out the same way.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6
7
8
9</div></td><td class="code"><span></span><span class="tok-k">if</span> <span class="tok-n">choice</span> <span class="tok-o">==</span> <span class="tok-n">goat1</span><span class="tok-p">:</span>    <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-n">show</span> <span class="tok-o">=</span> <span class="tok-n">goat2</span>
    <span class="tok-n">switch</span> <span class="tok-o">=</span> <span class="tok-n">car</span>
<span class="tok-k">elif</span> <span class="tok-n">choice</span> <span class="tok-o">==</span> <span class="tok-n">goat2</span><span class="tok-p">:</span>  <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="tok-n">show</span> <span class="tok-o">=</span> <span class="tok-n">goat1</span>
    <span class="tok-n">switch</span> <span class="tok-o">=</span> <span class="tok-n">car</span>
<span class="tok-k">else</span><span class="tok-p">:</span>                  <i class="conum" data-value="3"></i><b>(3)</b>
    <span class="tok-n">show</span> <span class="tok-o">=</span> <span class="tok-n">goat1</span>
    <span class="tok-n">switch</span> <span class="tok-o">=</span> <span class="tok-n">goat2</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>If the contestant chose the same door as <code>goat1</code> then we will show <code>goat2</code> and if they choose to switch it will be to the car.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Similarly, if the contestant chose <code>goat2</code> then we will show <code>goat1</code> and if they choose to switch it will be to th car.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Finally, if the contestant chose the car then it doesn&#8217;t matter which goat to show. In this case we pick <code>goat1</code> and we will show the <code>goat2</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>We haven&#8217;t even finished the program yet and the solution to the Monty Hall Problem should be jumping out at you by examining the above if-statement. In two out of the three cases if the contestant switches doors they will switch to a car! Therefore, if they switch there is a two-thirds chance that they will win the car. They should definitely switch. Probability is often counterintuitive.</p>
</div>
<div class="paragraph">
<div class="title">Check Yourself</div>
<p>Finish the Monty Hall Program. Here are some sample runs of what the program might look like.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code>Choose a door: 1
There is a goat in door 3
Do you want to switch?(y/n): y
You won a goat!

Choose a door: 2
There is a goat in door 1
Do you want to switch?(y/n): y
You won a car!</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Answer <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Below is just one version based on the code we&#8217;ve been developing.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49</div></td><td class="code"><span></span><span class="tok-kn">import</span> <span class="tok-nn">random</span>

<span class="tok-c1"># place a goat behind door one.</span>
<span class="tok-n">goat1</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">4</span><span class="tok-p">)</span>

<span class="tok-c1"># place the second goat, making sure</span>
<span class="tok-c1"># that it is not the same door as the first goat.</span>
<span class="tok-n">goat2</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">4</span><span class="tok-p">)</span>

<span class="tok-k">while</span> <span class="tok-n">goat1</span> <span class="tok-o">==</span> <span class="tok-n">goat2</span><span class="tok-p">:</span>
    <span class="tok-n">goat2</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">4</span><span class="tok-p">)</span>

<span class="tok-c1"># how did the loop terminate?</span>

<span class="tok-c1"># assign a car to the door that is not the</span>
<span class="tok-c1"># same a goat 1 or goat 2</span>
<span class="tok-n">car</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">4</span><span class="tok-p">)</span>

<span class="tok-k">while</span> <span class="tok-n">car</span> <span class="tok-o">==</span> <span class="tok-n">goat1</span> <span class="tok-ow">or</span> <span class="tok-n">car</span> <span class="tok-o">==</span> <span class="tok-n">goat2</span><span class="tok-p">:</span>
    <span class="tok-n">car</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">4</span><span class="tok-p">)</span>

<span class="tok-c1"># What is true?</span>
<span class="tok-c1"># car != goat1 != goat2</span>
<span class="tok-c1"># print(goat1,goat2,car)</span>
<span class="tok-n">choice</span> <span class="tok-o">=</span> <span class="tok-nb">int</span><span class="tok-p">(</span><span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s2">&quot;Choose a door: &quot;</span><span class="tok-p">))</span>

<span class="tok-c1"># figure out how to show a goat</span>
<span class="tok-c1"># to the contestant</span>
<span class="tok-k">if</span> <span class="tok-n">choice</span> <span class="tok-o">==</span> <span class="tok-n">goat1</span><span class="tok-p">:</span>
    <span class="tok-n">show</span> <span class="tok-o">=</span> <span class="tok-n">goat2</span>
    <span class="tok-n">switch</span> <span class="tok-o">=</span> <span class="tok-n">car</span>
<span class="tok-k">elif</span> <span class="tok-n">choice</span> <span class="tok-o">==</span> <span class="tok-n">goat2</span><span class="tok-p">:</span>
    <span class="tok-n">show</span> <span class="tok-o">=</span> <span class="tok-n">goat1</span>
    <span class="tok-n">switch</span> <span class="tok-o">=</span> <span class="tok-n">car</span>
<span class="tok-k">else</span><span class="tok-p">:</span>
    <span class="tok-n">show</span> <span class="tok-o">=</span> <span class="tok-n">goat1</span>
    <span class="tok-n">switch</span> <span class="tok-o">=</span> <span class="tok-n">goat2</span>

<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;There is a goat in door&quot;</span><span class="tok-p">,</span> <span class="tok-n">show</span><span class="tok-p">)</span>

<span class="tok-n">switch_doors</span> <span class="tok-o">=</span> <span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s2">&quot;Do you want to switch?(y/n): &quot;</span><span class="tok-p">)</span>
<span class="tok-k">if</span> <span class="tok-n">switch_doors</span> <span class="tok-o">==</span> <span class="tok-s1">&#39;y&#39;</span> <span class="tok-ow">or</span> <span class="tok-n">switch_doors</span> <span class="tok-o">==</span> <span class="tok-s1">&#39;Y&#39;</span><span class="tok-p">:</span>
    <span class="tok-n">choice</span> <span class="tok-o">=</span> <span class="tok-n">switch</span>

<span class="tok-c1"># Did they win?</span>
<span class="tok-k">if</span> <span class="tok-n">choice</span> <span class="tok-o">==</span> <span class="tok-n">car</span><span class="tok-p">:</span>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;You won a car!&quot;</span><span class="tok-p">)</span>
<span class="tok-k">else</span><span class="tok-p">:</span>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;You won a goat!&quot;</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>What if we wanted to play the Monty Hall game many times to verify that the contestant should aways switch thereby winning the car two-thirds of the time?  Running this version is a little cumbersome because it requires interaction with the keyboard. How can we automate playing the game thousands of times?  When the user chooses a door, it is just a random choice. So we could have the computer choose a random door instead. Also, rather than ask whether the contestant wants to switch we hard code always switching. Finally, to play thousands of times we should probably wrap up our game in a function and put that function in a loop.</p>
</div>
</div>
<div class="sect2">
<h3 id="_exercises_5"><a class="anchor" href="#_exercises_5"></a>6.5. Exercises</h3>
<div class="paragraph">
<div class="title">Exercise 1 - Prime Numbers</div>
<p>Prime numbers play an important role in cryptography. A prime number is only divisible by
one and itself.  If a number is not prime then it has a <em>factor</em> that is neither one or itself. For example,
\(16517\) has factors \(83\) and \(199\) because \(16517 = 83 \times 199\).
Write a program <code>prime.py</code>, that reads an integer from the user and prints whether the number is prime or not.</p>
</div>
<div class="paragraph">
<div class="title">Exercise 2 - Adding multiples of 3 or 5</div>
<p>If we list all the natural numbers below 10 that are multiples of 3 or 5, we get 3, 5, 6 and 9. The sum of these multiples is 23. Write a program to print find and print the sum of all the multiples of 3 or 5 below 1000.<sup class="footnote">[<a id="_footnoteref_22" class="footnote" href="#_footnotedef_22" title="View footnote.">22</a>]</sup></p>
</div>
<div class="paragraph">
<div class="title">Exercise 3 - Sevens</div>
<p>Write a program that will read an integer and count and print the number of sevens that occur in the integer.</p>
</div>
</div>
<div class="sect2">
<h3 id="_terminology_6"><a class="anchor" href="#_terminology_6"></a>6.6. Terminology</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 13. Terminology</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>random process</p>
</li>
<li>
<p>deterministic</p>
</li>
<li>
<p>Gambler&#8217;s Ruin</p>
</li>
<li>
<p>Brownian Motion</p>
</li>
<li>
<p>torus</p>
</li>
<li>
<p>pseudocode</p>
</li>
<li>
<p>The Monty Hall Problem</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>computer simulation</p>
</li>
<li>
<p>one dimensional random walk</p>
</li>
<li>
<p>two dimensional random walk</p>
</li>
<li>
<p>The Drunkard&#8217;s Walk</p>
</li>
<li>
<p>fractal</p>
</li>
<li>
<p>midpoint of a line</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_case_study_particles_and_collision"><a class="anchor" href="#_case_study_particles_and_collision"></a>7. Case study: Particles and Collision</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Let&#8217;s revisit modeling a particle moving in two dimensions at a constant velocity.
We will use an image of particle (as a soccer ball) rather than a circle.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./images/ball.png" alt="ball">
</div>
</div>
<div class="paragraph">
<p>Assume that the particle is in an image file <code>ball.png</code>. We can load that image into
Pygame with <code>pygame.image.load</code> function. This function has one argument that is the name of the image file as a string constant. It returns a Pygame surface of the image.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1</div></td><td class="code"><span></span><span class="tok-n">ball</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">load</span><span class="tok-p">(</span><span class="tok-s2">&quot;ball.png&quot;</span><span class="tok-p">)</span> <i class="conum" data-value="1"></i><b>(1)</b>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The variable <code>ball</code> is a Pygame <em>surface</em>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>We have previously discussed Pygame surfaces noting that the Pygame display is a surface.
Here we are constructing a new kind of surface. The variable <code>ball</code> refers to a Pygame surface that is not the display surface, but a surface that represents an image and can be placed <em>onto</em> the display surface, like overlaying a smaller piece of paper on a larger piece of paper.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6
7
8
9</div></td><td class="code"><span></span><span class="tok-c1"># Place a particle (an image of a soccer ball) on the display</span>
<span class="tok-kn">import</span> <span class="tok-nn">pygame</span><span class="tok-o">,</span> <span class="tok-nn">color</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">init</span><span class="tok-p">()</span>
<span class="tok-n">side</span> <span class="tok-o">=</span> <span class="tok-mi">600</span>
<span class="tok-n">win</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">set_mode</span><span class="tok-p">((</span><span class="tok-n">side</span><span class="tok-p">,</span><span class="tok-n">side</span><span class="tok-p">))</span>
<span class="tok-n">ball</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">load</span><span class="tok-p">(</span><span class="tok-s2">&quot;ball.png&quot;</span><span class="tok-p">)</span><span class="tok-o">.</span><span class="tok-n">convert_alpha</span><span class="tok-p">()</span>  <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">fill</span><span class="tok-p">(</span><span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">white</span><span class="tok-p">)</span>
<span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">blit</span><span class="tok-p">(</span><span class="tok-n">ball</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">side</span><span class="tok-o">//</span><span class="tok-mi">2</span><span class="tok-p">,</span> <span class="tok-n">side</span><span class="tok-o">//</span><span class="tok-mi">2</span><span class="tok-p">))</span> <i class="conum" data-value="2"></i><b>(2)</b>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">update</span><span class="tok-p">()</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>load</code> function returns a surface. We immediately call the function <code>convert_alpha</code> on the surface so we don&#8217;t lose background transparency.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The function <code>blit</code> is used to place one surface on another. The term <em>blit</em> is an abbreviation for <em>bit block transfer</em>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Images are rectangular, even if they are an image of a circle. So in order for the image to appear like a circle the pixels that are outside of the ball are <em>transparent</em>. In graphics terminology we call this <em>alpha transparency</em>.  The <code>convert_alpha</code> function ensures that when we load the image we don&#8217;t lose any of the transparency in the image pixels.</p>
</div>
<div class="paragraph">
<p>To animate a particle with a velocity we see that a velocity has two components, its direction on the \(x\)-axis and a direction on the \(y\)-axis. We often represent a velocity using two variables <code>dx</code> and <code>dy</code>. If <code>dx</code> were <code>1</code> then that means the particle would move to the right one pixel every time step.  If <code>dy</code> were <code>1</code> then the particle would also move down one pixel every time step. The net effect would be that the particle would be moving down and to the right at a 45 degree angle.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="./images/ball_velocity.png" alt="ball velocity" width="455" height="261"></span></p>
</div>
<div class="paragraph">
<p>Unlike a Pygame circle, whose coordinate is measured from the center of the circle, the coordinates of an image in Pygame is the coordinate of the upper left corner of the image (remember, all images are rectangular).</p>
</div>
<div class="paragraph">
<p>All that is left to do is to update the particle&#8217;s coordinates by its velocity and do something sensible if it hits a wall. Let&#8217;s define a <code>move</code> function as we did in the Brownian Motion example. This <code>move</code> function will be a little more complicated because not only will the particle&#8217;s coordinates change (<code>x</code> and <code>y</code>), but if the particle hits a wall its direction will change, that is, the velocity <code>dx</code> or <code>dy</code>.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./images/particle_move.png" alt="particle move">
</div>
</div>
<div class="paragraph">
<p>Here is an outline of the move function.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6
7
8
9</div></td><td class="code"><span></span><span class="tok-k">def</span> <span class="tok-nf">move</span><span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">,</span> <span class="tok-n">y</span><span class="tok-p">,</span> <span class="tok-n">dx</span><span class="tok-p">,</span> <span class="tok-n">dy</span><span class="tok-p">):</span>

    <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-n">x</span> <span class="tok-o">+</span> <span class="tok-n">dx</span>
    <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-n">y</span> <span class="tok-o">+</span> <span class="tok-n">dy</span>

    <span class="tok-c1"># detect if particle hits wall and modify</span>
	<span class="tok-c1"># dx or dy</span>

    <span class="tok-k">return</span> <span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">,</span><span class="tok-n">dx</span><span class="tok-p">,</span><span class="tok-n">dy</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>When a particle hits either the right or left wall its \(x\) velocity needs to reverse direction. Its \(y\) velocity will stay the same. For example, in the diagram below the particle is traveling from left to right and strikes the right wall.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./images/particle_bounce.png" alt="particle bounce">
</div>
</div>
<div class="paragraph">
<p>Here is the completed move function.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</div></td><td class="code"><span></span><span class="tok-k">def</span> <span class="tok-nf">move</span><span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">,</span> <span class="tok-n">y</span><span class="tok-p">,</span> <span class="tok-n">dx</span><span class="tok-p">,</span> <span class="tok-n">dy</span><span class="tok-p">):</span>
	<span class="tok-sd">&#39;&#39;&#39;</span>
<span class="tok-sd">	x and y are the location of the particle</span>
<span class="tok-sd">	dx and dy is the velocity of the particle</span>
<span class="tok-sd">	return: new x, y, dx, and dy.</span>
<span class="tok-sd">	&#39;&#39;&#39;</span>
    <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-n">x</span> <span class="tok-o">+</span> <span class="tok-n">dx</span>
    <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-n">y</span> <span class="tok-o">+</span> <span class="tok-n">dy</span>

    <span class="tok-k">if</span> <span class="tok-n">x</span> <span class="tok-o">&lt;</span> <span class="tok-mi">0</span><span class="tok-p">:</span>                   <span class="tok-c1"># left wall</span>
        <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>
        <span class="tok-n">dx</span> <span class="tok-o">=</span> <span class="tok-o">-</span><span class="tok-n">dx</span>
    <span class="tok-k">elif</span> <span class="tok-n">x</span> <span class="tok-o">+</span> <span class="tok-n">ball_w</span> <span class="tok-o">&gt;=</span> <span class="tok-n">width</span><span class="tok-p">:</span>   <span class="tok-c1"># right wall</span>
        <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-n">width</span> <span class="tok-o">-</span> <span class="tok-n">ball_w</span>
        <span class="tok-n">dx</span> <span class="tok-o">=</span> <span class="tok-o">-</span><span class="tok-n">dx</span>

    <span class="tok-k">if</span> <span class="tok-n">y</span> <span class="tok-o">&lt;</span> <span class="tok-mi">0</span><span class="tok-p">:</span>                   <span class="tok-c1"># top wall</span>
        <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>
        <span class="tok-n">dy</span> <span class="tok-o">=</span> <span class="tok-o">-</span><span class="tok-n">dy</span>
    <span class="tok-k">elif</span> <span class="tok-n">y</span> <span class="tok-o">+</span> <span class="tok-n">ball_h</span> <span class="tok-o">&gt;=</span> <span class="tok-n">height</span><span class="tok-p">:</span>  <span class="tok-c1"># bottom wall</span>
        <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-n">height</span> <span class="tok-o">-</span> <span class="tok-n">ball_h</span>
        <span class="tok-n">dy</span> <span class="tok-o">=</span> <span class="tok-o">-</span><span class="tok-n">dy</span>

    <span class="tok-k">return</span> <span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">,</span><span class="tok-n">dx</span><span class="tok-p">,</span><span class="tok-n">dy</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now all that is left is to write the main program and call the <code>move</code> function.</p>
</div>
<div class="paragraph">
<p>We will start the particle off at the center of the display. For now, we&#8217;ll also initialize the velocity to very small numbers, less than 1. We will explain that later.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31</div></td><td class="code"><span></span><span class="tok-kn">import</span> <span class="tok-nn">pygame</span><span class="tok-o">,</span> <span class="tok-nn">color</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">init</span><span class="tok-p">()</span>
<span class="tok-n">side</span> <span class="tok-o">=</span> <span class="tok-mi">600</span>
<span class="tok-n">win</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">set_mode</span><span class="tok-p">((</span><span class="tok-n">side</span><span class="tok-p">,</span><span class="tok-n">side</span><span class="tok-p">))</span>
<span class="tok-n">width</span> <span class="tok-o">=</span> <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">get_width</span><span class="tok-p">()</span>
<span class="tok-n">height</span> <span class="tok-o">=</span> <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">get_height</span><span class="tok-p">()</span>

<span class="tok-n">ball</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">load</span><span class="tok-p">(</span><span class="tok-s2">&quot;ball.png&quot;</span><span class="tok-p">)</span><span class="tok-o">.</span><span class="tok-n">convert_alpha</span><span class="tok-p">()</span>

<span class="tok-c1"># properties of the particle (ball)</span>
<span class="tok-n">ball_w</span> <span class="tok-o">=</span> <span class="tok-n">ball</span><span class="tok-o">.</span><span class="tok-n">get_width</span><span class="tok-p">()</span>        <span class="tok-c1"># ball width</span>
<span class="tok-n">ball_h</span> <span class="tok-o">=</span> <span class="tok-n">ball</span><span class="tok-o">.</span><span class="tok-n">get_height</span><span class="tok-p">()</span>       <span class="tok-c1"># ball height</span>
<span class="tok-n">ball_x</span> <span class="tok-o">=</span> <span class="tok-n">width</span><span class="tok-o">//</span><span class="tok-mi">2</span> <span class="tok-o">-</span> <span class="tok-n">ball_w</span><span class="tok-o">//</span><span class="tok-mi">2</span>    <span class="tok-c1"># center x coordinate</span>
<span class="tok-n">ball_y</span> <span class="tok-o">=</span> <span class="tok-n">height</span><span class="tok-o">//</span><span class="tok-mi">2</span> <span class="tok-o">-</span> <span class="tok-n">ball_h</span><span class="tok-o">//</span><span class="tok-mi">2</span>   <span class="tok-c1"># center y coordinate</span>
<span class="tok-n">ball_dx</span> <span class="tok-o">=</span> <span class="tok-o">.</span><span class="tok-mo">04</span>                    <span class="tok-c1"># x velocity</span>
<span class="tok-n">ball_dy</span> <span class="tok-o">=</span> <span class="tok-o">.</span><span class="tok-mo">01</span>                    <span class="tok-c1"># y velocity</span>

<span class="tok-k">while</span> <span class="tok-bp">True</span><span class="tok-p">:</span>

    <span class="tok-c1"># erase the old particle by redrawing the background</span>
    <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">fill</span><span class="tok-p">(</span><span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">lightgray</span><span class="tok-p">)</span>

	<span class="tok-c1"># move the particle capturing its new position and possibly new velocity</span>
    <span class="tok-p">(</span><span class="tok-n">ball_x</span><span class="tok-p">,</span><span class="tok-n">ball_y</span><span class="tok-p">,</span><span class="tok-n">ball_dx</span><span class="tok-p">,</span><span class="tok-n">ball_dy</span><span class="tok-p">)</span> <span class="tok-o">=</span>  \     <i class="conum" data-value="1"></i><b>(1)</b>
	    <span class="tok-n">move</span><span class="tok-p">(</span><span class="tok-n">ball_x</span><span class="tok-p">,</span> <span class="tok-n">ball_y</span><span class="tok-p">,</span> <span class="tok-n">ball_dx</span><span class="tok-p">,</span> <span class="tok-n">ball_dy</span><span class="tok-p">)</span>

	<span class="tok-c1"># draw the a particle on the screen</span>
    <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">blit</span><span class="tok-p">(</span><span class="tok-n">ball</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">ball_x</span><span class="tok-p">,</span> <span class="tok-n">ball_y</span><span class="tok-p">))</span>

	<span class="tok-c1"># update the display</span>
    <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">update</span><span class="tok-p">()</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Notice the line continuation character <code>\</code>. This is needed when a line is too long and you want to split it.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The velocity variables <code>dx</code> and <code>dy</code> are set to be very small. <code>.04</code> and <code>.01</code>. This goes against our intuition a little in that we are moving the particle four hundredths of a pixel in the \(x\) direction and one hundredth of a pixel in the \(y\) direction. Can we have fractions of a pixel? Well, no. But if we were to set these values to say 4 and 1, the loop executes so fast that the particle looks like it is just jumping around the screen and not moving fluidly. We could add a delay in the loop body using <code>pygame.time.delay</code>. Indeed we are going to do something similar but we want a more general solution for different speed computers; laptops vs desktops, macs vs windows, etc. We don&#8217;t want the ball to move across the screen in a shorter amount of time just because it is running on a faster computer.</p>
</div>
<div class="sect2">
<h3 id="_understanding_the_frame_rate"><a class="anchor" href="#_understanding_the_frame_rate"></a>7.1. Understanding the <em>Frame Rate</em></h3>
<div class="paragraph">
<p>One problem with the particle simulation above is that it will run faster or slower depending on the hardware it is running on. The animation runs as fast as the while loop can run. On slower computers the particle will move more slowly and more quickly on faster computers. Even if you have a faster computer that is doing a lots of other work the animation will slow down. One issue is that our velocity <code>ball_dx</code> and <code>ball_dy</code> are in pixels. But pixels per what? Velocity is always something like <em>miles per hour</em> or <em>feet per second</em>, or <em>kilometers per hour</em>. Our velocity does not have time associated with it. It is just, for example, <code>.04</code> pixels per loop iteration. But how long does one loop iteration take to run?</p>
</div>
<div class="paragraph">
<p>A <em>frame</em> is one still image, a snapshot, of an animation. A standard <em>frame rate</em> for movies is 24 frames per second (<em>fps</em>). The movie <em>The Hobbit: The Desolation of Smaug</em> was filmed at 48 <em>fps</em>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A <em>frame</em> is one image in a sequence of images that is part of a video. The <em>frame rate</em> is the number of frames that are displayed per second of video. Common frame rates are 24, 30, 60. It was common for hand drawn cartoons to run at 15 <em>fps</em>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The particle simulation runs at <em>one frame per loop iteration</em>. This is enormously fast. On my laptop 1000 loop iterations takes about 1 second. That would amount to 1000 <em>fps</em>. The problem is that we do not know how long a loop iteration takes to execute. So we do not have a consistent frame rate.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s instead define a velocity in terms of <em>time</em> as <em>pixels per second</em>. If our window is 600 pixels wide and we want the particle to travel across the window in two seconds then the \(x\) velocity would be <code>600 / 2.0</code> or <code>300</code> pixels per second. We should be more general and handle displays of various widths and heights.  Assume <code>width</code> and <code>height</code> are the dimensions of the display we have &#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2</div></td><td class="code"><span></span><span class="tok-n">ball_dx</span> <span class="tok-o">=</span> <span class="tok-n">width</span>  <span class="tok-o">/</span> <span class="tok-mi">2</span>  <span class="tok-c1"># travel across display in two seconds</span>
<span class="tok-n">ball_dy</span> <span class="tok-o">=</span> <span class="tok-n">height</span> <span class="tok-o">/</span> <span class="tok-mi">4</span>  <span class="tok-c1"># four seconds to travel from top to bottom</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>We need to know how far the particle traveled in one loop iteration. This is where pygame&#8217;s <code>Clock</code> object is helpful. We can create a clock to measure time using &#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">clock</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">time</span><span class="tok-o">.</span><span class="tok-n">Clock</span><span class="tok-p">()</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>and we can call the object&#8217;s <code>tick</code> method that will return how many milliseconds have passed since the previous call to tick.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">dt</span> <span class="tok-o">=</span> <span class="tok-n">clock</span><span class="tok-o">.</span><span class="tok-n">tick</span><span class="tok-p">()</span> <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>let <code>dt</code> mean <em>delta time</em> or <em>the change in time</em>. In this case milliseconds.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>We can then compute how far the particle has traveled in both the \(x\) and \(y\) direction. If you all traveling at 55 MPH and 13 minutes has passed, then you have traveled \((13/60)55 = 14.67\) miles. The formula is the same for figuring out how many pixels we have traveled; though we need to convert milliseconds to seconds by dividing by 1000.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3</div></td><td class="code"><span></span><span class="tok-n">dt</span> <span class="tok-o">=</span> <span class="tok-n">clock</span><span class="tok-o">.</span><span class="tok-n">tick</span><span class="tok-p">(</span><span class="tok-mi">60</span><span class="tok-p">)</span> <span class="tok-o">/</span> <span class="tok-mf">1000.0</span> <span class="tok-c1"># in seconds</span>
<span class="tok-n">ball_x</span> <span class="tok-o">=</span> <span class="tok-n">ball_x</span> <span class="tok-o">+</span> <span class="tok-n">dt</span> <span class="tok-o">*</span> <span class="tok-n">ball_dx</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-n">ball_y</span> <span class="tok-o">=</span> <span class="tok-n">ball_y</span> <span class="tok-o">+</span> <span class="tok-n">dt</span> <span class="tok-o">*</span> <span class="tok-n">ball_dy</span> <i class="conum" data-value="2"></i><b>(2)</b>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The particle&#8217;s new \(x\)-coordinate is the old \(x\)-coordinate plus the time passed times the ball&#8217;s \(x\) velocity. This should make intuitive sense.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Similarly for the change in the \(y\) component.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The logic for bouncing the particle off of the wall is exactly the same as before. We now have enough to rewrite our <code>move</code> function to account for the frame rate.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</div></td><td class="code"><span></span><span class="tok-k">def</span> <span class="tok-nf">move</span><span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">,</span> <span class="tok-n">y</span><span class="tok-p">,</span> <span class="tok-n">dx</span><span class="tok-p">,</span> <span class="tok-n">dy</span><span class="tok-p">):</span>

    <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-n">x</span> <span class="tok-o">+</span> <span class="tok-n">time_passed</span> <span class="tok-o">*</span> <span class="tok-n">dx</span>
    <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-n">y</span> <span class="tok-o">+</span> <span class="tok-n">time_passed</span> <span class="tok-o">*</span> <span class="tok-n">dy</span>

	<span class="tok-c1"># bounce of the four walls </span><i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-k">if</span> <span class="tok-n">x</span> <span class="tok-o">&lt;</span> <span class="tok-mi">0</span><span class="tok-p">:</span>                     <span class="tok-c1"># left</span>
        <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>
        <span class="tok-n">dx</span> <span class="tok-o">=</span> <span class="tok-o">-</span><span class="tok-n">dx</span>
    <span class="tok-k">elif</span> <span class="tok-n">x</span> <span class="tok-o">+</span> <span class="tok-n">ball_w</span> <span class="tok-o">&gt;=</span> <span class="tok-n">width</span><span class="tok-p">:</span>     <span class="tok-c1"># right</span>
        <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-n">width</span> <span class="tok-o">-</span> <span class="tok-n">ball_w</span>
        <span class="tok-n">dx</span> <span class="tok-o">=</span> <span class="tok-o">-</span><span class="tok-n">dx</span>

    <span class="tok-k">if</span> <span class="tok-n">y</span> <span class="tok-o">&lt;</span> <span class="tok-mi">0</span><span class="tok-p">:</span>                     <span class="tok-c1"># top</span>
        <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>
        <span class="tok-n">dy</span> <span class="tok-o">=</span> <span class="tok-o">-</span><span class="tok-n">dy</span>
    <span class="tok-k">elif</span> <span class="tok-n">y</span> <span class="tok-o">+</span> <span class="tok-n">ball_h</span> <span class="tok-o">&gt;=</span> <span class="tok-n">height</span><span class="tok-p">:</span>    <span class="tok-c1"># bottom</span>
        <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-n">height</span> <span class="tok-o">-</span> <span class="tok-n">ball_h</span>
        <span class="tok-n">dy</span> <span class="tok-o">=</span> <span class="tok-o">-</span><span class="tok-n">dy</span>

    <span class="tok-k">return</span> <span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">,</span><span class="tok-n">dx</span><span class="tok-p">,</span><span class="tok-n">dy</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>This conditional is exactly like before.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Piecing this all together we have &#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</div></td><td class="code"><span></span><span class="tok-kn">import</span> <span class="tok-nn">pygame</span><span class="tok-o">,</span> <span class="tok-nn">color</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">init</span><span class="tok-p">()</span>
<span class="tok-n">side</span> <span class="tok-o">=</span> <span class="tok-mi">600</span>
<span class="tok-n">win</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">set_mode</span><span class="tok-p">((</span><span class="tok-n">side</span><span class="tok-p">,</span><span class="tok-n">side</span><span class="tok-p">))</span>
<span class="tok-n">width</span> <span class="tok-o">=</span> <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">get_width</span><span class="tok-p">()</span>
<span class="tok-n">height</span> <span class="tok-o">=</span> <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">get_height</span><span class="tok-p">()</span>

<span class="tok-n">ball</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">load</span><span class="tok-p">(</span><span class="tok-s2">&quot;ball.png&quot;</span><span class="tok-p">)</span><span class="tok-o">.</span><span class="tok-n">convert_alpha</span><span class="tok-p">()</span>
<span class="tok-n">ball_w</span> <span class="tok-o">=</span> <span class="tok-n">ball</span><span class="tok-o">.</span><span class="tok-n">get_width</span><span class="tok-p">()</span>
<span class="tok-n">ball_h</span> <span class="tok-o">=</span> <span class="tok-n">ball</span><span class="tok-o">.</span><span class="tok-n">get_height</span><span class="tok-p">()</span>
<span class="tok-n">ball_x</span> <span class="tok-o">=</span> <span class="tok-n">width</span><span class="tok-o">//</span><span class="tok-mi">2</span> <span class="tok-o">-</span> <span class="tok-n">ball_w</span><span class="tok-o">//</span><span class="tok-mi">2</span>
<span class="tok-n">ball_y</span> <span class="tok-o">=</span> <span class="tok-n">height</span><span class="tok-o">//</span><span class="tok-mi">2</span> <span class="tok-o">-</span> <span class="tok-n">ball_h</span><span class="tok-o">//</span><span class="tok-mi">2</span>

<span class="tok-c1"># particle velocity</span>
<span class="tok-n">ball_dx</span> <span class="tok-o">=</span> <span class="tok-n">width</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>  <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-n">ball_dy</span> <span class="tok-o">=</span> <span class="tok-n">height</span> <span class="tok-o">//</span> <span class="tok-mi">4</span> <i class="conum" data-value="2"></i><b>(2)</b>

<span class="tok-c1"># a clock object for handling the frame rate</span>
<span class="tok-n">clock</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">time</span><span class="tok-o">.</span><span class="tok-n">Clock</span><span class="tok-p">()</span>

<span class="tok-k">while</span> <span class="tok-bp">True</span><span class="tok-p">:</span>
    <span class="tok-n">time_passed</span> <span class="tok-o">=</span> <span class="tok-n">clock</span><span class="tok-o">.</span><span class="tok-n">tick</span><span class="tok-p">(</span><span class="tok-mi">60</span><span class="tok-p">)</span> <span class="tok-o">/</span> <span class="tok-mf">1000.0</span>  <i class="conum" data-value="3"></i><b>(3)</b>
    <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">fill</span><span class="tok-p">(</span><span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">lightgray</span><span class="tok-p">)</span>

    <span class="tok-p">(</span><span class="tok-n">ball_x</span><span class="tok-p">,</span><span class="tok-n">ball_y</span><span class="tok-p">,</span><span class="tok-n">ball_dx</span><span class="tok-p">,</span><span class="tok-n">ball_dy</span><span class="tok-p">)</span> <span class="tok-o">=</span> <span class="tok-n">move</span><span class="tok-p">(</span><span class="tok-n">ball_x</span><span class="tok-p">,</span><span class="tok-n">ball_y</span><span class="tok-p">,</span><span class="tok-n">ball_dx</span><span class="tok-p">,</span><span class="tok-n">ball_dy</span><span class="tok-p">)</span>

    <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">blit</span><span class="tok-p">(</span><span class="tok-n">ball</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">ball_x</span><span class="tok-p">,</span> <span class="tok-n">ball_y</span><span class="tok-p">))</span>
    <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">update</span><span class="tok-p">()</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>move across \(x\) axis in two seconds</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>move down \(y\) axis in four seconds</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The <code>tick</code> function can take an optional frame rate as an argument (in this case 60), which means Pygame will make sure that the loop does not go faster than 60 <em>fps</em>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Add a second particle to the simulation. <strong>Hint</strong>: you will need variables for the second particle&#8217;s position and velocity.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>Create variables for the second particle&#8217;s position and velocity. Use different values
than for the first particle to make it more interesting.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5</div></td><td class="code"><span></span><span class="tok-c1"># this goes before loop</span>
<span class="tok-n">ball2_x</span> <span class="tok-o">=</span> <span class="tok-n">width</span> <span class="tok-o">//</span> <span class="tok-mi">4</span> <span class="tok-o">-</span> <span class="tok-n">ball_w</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>
<span class="tok-n">ball2_y</span> <span class="tok-o">=</span> <span class="tok-n">height</span> <span class="tok-o">//</span> <span class="tok-mi">4</span> <span class="tok-o">-</span> <span class="tok-n">ball_h</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>
<span class="tok-n">ball2_dx</span> <span class="tok-o">=</span> <span class="tok-n">width</span> <span class="tok-o">/</span> <span class="tok-mf">1.603</span>    <span class="tok-c1"># across screen in 1.6 seconds (units are pixels/second)</span>
<span class="tok-n">ball2_dy</span> <span class="tok-o">=</span> <span class="tok-n">height</span> <span class="tok-o">/</span> <span class="tok-o">-</span><span class="tok-mf">3.237</span>  <span class="tok-c1"># up screen in 3.2 seconds</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now modify the loop body to move the second particle. Remember to redraw the second particle.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</div></td><td class="code"><span></span><span class="tok-k">while</span> <span class="tok-bp">True</span><span class="tok-p">:</span>
    <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">fill</span><span class="tok-p">(</span><span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">lightgray</span><span class="tok-p">)</span>

    <span class="tok-p">(</span><span class="tok-n">ball1_x</span><span class="tok-p">,</span> <span class="tok-n">ball1_y</span><span class="tok-p">,</span> <span class="tok-n">ball1_dx</span><span class="tok-p">,</span> <span class="tok-n">ball1_dy</span><span class="tok-p">)</span> <span class="tok-o">=</span>
	    <span class="tok-n">move</span><span class="tok-p">(</span><span class="tok-n">ball1_x</span><span class="tok-p">,</span> <span class="tok-n">ball1_y</span><span class="tok-p">,</span> <span class="tok-n">ball1_dx</span><span class="tok-p">,</span> <span class="tok-n">ball1_dy</span><span class="tok-p">)</span>
    <span class="tok-p">(</span><span class="tok-n">ball2_x</span><span class="tok-p">,</span> <span class="tok-n">ball2_y</span><span class="tok-p">,</span> <span class="tok-n">ball2_dx</span><span class="tok-p">,</span> <span class="tok-n">ball2_dy</span><span class="tok-p">)</span> <span class="tok-o">=</span>
	    <span class="tok-n">move</span><span class="tok-p">(</span><span class="tok-n">ball2_x</span><span class="tok-p">,</span> <span class="tok-n">ball2_y</span><span class="tok-p">,</span> <span class="tok-n">ball2_dx</span><span class="tok-p">,</span> <span class="tok-n">ball2_dy</span><span class="tok-p">)</span> <i class="conum" data-value="1"></i><b>(1)</b>

    <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">blit</span><span class="tok-p">(</span><span class="tok-n">ball</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">ball1_x</span><span class="tok-p">,</span> <span class="tok-n">ball1_y</span><span class="tok-p">))</span>
    <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">blit</span><span class="tok-p">(</span><span class="tok-n">ball</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">ball2_x</span><span class="tok-p">,</span> <span class="tok-n">ball2_y</span><span class="tok-p">))</span> <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">update</span><span class="tok-p">()</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Need to call <code>move</code> for the second particle.See how handy using a function is so we don&#8217;t have to cut-and-paste all of that code!</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Draw the second particle.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_collision_detection"><a class="anchor" href="#_collision_detection"></a>7.2. Collision Detection</h3>
<div class="paragraph">
<p>How can we detect when the two particles collide? One way is to notice that if two particles overlap at all then the distance between the center of the two particles must be less than two times the radius of the particle (assuming the particles have the same radius).</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./images/particles_collide.png" alt="particles collide" width="500">
</div>
</div>
<div class="paragraph">
<p>We can use the formula for the distance between two points to see if the center of the particles are less than the sum of the radius of each particle.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<em>Collision detection</em>, detecting when two objects on a display collide, can be complicated. It is relatively straightforward in the case of two circles, but imagine more complex or irregular shapes.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>\(d=\sqrt{(x_2 - x_1)^2 + (y_2 - y_1)^2}\)</p>
</div>
<div class="paragraph">
<p>And we can write a nice function for:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3</div></td><td class="code"><span></span><span class="tok-c1"># compute the distance between point (x1,y1) and (x2,y2)</span>
<span class="tok-k">def</span> <span class="tok-nf">distance</span><span class="tok-p">(</span><span class="tok-n">x1</span><span class="tok-p">,</span><span class="tok-n">y1</span><span class="tok-p">,</span><span class="tok-n">x2</span><span class="tok-p">,</span><span class="tok-n">y2</span><span class="tok-p">):</span>
    <span class="tok-k">return</span> <span class="tok-n">math</span><span class="tok-o">.</span><span class="tok-n">sqrt</span><span class="tok-p">((</span><span class="tok-n">x1</span> <span class="tok-o">-</span> <span class="tok-n">x2</span><span class="tok-p">)</span><span class="tok-o">**</span><span class="tok-mi">2</span> <span class="tok-o">+</span> <span class="tok-p">(</span><span class="tok-n">y1</span> <span class="tok-o">-</span> <span class="tok-n">y2</span><span class="tok-p">)</span><span class="tok-o">**</span><span class="tok-mi">2</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>But how should we handle the collision? In billiards, imagine the cue ball striking a stationary 8 ball dead on. If perfectly struck the cue ball will stop dead with all of its velocity transferring to the 8 ball. So the velocity of the cue ball was transferred to the 8 ball and the velocity of the 8 ball was transferred to the cue ball. That is, they <em>swapped</em> velocities.</p>
</div>
<div class="paragraph">
<p>To swap \(x\) velocities we need to introduce a temporary variable, <code>tmp</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3</div></td><td class="code"><span></span><span class="tok-n">tmp</span> <span class="tok-o">=</span> <span class="tok-n">ball1_dx</span>
<span class="tok-n">ball1_dx</span> <span class="tok-o">=</span> <span class="tok-n">ball2_dx</span>
<span class="tok-n">ball2_dx</span> <span class="tok-o">=</span> <span class="tok-n">tmp</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Write the code to swap the \(y\) velocities.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3</div></td><td class="code"><span></span><span class="tok-n">tmp</span> <span class="tok-o">=</span> <span class="tok-n">ball1_dy</span>
<span class="tok-n">ball1_dy</span> <span class="tok-o">=</span> <span class="tok-n">ball2_dy</span>
<span class="tok-n">ball2_dy</span> <span class="tok-o">=</span> <span class="tok-n">tmp</span>
</td></tr></table></code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>This is the classic way to express this in just about every programming language. Python&#8217;s tuple notation allows us to write this a little more succinctly. Two swap the value of two variables in Python you can use <em>tuple assignment</em>. For example, to swap the two variables <code>a</code> and <code>b</code> you can simply write &#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-p">(</span><span class="tok-n">a</span><span class="tok-p">,</span><span class="tok-n">b</span><span class="tok-p">)</span> <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-n">b</span><span class="tok-p">,</span><span class="tok-n">a</span><span class="tok-p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Notice that there is a tuple on the left hand side of <code>=</code>, the assignment operator. Up until now we have only ever had a single variable.</p>
</div>
<div class="paragraph">
<p>To wrap up collision detection we need to check if the particles are colliding, in the loop body we can write.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4</div></td><td class="code"><span></span><span class="tok-k">if</span> <span class="tok-n">distance</span><span class="tok-p">(</span><span class="tok-n">ball1_x</span> <span class="tok-o">+</span> <span class="tok-n">r</span><span class="tok-p">,</span> <span class="tok-n">ball1_y</span> <span class="tok-o">+</span> <span class="tok-n">r</span><span class="tok-p">,</span>
            <span class="tok-n">ball2_x</span> <span class="tok-o">+</span> <span class="tok-n">r</span><span class="tok-p">,</span> <span class="tok-n">ball2_y</span> <span class="tok-o">+</span> <span class="tok-n">r</span> <span class="tok-p">)</span> <span class="tok-o">&lt;</span> <span class="tok-mi">2</span> <span class="tok-o">*</span> <span class="tok-n">r</span><span class="tok-p">:</span>  <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-p">(</span><span class="tok-n">ball1_dx</span><span class="tok-p">,</span> <span class="tok-n">ball2_dx</span><span class="tok-p">)</span> <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-n">ball2_dx</span><span class="tok-p">,</span> <span class="tok-n">ball1_dx</span><span class="tok-p">)</span>  <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="tok-p">(</span><span class="tok-n">ball1_dy</span><span class="tok-p">,</span> <span class="tok-n">ball2_dy</span><span class="tok-p">)</span> <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-n">ball2_dy</span><span class="tok-p">,</span> <span class="tok-n">ball1_dy</span><span class="tok-p">)</span>  <i class="conum" data-value="3"></i><b>(3)</b>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Assuming that <code>r</code> is the radius of the particle, it is just <code>ball_w / 2</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Using tuple assignment here &#8230;&#8203;</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>and here.</td>
</tr>
</table>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
This way of handling a collision, simply swapping velocities, is overly simplistic and doesn&#8217;t take into account particles glancing of each other at angles. That involves a bit more math and trigonometry.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Two Particles <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Here is the entire program.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77</div></td><td class="code"><span></span><span class="tok-kn">import</span> <span class="tok-nn">pygame</span><span class="tok-o">,</span> <span class="tok-nn">color</span><span class="tok-o">,</span> <span class="tok-nn">math</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">init</span><span class="tok-p">()</span>
<span class="tok-n">side</span> <span class="tok-o">=</span> <span class="tok-mi">600</span>
<span class="tok-n">win</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">set_mode</span><span class="tok-p">((</span><span class="tok-n">side</span><span class="tok-p">,</span><span class="tok-n">side</span><span class="tok-p">))</span>
<span class="tok-n">width</span> <span class="tok-o">=</span> <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">get_width</span><span class="tok-p">()</span>
<span class="tok-n">height</span> <span class="tok-o">=</span> <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">get_height</span><span class="tok-p">()</span>

<span class="tok-n">ball</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">load</span><span class="tok-p">(</span><span class="tok-s2">&quot;../images/ball.png&quot;</span><span class="tok-p">)</span><span class="tok-o">.</span><span class="tok-n">convert_alpha</span><span class="tok-p">()</span>
<span class="tok-n">ball_w</span> <span class="tok-o">=</span> <span class="tok-n">ball</span><span class="tok-o">.</span><span class="tok-n">get_width</span><span class="tok-p">()</span>
<span class="tok-n">ball_h</span> <span class="tok-o">=</span> <span class="tok-n">ball</span><span class="tok-o">.</span><span class="tok-n">get_height</span><span class="tok-p">()</span>
<span class="tok-n">r</span> <span class="tok-o">=</span> <span class="tok-n">ball_w</span><span class="tok-o">//</span><span class="tok-mi">2</span>  <span class="tok-c1"># radius of the ball</span>

<span class="tok-c1"># Properties of particle 1</span>
<span class="tok-n">ball1_x</span> <span class="tok-o">=</span> <span class="tok-n">width</span> <span class="tok-o">//</span> <span class="tok-mi">2</span> <span class="tok-o">-</span> <span class="tok-n">ball_w</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>
<span class="tok-n">ball1_y</span> <span class="tok-o">=</span> <span class="tok-n">height</span> <span class="tok-o">//</span> <span class="tok-mi">2</span> <span class="tok-o">-</span> <span class="tok-n">ball_h</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>
<span class="tok-n">ball1_dx</span> <span class="tok-o">=</span> <span class="tok-n">width</span> <span class="tok-o">/</span> <span class="tok-mf">2.02</span>  <span class="tok-c1"># 2.02 seconds right</span>
<span class="tok-n">ball1_dy</span> <span class="tok-o">=</span> <span class="tok-n">height</span> <span class="tok-o">/</span> <span class="tok-mf">3.99</span> <span class="tok-c1"># 3.99 seconds down screen</span>

<span class="tok-c1"># Properties of particle 2</span>
<span class="tok-n">ball2_x</span> <span class="tok-o">=</span> <span class="tok-n">width</span> <span class="tok-o">//</span> <span class="tok-mi">4</span> <span class="tok-o">-</span> <span class="tok-n">ball_w</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>
<span class="tok-n">ball2_y</span> <span class="tok-o">=</span> <span class="tok-n">height</span> <span class="tok-o">//</span> <span class="tok-mi">4</span> <span class="tok-o">-</span> <span class="tok-n">ball_h</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>
<span class="tok-n">ball2_dx</span> <span class="tok-o">=</span> <span class="tok-n">width</span> <span class="tok-o">/</span> <span class="tok-mf">1.1603</span>     <span class="tok-c1"># 1.1603 seconds</span>
<span class="tok-n">ball2_dy</span> <span class="tok-o">=</span> <span class="tok-n">height</span> <span class="tok-o">/</span> <span class="tok-o">-</span><span class="tok-mf">2.237</span>    <span class="tok-c1"># 2.237 seconds</span>

<span class="tok-c1"># Function to compute the distance between two points.</span>
<span class="tok-k">def</span> <span class="tok-nf">distance</span><span class="tok-p">(</span><span class="tok-n">x1</span><span class="tok-p">,</span><span class="tok-n">y1</span><span class="tok-p">,</span><span class="tok-n">x2</span><span class="tok-p">,</span><span class="tok-n">y2</span><span class="tok-p">):</span>
    <span class="tok-k">return</span> <span class="tok-n">math</span><span class="tok-o">.</span><span class="tok-n">sqrt</span><span class="tok-p">((</span><span class="tok-n">x1</span><span class="tok-o">-</span><span class="tok-n">x2</span><span class="tok-p">)</span><span class="tok-o">**</span><span class="tok-mi">2</span> <span class="tok-o">+</span> <span class="tok-p">(</span><span class="tok-n">y1</span><span class="tok-o">-</span><span class="tok-n">y2</span><span class="tok-p">)</span><span class="tok-o">**</span><span class="tok-mi">2</span><span class="tok-p">)</span>

<span class="tok-c1"># The move function. Moves a particle and bounces it</span>
<span class="tok-c1"># off of the outer walls if needed.</span>
<span class="tok-k">def</span> <span class="tok-nf">move</span><span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">,</span> <span class="tok-n">y</span><span class="tok-p">,</span> <span class="tok-n">dx</span><span class="tok-p">,</span> <span class="tok-n">dy</span><span class="tok-p">):</span>

    <span class="tok-n">dt</span> <span class="tok-o">=</span> <span class="tok-n">clock</span><span class="tok-o">.</span><span class="tok-n">tick</span><span class="tok-p">(</span><span class="tok-mi">60</span><span class="tok-p">)</span> <span class="tok-o">/</span> <span class="tok-mf">1000.0</span>

    <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-n">x</span> <span class="tok-o">+</span> <span class="tok-p">(</span><span class="tok-n">dt</span> <span class="tok-o">*</span> <span class="tok-n">dx</span><span class="tok-p">)</span>
    <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-n">y</span> <span class="tok-o">+</span> <span class="tok-p">(</span><span class="tok-n">dt</span> <span class="tok-o">*</span> <span class="tok-n">dy</span><span class="tok-p">)</span>

    <span class="tok-k">if</span> <span class="tok-n">x</span> <span class="tok-o">&lt;</span> <span class="tok-mi">0</span><span class="tok-p">:</span>
        <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>
        <span class="tok-n">dx</span> <span class="tok-o">=</span> <span class="tok-o">-</span><span class="tok-n">dx</span>
    <span class="tok-k">elif</span> <span class="tok-n">x</span> <span class="tok-o">+</span> <span class="tok-n">ball_w</span> <span class="tok-o">&gt;=</span> <span class="tok-n">width</span><span class="tok-p">:</span>
        <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-n">width</span> <span class="tok-o">-</span> <span class="tok-n">ball_w</span>
        <span class="tok-n">dx</span> <span class="tok-o">=</span> <span class="tok-o">-</span><span class="tok-n">dx</span>

    <span class="tok-k">if</span> <span class="tok-n">y</span> <span class="tok-o">&lt;</span> <span class="tok-mi">0</span><span class="tok-p">:</span>
        <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>
        <span class="tok-n">dy</span> <span class="tok-o">=</span> <span class="tok-o">-</span><span class="tok-n">dy</span>
    <span class="tok-k">elif</span> <span class="tok-n">y</span> <span class="tok-o">+</span><span class="tok-n">ball_h</span> <span class="tok-o">&gt;=</span> <span class="tok-n">height</span><span class="tok-p">:</span>
        <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-n">height</span> <span class="tok-o">-</span> <span class="tok-n">ball_h</span>
        <span class="tok-n">dy</span> <span class="tok-o">=</span> <span class="tok-o">-</span><span class="tok-n">dy</span>

    <span class="tok-k">return</span> <span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">,</span><span class="tok-n">dx</span><span class="tok-p">,</span><span class="tok-n">dy</span><span class="tok-p">)</span>

<span class="tok-n">clock</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">time</span><span class="tok-o">.</span><span class="tok-n">Clock</span><span class="tok-p">()</span> <span class="tok-c1"># create a clock object</span>

<span class="tok-c1"># The main outer loop.</span>
<span class="tok-k">while</span> <span class="tok-bp">True</span><span class="tok-p">:</span>
    <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">fill</span><span class="tok-p">(</span><span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">lightgray</span><span class="tok-p">)</span>

	<span class="tok-c1"># move the particles</span>
    <span class="tok-p">(</span><span class="tok-n">ball1_x</span><span class="tok-p">,</span> <span class="tok-n">ball1_y</span><span class="tok-p">,</span> <span class="tok-n">ball1_dx</span><span class="tok-p">,</span> <span class="tok-n">ball1_dy</span><span class="tok-p">)</span> <span class="tok-o">=</span>
	    <span class="tok-n">move</span><span class="tok-p">(</span><span class="tok-n">ball1_x</span><span class="tok-p">,</span> <span class="tok-n">ball1_y</span><span class="tok-p">,</span> <span class="tok-n">ball1_dx</span><span class="tok-p">,</span> <span class="tok-n">ball1_dy</span><span class="tok-p">)</span>

    <span class="tok-p">(</span><span class="tok-n">ball2_x</span><span class="tok-p">,</span> <span class="tok-n">ball2_y</span><span class="tok-p">,</span> <span class="tok-n">ball2_dx</span><span class="tok-p">,</span> <span class="tok-n">ball2_dy</span><span class="tok-p">)</span> <span class="tok-o">=</span>
	    <span class="tok-n">move</span><span class="tok-p">(</span><span class="tok-n">ball2_x</span><span class="tok-p">,</span> <span class="tok-n">ball2_y</span><span class="tok-p">,</span> <span class="tok-n">ball2_dx</span><span class="tok-p">,</span> <span class="tok-n">ball2_dy</span><span class="tok-p">)</span>

    <span class="tok-c1"># check collision</span>
    <span class="tok-k">if</span> <span class="tok-n">distance</span><span class="tok-p">(</span><span class="tok-n">ball1_x</span> <span class="tok-o">+</span> <span class="tok-n">r</span><span class="tok-p">,</span>
                <span class="tok-n">ball1_y</span> <span class="tok-o">+</span> <span class="tok-n">r</span><span class="tok-p">,</span>
                <span class="tok-n">ball2_x</span> <span class="tok-o">+</span> <span class="tok-n">r</span><span class="tok-p">,</span>
                <span class="tok-n">ball2_y</span> <span class="tok-o">+</span> <span class="tok-n">r</span> <span class="tok-p">)</span> <span class="tok-o">&lt;</span> <span class="tok-mi">2</span> <span class="tok-o">*</span> <span class="tok-n">r</span><span class="tok-p">:</span>
        <span class="tok-p">(</span><span class="tok-n">ball1_dx</span><span class="tok-p">,</span> <span class="tok-n">ball2_dx</span><span class="tok-p">)</span> <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-n">ball2_dx</span><span class="tok-p">,</span> <span class="tok-n">ball1_dx</span><span class="tok-p">)</span>
        <span class="tok-p">(</span><span class="tok-n">ball1_dy</span><span class="tok-p">,</span> <span class="tok-n">ball2_dy</span><span class="tok-p">)</span> <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-n">ball2_dy</span><span class="tok-p">,</span> <span class="tok-n">ball1_dy</span><span class="tok-p">)</span>

    <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">blit</span><span class="tok-p">(</span><span class="tok-n">ball</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">ball1_x</span><span class="tok-p">,</span> <span class="tok-n">ball1_y</span><span class="tok-p">))</span>
    <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">blit</span><span class="tok-p">(</span><span class="tok-n">ball</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">ball2_x</span><span class="tok-p">,</span> <span class="tok-n">ball2_y</span><span class="tok-p">))</span>
    <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">update</span><span class="tok-p">()</span>
</td></tr></table></code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Add a third particle to the simulation and collision detection logic.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>This gets to be a bit messy.  We will have a better solution to handling multiple particles when we cover <em>lists</em>.</p>
</div>
<div class="paragraph">
<p>I left out the <code>move</code> and <code>distance</code> functions because they are exactly the same as previous.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71</div></td><td class="code"><span></span><span class="tok-kn">import</span> <span class="tok-nn">pygame</span><span class="tok-o">,</span> <span class="tok-nn">color</span><span class="tok-o">,</span> <span class="tok-nn">math</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">init</span><span class="tok-p">()</span>
<span class="tok-n">side</span> <span class="tok-o">=</span> <span class="tok-mi">400</span>
<span class="tok-n">win</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">set_mode</span><span class="tok-p">((</span><span class="tok-n">side</span><span class="tok-p">,</span><span class="tok-n">side</span><span class="tok-p">))</span>
<span class="tok-n">width</span> <span class="tok-o">=</span> <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">get_width</span><span class="tok-p">()</span>
<span class="tok-n">height</span> <span class="tok-o">=</span> <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">get_height</span><span class="tok-p">()</span>

<span class="tok-n">ball</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">load</span><span class="tok-p">(</span><span class="tok-s2">&quot;ball.png&quot;</span><span class="tok-p">)</span><span class="tok-o">.</span><span class="tok-n">convert_alpha</span><span class="tok-p">()</span>
<span class="tok-n">ball_w</span> <span class="tok-o">=</span> <span class="tok-n">ball</span><span class="tok-o">.</span><span class="tok-n">get_width</span><span class="tok-p">()</span>
<span class="tok-n">ball_h</span> <span class="tok-o">=</span> <span class="tok-n">ball</span><span class="tok-o">.</span><span class="tok-n">get_height</span><span class="tok-p">()</span>
<span class="tok-n">r</span> <span class="tok-o">=</span> <span class="tok-n">ball_w</span><span class="tok-o">//</span><span class="tok-mi">2</span>

<span class="tok-c1"># particle 1</span>
<span class="tok-n">ball1_x</span> <span class="tok-o">=</span> <span class="tok-n">width</span> <span class="tok-o">//</span> <span class="tok-mi">2</span> <span class="tok-o">-</span> <span class="tok-n">ball_w</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>
<span class="tok-n">ball1_y</span> <span class="tok-o">=</span> <span class="tok-n">height</span> <span class="tok-o">//</span> <span class="tok-mi">2</span> <span class="tok-o">-</span> <span class="tok-n">ball_h</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>
<span class="tok-n">ball1_dx</span> <span class="tok-o">=</span> <span class="tok-n">width</span> <span class="tok-o">/</span> <span class="tok-mf">2.02</span> <span class="tok-c1"># across screen in two seconds (units are pixels/second)</span>
<span class="tok-n">ball1_dy</span> <span class="tok-o">=</span> <span class="tok-n">height</span> <span class="tok-o">/</span> <span class="tok-mf">3.99</span> <span class="tok-c1"># down screen in four seconds</span>

<span class="tok-c1"># particle 2</span>
<span class="tok-n">ball2_x</span> <span class="tok-o">=</span> <span class="tok-n">width</span> <span class="tok-o">//</span> <span class="tok-mi">4</span> <span class="tok-o">-</span> <span class="tok-n">ball_w</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>
<span class="tok-n">ball2_y</span> <span class="tok-o">=</span> <span class="tok-n">height</span> <span class="tok-o">//</span> <span class="tok-mi">4</span> <span class="tok-o">-</span> <span class="tok-n">ball_h</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>
<span class="tok-n">ball2_dx</span> <span class="tok-o">=</span> <span class="tok-n">width</span> <span class="tok-o">/</span> <span class="tok-mf">1.1603</span> <span class="tok-c1"># across screen in two seconds (units are pixels/second)</span>
<span class="tok-n">ball2_dy</span> <span class="tok-o">=</span> <span class="tok-n">height</span> <span class="tok-o">/</span> <span class="tok-o">-</span><span class="tok-mf">2.237</span> <span class="tok-c1"># down screen in four seconds</span>

<span class="tok-c1"># particle 3</span>
<span class="tok-n">ball3_x</span> <span class="tok-o">=</span> <span class="tok-n">width</span> <span class="tok-o">-</span> <span class="tok-n">ball_w</span>
<span class="tok-n">ball3_y</span> <span class="tok-o">=</span> <span class="tok-n">height</span> <span class="tok-o">//</span> <span class="tok-mi">4</span> <span class="tok-o">-</span> <span class="tok-n">ball_h</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>
<span class="tok-n">ball3_dx</span> <span class="tok-o">=</span> <span class="tok-n">width</span> <span class="tok-o">/</span> <span class="tok-o">-</span><span class="tok-mf">0.8603</span> <span class="tok-c1"># across screen in two seconds (units are pixels/second)</span>
<span class="tok-n">ball3_dy</span> <span class="tok-o">=</span> <span class="tok-n">height</span> <span class="tok-o">/</span> <span class="tok-mf">1.237</span> <span class="tok-c1"># down screen in four seconds</span>

<span class="tok-n">clock</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">time</span><span class="tok-o">.</span><span class="tok-n">Clock</span><span class="tok-p">()</span>

<span class="tok-k">while</span> <span class="tok-bp">True</span><span class="tok-p">:</span>
    <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">fill</span><span class="tok-p">(</span><span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">lightgray</span><span class="tok-p">)</span>

    <span class="tok-p">(</span><span class="tok-n">ball1_x</span><span class="tok-p">,</span> <span class="tok-n">ball1_y</span><span class="tok-p">,</span> <span class="tok-n">ball1_dx</span><span class="tok-p">,</span> <span class="tok-n">ball1_dy</span><span class="tok-p">)</span> <span class="tok-o">=</span>
	    <span class="tok-n">move</span><span class="tok-p">(</span><span class="tok-n">ball1_x</span><span class="tok-p">,</span> <span class="tok-n">ball1_y</span><span class="tok-p">,</span> <span class="tok-n">ball1_dx</span><span class="tok-p">,</span> <span class="tok-n">ball1_dy</span><span class="tok-p">)</span>

    <span class="tok-p">(</span><span class="tok-n">ball2_x</span><span class="tok-p">,</span> <span class="tok-n">ball2_y</span><span class="tok-p">,</span> <span class="tok-n">ball2_dx</span><span class="tok-p">,</span> <span class="tok-n">ball2_dy</span><span class="tok-p">)</span> <span class="tok-o">=</span>
	    <span class="tok-n">move</span><span class="tok-p">(</span><span class="tok-n">ball2_x</span><span class="tok-p">,</span> <span class="tok-n">ball2_y</span><span class="tok-p">,</span> <span class="tok-n">ball2_dx</span><span class="tok-p">,</span> <span class="tok-n">ball2_dy</span><span class="tok-p">)</span>

    <span class="tok-p">(</span><span class="tok-n">ball3_x</span><span class="tok-p">,</span> <span class="tok-n">ball3_y</span><span class="tok-p">,</span> <span class="tok-n">ball3_dx</span><span class="tok-p">,</span> <span class="tok-n">ball3_dy</span><span class="tok-p">)</span> <span class="tok-o">=</span>
	    <span class="tok-n">move</span><span class="tok-p">(</span><span class="tok-n">ball3_x</span><span class="tok-p">,</span> <span class="tok-n">ball3_y</span><span class="tok-p">,</span> <span class="tok-n">ball3_dx</span><span class="tok-p">,</span> <span class="tok-n">ball3_dy</span><span class="tok-p">)</span>

    <span class="tok-c1"># check collisions</span>
    <span class="tok-k">if</span> <span class="tok-n">distance</span><span class="tok-p">(</span><span class="tok-n">ball1_x</span> <span class="tok-o">+</span> <span class="tok-n">r</span><span class="tok-p">,</span> <span class="tok-n">ball1_y</span> <span class="tok-o">+</span> <span class="tok-n">r</span><span class="tok-p">,</span>
                <span class="tok-n">ball2_x</span> <span class="tok-o">+</span> <span class="tok-n">r</span><span class="tok-p">,</span> <span class="tok-n">ball2_y</span> <span class="tok-o">+</span> <span class="tok-n">r</span> <span class="tok-p">)</span> <span class="tok-o">&lt;</span> <span class="tok-mi">2</span> <span class="tok-o">*</span> <span class="tok-n">r</span><span class="tok-p">:</span>
        <span class="tok-p">(</span><span class="tok-n">ball1_dx</span><span class="tok-p">,</span> <span class="tok-n">ball2_dx</span><span class="tok-p">)</span> <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-n">ball2_dx</span><span class="tok-p">,</span> <span class="tok-n">ball1_dx</span><span class="tok-p">)</span>
        <span class="tok-p">(</span><span class="tok-n">ball1_dy</span><span class="tok-p">,</span> <span class="tok-n">ball2_dy</span><span class="tok-p">)</span> <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-n">ball2_dy</span><span class="tok-p">,</span> <span class="tok-n">ball1_dy</span><span class="tok-p">)</span>

    <span class="tok-k">elif</span> <span class="tok-n">distance</span><span class="tok-p">(</span><span class="tok-n">ball1_x</span> <span class="tok-o">+</span> <span class="tok-n">r</span><span class="tok-p">,</span> <span class="tok-n">ball1_y</span> <span class="tok-o">+</span> <span class="tok-n">r</span><span class="tok-p">,</span>
                  <span class="tok-n">ball3_x</span> <span class="tok-o">+</span> <span class="tok-n">r</span><span class="tok-p">,</span> <span class="tok-n">ball3_y</span> <span class="tok-o">+</span> <span class="tok-n">r</span> <span class="tok-p">)</span> <span class="tok-o">&lt;</span> <span class="tok-mi">2</span> <span class="tok-o">*</span> <span class="tok-n">r</span><span class="tok-p">:</span>
        <span class="tok-p">(</span><span class="tok-n">ball1_dx</span><span class="tok-p">,</span> <span class="tok-n">ball3_dx</span><span class="tok-p">)</span> <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-n">ball3_dx</span><span class="tok-p">,</span> <span class="tok-n">ball1_dx</span><span class="tok-p">)</span>
        <span class="tok-p">(</span><span class="tok-n">ball1_dy</span><span class="tok-p">,</span> <span class="tok-n">ball3_dy</span><span class="tok-p">)</span> <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-n">ball3_dy</span><span class="tok-p">,</span> <span class="tok-n">ball1_dy</span><span class="tok-p">)</span>

    <span class="tok-k">elif</span> <span class="tok-n">distance</span><span class="tok-p">(</span><span class="tok-n">ball2_x</span> <span class="tok-o">+</span> <span class="tok-n">r</span><span class="tok-p">,</span> <span class="tok-n">ball2_y</span> <span class="tok-o">+</span> <span class="tok-n">r</span><span class="tok-p">,</span>
                  <span class="tok-n">ball3_x</span> <span class="tok-o">+</span> <span class="tok-n">r</span><span class="tok-p">,</span> <span class="tok-n">ball3_y</span> <span class="tok-o">+</span> <span class="tok-n">r</span> <span class="tok-p">)</span> <span class="tok-o">&lt;</span> <span class="tok-mi">2</span> <span class="tok-o">*</span> <span class="tok-n">r</span><span class="tok-p">:</span>
        <span class="tok-p">(</span><span class="tok-n">ball2_dx</span><span class="tok-p">,</span> <span class="tok-n">ball3_dx</span><span class="tok-p">)</span> <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-n">ball3_dx</span><span class="tok-p">,</span> <span class="tok-n">ball2_dx</span><span class="tok-p">)</span>
        <span class="tok-p">(</span><span class="tok-n">ball2_dy</span><span class="tok-p">,</span> <span class="tok-n">ball3_dy</span><span class="tok-p">)</span> <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-n">ball3_dy</span><span class="tok-p">,</span> <span class="tok-n">ball2_dy</span><span class="tok-p">)</span>


    <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">blit</span><span class="tok-p">(</span><span class="tok-n">ball</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">ball1_x</span><span class="tok-p">,</span> <span class="tok-n">ball1_y</span><span class="tok-p">))</span>
    <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">blit</span><span class="tok-p">(</span><span class="tok-n">ball</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">ball2_x</span><span class="tok-p">,</span> <span class="tok-n">ball2_y</span><span class="tok-p">))</span>
    <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">blit</span><span class="tok-p">(</span><span class="tok-n">ball</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">ball3_x</span><span class="tok-p">,</span> <span class="tok-n">ball3_y</span><span class="tok-p">))</span>
    <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">update</span><span class="tok-p">()</span>

    <span class="tok-k">for</span> <span class="tok-n">event</span> <span class="tok-ow">in</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">event</span><span class="tok-o">.</span><span class="tok-n">get</span><span class="tok-p">():</span>
        <span class="tok-k">if</span> <span class="tok-n">event</span><span class="tok-o">.</span><span class="tok-n">type</span> <span class="tok-o">==</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">QUIT</span><span class="tok-p">:</span>
            <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">quit</span><span class="tok-p">()</span>
            <span class="tok-nb">exit</span><span class="tok-p">()</span>

</td></tr></table></code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Adding a fourth and fifth particle is a lot of cutting-and-pasting. This should feel wrong. And it is. We&#8217;ll have a more general solution later on when we discuss <em>lists</em> where we can have as many particles as we want.</p>
</div>
</div>
<div class="sect2">
<h3 id="_exercises_6"><a class="anchor" href="#_exercises_6"></a>7.3. Exercises</h3>
<div class="paragraph">
<div class="title">Inner Wall</div>
<p>Add an inner wall to the particle simulation that is centered within the display and has a width that is one tenth the width of the window and half of the height of the window. Have a particle bounce off of the left and right face of the wall. Don&#8217;t worry about the top and bottom. If it happens to hit the top it will look a little weird.</p>
</div>
</div>
<div class="sect2">
<h3 id="_terminology_7"><a class="anchor" href="#_terminology_7"></a>7.4. Terminology</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 14. Terminology</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>frame</p>
</li>
<li>
<p>frame rate</p>
</li>
<li>
<p>tuple assignment</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>millisecond</p>
</li>
<li>
<p>alpha transparency</p>
</li>
<li>
<p>collision detection</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_for_loop"><a class="anchor" href="#_the_for_loop"></a>8. The <code>for</code> loop</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Recall that a very common looping pattern is a <em>counting loop</em> that iterates an
exact number of times. Recall the pattern &#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4</div></td><td class="code"><span></span><span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>
<span class="tok-k">while</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-n">n</span><span class="tok-p">:</span>
    <span class="tok-c1"># loop body</span>
	<span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-n">i</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>This loop body will execute exactly <code>n</code> times; as long as <code>n</code> is not modified in the loop body. Another way to write this in Python is using the <code>for</code>-loop.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2</div></td><td class="code"><span></span><span class="tok-k">for</span> <span class="tok-n">i</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-n">n</span><span class="tok-p">):</span>
    <span class="tok-c1"># loop body</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>There are two new Python keywords <code>for</code> and <code>in</code>. There is also no explicit assignment statement incrementing <code>i</code> by one. There is also the use of this new function  <code>range(n)</code> with an argument <code>n</code>. Technically <code>range</code> is not a function in Python but a <em>range type</em> which is used to generate an immutable sequence of integers. Something that is <em>immutable</em> cannot be changed. So <code>range(n)</code> generates a sequence of numbers from <code>0</code> up to but not including <code>n</code>.</p>
</div>
<div class="paragraph">
<p>The <code>for</code>-loop</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2</div></td><td class="code"><span></span><span class="tok-k">for</span> <span class="tok-n">i</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-mi">10</span><span class="tok-p">):</span>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">i</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>will print the integers 0 through 9, one per line. More generally, the <code>for</code>-loop has the syntax &#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2</div></td><td class="code"><span></span><span class="tok-k">for</span> <span class="tok-n">var</span> <span class="tok-ow">in</span> <span class="tok-n">some_sequence_type</span><span class="tok-p">:</span>
    <span class="tok-n">stmt</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Where <code>some_sequence_type</code> represents a sequence of values, such as the sequence of integers generated by the <code>range</code> function. The variable <code>var</code> will take on each value in the sequence, and <code>var</code> can be used in the loop body, but <code>var</code> should never be modified in the loop body.</p>
</div>
<div class="sect2">
<h3 id="_for_loop_examples"><a class="anchor" href="#_for_loop_examples"></a>8.1. <code>for</code> loop examples</h3>
<div class="paragraph">
<p>Here is an example <code>for</code>-loop that will sum the integers from 1 to 100.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3</div></td><td class="code"><span></span><span class="tok-n">total</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>
<span class="tok-k">for</span> <span class="tok-n">i</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-mi">101</span><span class="tok-p">):</span>
    <span class="tok-n">total</span> <span class="tok-o">=</span> <span class="tok-n">total</span> <span class="tok-o">+</span> <span class="tok-n">i</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>range</code> function can take an optional starting value. For example <code>range(10,15)</code> generates the sequence of integers <code>10, 11, 12, 13, 14</code> (it never includes the <em>stop</em> value, in this case <code>15</code>).</p>
</div>
<div class="listingblock">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5</div></td><td class="code"><span></span><span class="tok-c1"># What is the output of the following code?</span>
<span class="tok-nb">sum</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>
<span class="tok-k">for</span> <span class="tok-n">i</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-mi">3</span><span class="tok-p">,</span><span class="tok-mi">8</span><span class="tok-p">):</span>
    <span class="tok-nb">sum</span> <span class="tok-o">+=</span> <span class="tok-n">i</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-nb">sum</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="exampleblock result">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>25</pre>
</div>
</div>
<div class="paragraph">
<p>Because <code>3+4+5+6+7</code> is <code>25</code>.</p>
</div>
</div>
</div>
<div class="listingblock">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5</div></td><td class="code"><span></span><span class="tok-c1"># What is the output of the following code?</span>
<span class="tok-nb">sum</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>
<span class="tok-k">for</span> <span class="tok-n">i</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-mi">8</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">):</span>
    <span class="tok-nb">sum</span> <span class="tok-o">+=</span> <span class="tok-n">i</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-nb">sum</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="exampleblock result">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>0</pre>
</div>
</div>
<div class="paragraph">
<p>Because the start value in the <code>range</code> function is greater-than-or-equal to the stop value,
the loop iterates exactly zero times.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>The range function can also take an optional <em>step</em> value as the third argument. For example, <code>range(10,15,2)</code> generates the sequence of integers <code>10, 12, 14</code>.</p>
</div>
<div class="listingblock">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5</div></td><td class="code"><span></span><span class="tok-c1"># What is the output of the following code?</span>
<span class="tok-nb">sum</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>
<span class="tok-k">for</span> <span class="tok-n">i</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-mi">3</span><span class="tok-p">,</span><span class="tok-mi">8</span><span class="tok-p">,</span><span class="tok-mi">2</span><span class="tok-p">):</span>
    <span class="tok-nb">sum</span> <span class="tok-o">+=</span> <span class="tok-n">i</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-nb">sum</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="exampleblock result">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>15</pre>
</div>
</div>
<div class="paragraph">
<p>Because <code>3+5+7</code> is <code>15</code>.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Step values can be negative. For example, <code>range(8,3,-1)</code> generates the sequence
<code>8,7,6,5,4</code> (why does it not include <code>3</code>? Because the <code>range</code> function never includes the
final <em>stop</em> value, in this case <code>3</code>).</p>
</div>
</div>
<div class="sect2">
<h3 id="_nested_for_loops"><a class="anchor" href="#_nested_for_loops"></a>8.2. Nested <code>for</code>-loops</h3>
<div class="paragraph">
<p><code>for</code>-loops can be nested just like <code>while</code> loops. This is a pattern we will see frequently when we get to processing images in pygame. Consider the code fragment below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3</div></td><td class="code"><span></span><span class="tok-k">for</span> <span class="tok-n">i</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-mi">4</span><span class="tok-p">):</span>
    <span class="tok-k">for</span> <span class="tok-n">j</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-mi">3</span><span class="tok-p">):</span>
        <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">i</span><span class="tok-p">,</span><span class="tok-s1">&#39;</span><span class="tok-se">\t</span><span class="tok-s1">&#39;</span><span class="tok-p">,</span><span class="tok-n">j</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>For each value of <code>i</code> in the <em>outer</em> <code>for</code>-loop <code>j</code> will take on values <code>0</code>,<code>1</code>, and <code>2</code> in the <em>inner</em> <code>for</code>-loop. The output produced is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>0 	 0
0 	 1
0 	 2
1 	 0
1 	 1
1 	 2
2 	 0
2 	 1
2 	 2
3 	 0
3 	 1
3 	 2</pre>
</div>
</div>
<div class="paragraph">
<p>This one is slightly more tricky, but one you will see again.</p>
</div>
<div class="listingblock">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4</div></td><td class="code"><span></span><span class="tok-c1"># What is the output of the following code?</span>
<span class="tok-k">for</span> <span class="tok-n">i</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-mi">4</span><span class="tok-p">):</span>
    <span class="tok-k">for</span> <span class="tok-n">j</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-n">i</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">):</span>
        <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">i</span><span class="tok-p">,</span><span class="tok-s1">&#39;</span><span class="tok-se">\t</span><span class="tok-s1">&#39;</span><span class="tok-p">,</span><span class="tok-n">j</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>The way to think of this is that for each value <code>i</code> <code>j</code> will take on value from <code>i</code>
up to but not including <code>3</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>0 	 0
0 	 1
0 	 2
1 	 1
1 	 2
2 	 2</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_other_kinds_of_for_loops"><a class="anchor" href="#_other_kinds_of_for_loops"></a>8.3. Other kinds of <code>for</code>-loops</h3>
<div class="paragraph">
<p>Later on we will see <code>for</code>-loops that don&#8217;t use integer ranges. That is, we will not always use the <code>range</code> function to generate a sequence for the <code>for</code>-loop. A string literal is  also a <em>sequence type</em>, it is a sequence of characters. The code</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3</div></td><td class="code"><span></span><span class="tok-n">name</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;Tom Marvolo Riddle&quot;</span>
<span class="tok-k">for</span> <span class="tok-n">ch</span> <span class="tok-ow">in</span> <span class="tok-n">name</span><span class="tok-p">:</span>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">ch</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>will print each character in the string literal <code>"Tom Marvolo Riddle"</code> on a separate line. So a string is a sequence type. We will see several more sequence types, including strings, in later chapters.</p>
</div>
</div>
<div class="sect2">
<h3 id="_exercises_7"><a class="anchor" href="#_exercises_7"></a>8.4. Exercises</h3>
<div class="paragraph">
<p>TBD</p>
</div>
</div>
<div class="sect2">
<h3 id="_terminology_8"><a class="anchor" href="#_terminology_8"></a>8.5. Terminology</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 15. Terminology</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>sequence type</p>
</li>
<li>
<p>range type</p>
</li>
<li>
<p>start, stop, and step values</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>immutable</p>
</li>
<li>
<p>outer loop</p>
</li>
<li>
<p>inner loop</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_event_handling"><a class="anchor" href="#_event_handling"></a>9. Event Handling</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Up to this point the only way that the user has interacted with a program is to enter data from the console with the keyboard from a call to the <code>input</code> function.  Lets now allow the user to interact with a running Pygame program using the mouse or the keyboard. For example, hitting the up and down arrows to move something on a pygame display or clicking somewhere on a pygame window.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An <em>event</em> is a Pygame object that represents a user action such as pressing a key or moving the mouse. An event has data associated with it such as the kind of event, such as a mouse movement, mouse button press, or key press. Additional data depends on the event. For example, if the mouse was moved then the event also contains the current location of the mouse. If a key was pressed then the event contains data about which key.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>One event we can check for is to see if the user has clicked the X in the Pygame
window to kill the program. We can check for this event, named <code>pygame.QUIT</code>. Events can be generated quickly. Just moving your mouse across the Pygame display can generate hundreds of <code>pygame.MOUSEMOTION</code> events.  Hence, events get stored in the <em>event queue</em>.</p>
</div>
<div class="paragraph">
<p>A <em>queue</em> is another name for a line. In the U.S. people might stand in a line to get a movie ticket, but in the U.K. people get <em>in queue</em>. An <em>event queue</em> is a Python object that holds events in the order they occur. When you are typing in your favorite word processor you want the characters to appear in the order they are typed. Anything else would be strange.</p>
</div>
<div class="paragraph">
<p>Here is a code snippet that checks for the <code>QUIT</code> event and stops the program if the user
has clicked on the X. The Pygame function <code>pygame.event.get()</code> retrieves the event queue (and the event queue is a sequence, so it can be used in a <code>for</code>-loop).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4</div></td><td class="code"><span></span><span class="tok-k">for</span> <span class="tok-n">event</span> <span class="tok-ow">in</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">event</span><span class="tok-o">.</span><span class="tok-n">get</span><span class="tok-p">():</span>   <i class="conum" data-value="1"></i><b>(1)</b>
	<span class="tok-k">if</span> <span class="tok-n">event</span><span class="tok-o">.</span><span class="tok-n">type</span> <span class="tok-o">==</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">QUIT</span><span class="tok-p">:</span>  <i class="conum" data-value="2"></i><b>(2)</b>
		<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">quit</span><span class="tok-p">()</span>              <i class="conum" data-value="3"></i><b>(3)</b>
		<span class="tok-nb">exit</span><span class="tok-p">()</span>                     <i class="conum" data-value="4"></i><b>(4)</b>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>For each event in the event queue</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>See if it is the <code>QUIT</code> event. If it is then &#8230;&#8203;</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>stop Pygame (this is a new function)</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>exit out of the program</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>We could place this code in the outer while loop of our particle simulation.</p>
</div>
<div class="sect2">
<h3 id="_a_handy_utility_function"><a class="anchor" href="#_a_handy_utility_function"></a>9.1. A Handy Utility Function</h3>
<div class="paragraph">
<p>The above event processing code checks for a <code>QUIT</code> event while the program is executing. It does not otherwise cause the program to stop or wait. Recall how we were using the <code>input()</code> function to cause a Pygame program to actually pause so the display didn&#8217;t just disappear when the program terminated. Lets modify the above event processing code and write a function <code>wait_for_quit()</code> that causes the program to actually stop and wait until the user closes the window. We can do this just by looping until the user closes the window.</p>
</div>
<div class="listingblock">
<div class="title"><code>util.py</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6
7
8</div></td><td class="code"><span></span><span class="tok-k">def</span> <span class="tok-nf">wait_for_quit</span><span class="tok-p">():</span>

    <span class="tok-k">while</span> <span class="tok-bp">True</span><span class="tok-p">:</span>
        <span class="tok-k">for</span> <span class="tok-n">event</span> <span class="tok-ow">in</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">event</span><span class="tok-o">.</span><span class="tok-n">get</span><span class="tok-p">():</span>   <i class="conum" data-value="1"></i><b>(1)</b>
            <span class="tok-k">if</span> <span class="tok-n">event</span><span class="tok-o">.</span><span class="tok-n">type</span> <span class="tok-o">==</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">QUIT</span><span class="tok-p">:</span>
                <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">quit</span><span class="tok-p">()</span>
				<span class="tok-nb">exit</span><span class="tok-p">()</span>                     <i class="conum" data-value="2"></i><b>(2)</b>
		<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">time</span><span class="tok-o">.</span><span class="tok-n">wait</span><span class="tok-p">(</span><span class="tok-mi">100</span><span class="tok-p">)</span>              <i class="conum" data-value="3"></i><b>(3)</b>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Same event code as before.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><code>wait_for_quit</code> never returns, it just kills the program right here.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>While this line not absolutely necessary, forcing a delay keeps the <code>while</code> loop from spinning at maximum speed and hogging the CPU thereby allowing other programs that might be running to utilize the CPU. Actions like this also keep your CPU cooler, and use less battery on your laptop.</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Function <code>pygame.time.wait</code> waits for a number of milliseconds. It is similar to <code>pygame.time.delay</code> except that <code>pygame.time.wait</code> relinquishes the CPU so that other programs may run whereas <code>pygame.time.delay</code> continues to use the processor during the delay.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Function <code>wait_for_quit</code> assumes that if the user closes the window they want the program to terminate as well. Function <code>wait_for_quit()</code> is so useful that we might consider putting it in a separate file <code>util.py</code> so we can import it in other Pygame programs.</p>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Write a function <code>wait_for_click()</code> that <em>pauses</em> the program until the user clicks
somewhere in the Pygame display. This function should behave a little differently than <code>wait_for_quit()</code> in that the program should not exit, but just continue.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6
7</div></td><td class="code"><span></span><span class="tok-k">def</span> <span class="tok-nf">wait_for_click</span><span class="tok-p">():</span>
    <span class="tok-n">done</span> <span class="tok-o">=</span> <span class="tok-bp">False</span>                                   <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-k">while</span> <span class="tok-ow">not</span> <span class="tok-n">done</span><span class="tok-p">:</span>                                <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="tok-k">for</span> <span class="tok-n">e</span> <span class="tok-ow">in</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">event</span><span class="tok-o">.</span><span class="tok-n">get</span><span class="tok-p">():</span>               <i class="conum" data-value="3"></i><b>(3)</b>
            <span class="tok-k">if</span> <span class="tok-n">e</span><span class="tok-o">.</span><span class="tok-n">type</span> <span class="tok-o">==</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">MOUSEBUTTONDOWN</span><span class="tok-p">:</span>   <i class="conum" data-value="4"></i><b>(4)</b>
                <span class="tok-n">done</span> <span class="tok-o">=</span> <span class="tok-bp">True</span>                        <i class="conum" data-value="5"></i><b>(5)</b>
        <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">time</span><span class="tok-o">.</span><span class="tok-n">wait</span><span class="tok-p">(</span><span class="tok-mi">100</span><span class="tok-p">)</span>                      <i class="conum" data-value="6"></i><b>(6)</b>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Local variable used to control the <code>while</code> loop.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>This loop does not terminate until the user has clicked in the Pygame display.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Standard code to get events in event queue.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Check for the <code>MOUSEBUTTONDOWN</code> event. This will check for either the left or right mouse button and even clicking the scrolling wheel on the mouse.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Setting <code>done</code> to <code>True</code> will cause the <code>while</code>-loop to terminate.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Again, this is to be user friendly and let other programs run and not chew up CPU (or battery).</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Function <code>wait_for_click</code> does actually return (unlike <code>wait_for_quit</code>). It also does not return a value (OK, it returns the special value <code>None</code>).  We should also put <code>wait_for_click</code> in <code>util.py</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_pong"><a class="anchor" href="#_pong"></a>9.2. Pong</h3>
<div class="paragraph">
<p>One of the first successful video games was <a href="https://en.wikipedia.org/wiki/Pong">Pong</a>. By now Pong is considered a classic, almost the <em>hello world</em> of computer games.  Lets add a paddle to our particle simulation and bounce the particle off the paddle. First we will need a graphic for the paddle.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./images/paddle.png" alt="paddle">
</div>
</div>
<div class="paragraph">
<p>Next we need to set up some properties of the paddle and <code>blit</code> it to the display inside of the outer <code>while</code>.  We&#8217;ll offset the paddle a little padding on the left and start it in the middle of the \(y\) axis of the display.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6
7</div></td><td class="code"><span></span><span class="tok-c1"># properties of the paddle</span>
<span class="tok-n">paddle</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">load</span><span class="tok-p">(</span><span class="tok-s2">&quot;paddle.png&quot;</span><span class="tok-p">)</span>
<span class="tok-n">paddle_w</span> <span class="tok-o">=</span> <span class="tok-n">paddle</span><span class="tok-o">.</span><span class="tok-n">get_width</span><span class="tok-p">()</span>
<span class="tok-n">paddle_h</span> <span class="tok-o">=</span> <span class="tok-n">paddle</span><span class="tok-o">.</span><span class="tok-n">get_height</span><span class="tok-p">()</span>
<span class="tok-n">paddle_x</span> <span class="tok-o">=</span> <span class="tok-mi">10</span>
<span class="tok-n">paddle_y</span> <span class="tok-o">=</span> <span class="tok-n">height</span> <span class="tok-o">//</span> <span class="tok-mi">2</span> <span class="tok-o">-</span> <span class="tok-n">paddle_h</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>
<span class="tok-n">paddle_dy</span> <span class="tok-o">=</span> <span class="tok-mi">8</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>and add the following line right after we <code>blit</code> the ball in the outer <code>while</code> loop. (Okay, so we are playing pong with a soccer ball).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">blit</span><span class="tok-p">(</span><span class="tok-n">paddle</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">paddle_x</span><span class="tok-p">,</span> <span class="tok-n">paddle_y</span><span class="tok-p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>We need to figure out how to make the paddle responsive to the up and down arrow on the keyboard. The <code>KEYDOWN</code> event means that some key on the keyboard is being pressed. We can look at some data associated with the event to determine which key it is.  We can
check to see if <code>event.key</code> is <code>K_UP</code> or <code>K_DOWN</code>, the constants for the up and down  arrow keys and add or subtract to <code>paddle_y</code> as appropriate.</p>
</div>
<div class="paragraph">
<p>Our code to process events is a little more complicated.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6
7
8
9</div></td><td class="code"><span></span><span class="tok-k">for</span> <span class="tok-n">event</span> <span class="tok-ow">in</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">event</span><span class="tok-o">.</span><span class="tok-n">get</span><span class="tok-p">():</span>
    <span class="tok-k">if</span> <span class="tok-n">event</span><span class="tok-o">.</span><span class="tok-n">type</span> <span class="tok-o">==</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">QUIT</span><span class="tok-p">:</span>
	    <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">quit</span><span class="tok-p">()</span>
	    <span class="tok-nb">exit</span><span class="tok-p">()</span>
    <span class="tok-k">elif</span> <span class="tok-n">event</span><span class="tok-o">.</span><span class="tok-n">type</span> <span class="tok-o">==</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">KEYDOWN</span><span class="tok-p">:</span>         <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="tok-k">if</span> <span class="tok-n">event</span><span class="tok-o">.</span><span class="tok-n">key</span> <span class="tok-o">==</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">K_UP</span><span class="tok-p">:</span>           <i class="conum" data-value="2"></i><b>(2)</b>
            <span class="tok-n">paddle_y</span> <span class="tok-o">=</span> <span class="tok-n">paddle_y</span> <span class="tok-o">-</span> <span class="tok-n">paddle_dy</span>
        <span class="tok-k">elif</span> <span class="tok-n">event</span><span class="tok-o">.</span><span class="tok-n">key</span> <span class="tok-o">==</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">K_DOWN</span><span class="tok-p">:</span>       <i class="conum" data-value="3"></i><b>(3)</b>
            <span class="tok-n">paddle_y</span> <span class="tok-o">=</span> <span class="tok-n">paddle_y</span> <span class="tok-o">+</span> <span class="tok-n">paddle_dy</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Do we have a key press event?</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>If so, then is it the up-arrow &#8230;&#8203;</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>or the down-arrow key?</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When you add this to the outer <code>while</code> loop you will notice that you need to keep hitting the up or down arrow key just to move the paddle one pixel. That is because when you press the down arrow key you generate only one event. What we would like to have happen is that when we press the key we continue to generate <code>KEYDOWN</code> events at a regular interval as long as it stays pressed. We can do this at the start of the program using the Pygame function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">key</span><span class="tok-o">.</span><span class="tok-n">set_repeat</span><span class="tok-p">(</span><span class="tok-n">initial</span><span class="tok-p">,</span><span class="tok-n">interval</span><span class="tok-p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>What this says is to generate an initial event after <code>initial</code> milliseconds and then at regular intervals of <code>interval</code> milliseconds as the key is pressed.  Reasonable values for
<code>initial</code> and <code>interval</code> are <code>1</code> millisecond.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">key</span><span class="tok-o">.</span><span class="tok-n">set_repeat</span><span class="tok-p">(</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">1</span><span class="tok-p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Moving the paddle one pixel at a time is still slow, so we&#8217;ll set up another variable <code>paddle_dy</code> to move it eight pixels every event.</p>
</div>
<div class="paragraph">
<p>In order to make this a complete Pong game we need some way to lose. In Pong this is by not hitting the ball and having go off the left edge. IN the <code>move</code> function we need to remove the code that bounces the particle off of the left wall. And in the outer <code>while</code> loop we can simply check the \(x\) coordinate of the ball and exit the program much like we did for the <code>QUIT</code> event.</p>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Modify the <code>move</code> function so the particle does not bounce off of the left wall.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>Simply delete the part of the condition where we check if \(x\) is less than 0. The new <code>move</code> function is below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</div></td><td class="code"><span></span><span class="tok-k">def</span> <span class="tok-nf">move</span><span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">,</span> <span class="tok-n">y</span><span class="tok-p">,</span> <span class="tok-n">dx</span><span class="tok-p">,</span> <span class="tok-n">dy</span><span class="tok-p">):</span>

    <span class="tok-n">dt</span> <span class="tok-o">=</span> <span class="tok-n">clock</span><span class="tok-o">.</span><span class="tok-n">tick</span><span class="tok-p">(</span><span class="tok-mi">60</span><span class="tok-p">)</span> <span class="tok-o">/</span> <span class="tok-mf">1000.0</span>   <span class="tok-c1"># time elapsed since last frame</span>

    <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-n">x</span> <span class="tok-o">+</span> <span class="tok-n">dt</span> <span class="tok-o">*</span> <span class="tok-n">ball_dx</span>           <span class="tok-c1"># new x and y coordinates</span>
    <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-n">y</span> <span class="tok-o">+</span> <span class="tok-n">dt</span> <span class="tok-o">*</span> <span class="tok-n">ball_dy</span>

	<span class="tok-c1"># code to bounce off of left wall was deleted here.</span>

    <span class="tok-k">if</span> <span class="tok-n">x</span> <span class="tok-o">+</span> <span class="tok-n">ball_w</span> <span class="tok-o">&gt;=</span> <span class="tok-n">width</span><span class="tok-p">:</span>        <span class="tok-c1"># right wall</span>
        <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-n">width</span> <span class="tok-o">-</span> <span class="tok-n">ball_w</span>
        <span class="tok-n">dx</span> <span class="tok-o">=</span> <span class="tok-o">-</span><span class="tok-n">dx</span>

    <span class="tok-k">if</span> <span class="tok-n">y</span> <span class="tok-o">&lt;</span> <span class="tok-mi">0</span><span class="tok-p">:</span>                      <span class="tok-c1"># top wall</span>
        <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>
        <span class="tok-n">dy</span> <span class="tok-o">=</span> <span class="tok-o">-</span><span class="tok-n">dy</span>
    <span class="tok-k">elif</span> <span class="tok-n">y</span> <span class="tok-o">+</span> <span class="tok-n">ball_h</span> <span class="tok-o">&gt;=</span> <span class="tok-n">height</span><span class="tok-p">:</span>     <span class="tok-c1"># bottom wall</span>
        <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-n">height</span> <span class="tok-o">-</span> <span class="tok-n">ball_h</span>
        <span class="tok-n">dy</span> <span class="tok-o">=</span> <span class="tok-o">-</span><span class="tok-n">dy</span>

    <span class="tok-k">return</span> <span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">,</span><span class="tok-n">dx</span><span class="tok-p">,</span><span class="tok-n">dy</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Modify the outer <code>while</code> loop so that the game ends (rather abruptly) when the ball
goes off the left hand side of the window.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>In the <code>move</code> function to check to see if the player lost we could add the following
code to the outer <code>while</code> loop.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4</div></td><td class="code"><span></span><span class="tok-c1"># check to see if we lost.</span>
<span class="tok-k">if</span> <span class="tok-n">ball_x</span> <span class="tok-o">&lt;</span> <span class="tok-mi">0</span><span class="tok-p">:</span>
	<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">quit</span><span class="tok-p">()</span>
	<span class="tok-nb">exit</span><span class="tok-p">()</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Here is the entire outer while loop including our event code to check for the
<code>QUIT</code> event and the paddle movement.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</div></td><td class="code"><span></span><span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">key</span><span class="tok-o">.</span><span class="tok-n">set_repeat</span><span class="tok-p">(</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">1</span><span class="tok-p">)</span>

<span class="tok-k">while</span> <span class="tok-bp">True</span><span class="tok-p">:</span>
    <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">fill</span><span class="tok-p">(</span><span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">lightgray</span><span class="tok-p">)</span>

    <span class="tok-p">(</span><span class="tok-n">ball_x</span><span class="tok-p">,</span><span class="tok-n">ball_y</span><span class="tok-p">,</span><span class="tok-n">ball_dx</span><span class="tok-p">,</span><span class="tok-n">ball_dy</span><span class="tok-p">)</span> <span class="tok-o">=</span> \
          <span class="tok-n">move</span><span class="tok-p">(</span><span class="tok-n">ball_x</span><span class="tok-p">,</span><span class="tok-n">ball_y</span><span class="tok-p">,</span><span class="tok-n">ball_dx</span><span class="tok-p">,</span><span class="tok-n">ball_dy</span><span class="tok-p">)</span>

    <span class="tok-c1"># check to see if we lost.</span>
    <span class="tok-k">if</span> <span class="tok-n">ball_x</span> <span class="tok-o">&lt;</span> <span class="tok-mi">0</span><span class="tok-p">:</span>
        <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">quit</span><span class="tok-p">()</span>
        <span class="tok-nb">exit</span><span class="tok-p">()</span>

    <span class="tok-c1"># handle events</span>
    <span class="tok-k">for</span> <span class="tok-n">event</span> <span class="tok-ow">in</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">event</span><span class="tok-o">.</span><span class="tok-n">get</span><span class="tok-p">():</span>  <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="tok-k">if</span> <span class="tok-n">event</span><span class="tok-o">.</span><span class="tok-n">type</span> <span class="tok-o">==</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">QUIT</span><span class="tok-p">:</span>
            <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">quit</span><span class="tok-p">()</span>
            <span class="tok-nb">exit</span><span class="tok-p">()</span>
        <span class="tok-k">elif</span> <span class="tok-n">event</span><span class="tok-o">.</span><span class="tok-n">type</span> <span class="tok-o">==</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">KEYDOWN</span><span class="tok-p">:</span>
            <span class="tok-k">if</span> <span class="tok-n">event</span><span class="tok-o">.</span><span class="tok-n">key</span> <span class="tok-o">==</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">K_UP</span><span class="tok-p">:</span>
                <span class="tok-n">paddle_y</span> <span class="tok-o">=</span> <span class="tok-n">paddle_y</span> <span class="tok-o">-</span> <span class="tok-n">paddle_dy</span>
            <span class="tok-k">elif</span> <span class="tok-n">event</span><span class="tok-o">.</span><span class="tok-n">key</span> <span class="tok-o">==</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">K_DOWN</span><span class="tok-p">:</span>
                <span class="tok-n">paddle_y</span> <span class="tok-o">=</span> <span class="tok-n">paddle_y</span> <span class="tok-o">+</span> <span class="tok-n">paddle_dy</span>

    <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">blit</span><span class="tok-p">(</span><span class="tok-n">ball</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">ball_x</span><span class="tok-p">,</span> <span class="tok-n">ball_y</span><span class="tok-p">))</span>
    <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">blit</span><span class="tok-p">(</span><span class="tok-n">paddle</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">paddle_x</span><span class="tok-p">,</span> <span class="tok-n">paddle_y</span><span class="tok-p">))</span>

    <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">update</span><span class="tok-p">()</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>This is the same as the event processing <code>for</code> loop we just covered above.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The outer loop, in our case the <code>while</code> loop (throttled by the frame rate) is often called <em>the game loop</em>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>We also need to bounce the ball off of the paddle. To do this lets make sure we understand the various coordinates and widths and heights.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./images/ball_hitting_paddle.png" alt="ball hitting paddle" width="600">
</div>
</div>
<div class="paragraph">
<p>With the paddle on the left hand side of the display, the ball is always coming in from the right. One common mistake is to check if the \(x\) coordinate of the right side of the paddle (<code>paddle_x + paddle_w</code>) is equal to the left edge of the ball, <code>ball_x</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2</div></td><td class="code"><span></span><span class="tok-k">if</span> <span class="tok-n">paddle_x</span> <span class="tok-o">+</span> <span class="tok-n">paddle_w</span> <span class="tok-o">==</span> <span class="tok-n">ball_x</span><span class="tok-p">:</span>
    <span class="tok-n">dx</span> <span class="tok-o">=</span> <span class="tok-o">-</span><span class="tok-n">dx</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>But remember that the particle travels a certain distance each frame and the left edge of the ball will most likely overlap the right edge of the paddle and rarely be equal. We should check if the left edge of the ball is less than or equal to the right edge of the paddle.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2</div></td><td class="code"><span></span><span class="tok-k">if</span> <span class="tok-n">ball_x</span> <span class="tok-o">&lt;=</span> <span class="tok-n">paddle_x</span> <span class="tok-o">+</span> <span class="tok-n">paddle_w</span><span class="tok-p">:</span>
    <span class="tok-n">dx</span> <span class="tok-o">=</span> <span class="tok-o">-</span><span class="tok-n">dx</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>That&#8217;s closer. But this is true even if the ball goes off the left edge of the display. Now we need to check if the ball is within the \(y\) coordinates of the paddle.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3</div></td><td class="code"><span></span><span class="tok-k">if</span> <span class="tok-n">x</span> <span class="tok-o">&lt;=</span> <span class="tok-n">paddle_x</span> <span class="tok-o">+</span> <span class="tok-n">paddle_w</span> <span class="tok-ow">and</span> \
   <span class="tok-n">paddle_y</span> <span class="tok-o">&lt;=</span> <span class="tok-n">ball_y</span> <span class="tok-o">&lt;=</span> <span class="tok-n">paddle_y</span> <span class="tok-o">+</span> <span class="tok-n">paddle_h</span><span class="tok-p">:</span> <i class="conum" data-value="1"></i><b>(1)</b>
	<span class="tok-n">dx</span> <span class="tok-o">=</span> <span class="tok-o">-</span><span class="tok-n">dx</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Using Python&#8217;s more mathematical notation for inequality \(x \le y \le z\)</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>It probably makes sense for this to go in the <code>move</code> function for the ball to keep the body of the main loop less cluttered.</p>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Modify the <code>move</code> function so that it properly checks to see if the ball bounces off of the paddle.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-k">def</span> <span class="tok-nf">move</span><span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">,</span> <span class="tok-n">y</span><span class="tok-p">,</span> <span class="tok-n">dx</span><span class="tok-p">,</span> <span class="tok-n">dy</span><span class="tok-p">):</span>

    <span class="tok-n">dt</span> <span class="tok-o">=</span> <span class="tok-n">clock</span><span class="tok-o">.</span><span class="tok-n">tick</span><span class="tok-p">(</span><span class="tok-mi">60</span><span class="tok-p">)</span> <span class="tok-o">/</span> <span class="tok-mf">1000.0</span>

    <span class="tok-n">x</span> <span class="tok-o">+=</span> <span class="tok-n">dt</span> <span class="tok-o">*</span> <span class="tok-n">ball_dx</span>
    <span class="tok-n">y</span> <span class="tok-o">+=</span> <span class="tok-n">dt</span> <span class="tok-o">*</span> <span class="tok-n">ball_dy</span>

    <span class="tok-k">if</span> <span class="tok-n">x</span> <span class="tok-o">+</span> <span class="tok-n">ball_w</span> <span class="tok-o">&gt;=</span> <span class="tok-n">width</span><span class="tok-p">:</span>     <span class="tok-c1"># right wall</span>
        <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-n">width</span> <span class="tok-o">-</span> <span class="tok-n">ball_w</span>
        <span class="tok-n">dx</span> <span class="tok-o">=</span> <span class="tok-o">-</span><span class="tok-n">dx</span>

    <span class="tok-k">if</span> <span class="tok-n">y</span> <span class="tok-o">&lt;</span> <span class="tok-mi">0</span><span class="tok-p">:</span>                   <span class="tok-c1">#top wall</span>
        <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>
        <span class="tok-n">dy</span> <span class="tok-o">=</span> <span class="tok-o">-</span><span class="tok-n">dy</span>
    <span class="tok-k">elif</span> <span class="tok-n">y</span> <span class="tok-o">+</span> <span class="tok-n">ball_h</span> <span class="tok-o">&gt;=</span> <span class="tok-n">height</span><span class="tok-p">:</span>  <span class="tok-c1"># bottom wall</span>
        <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-n">height</span> <span class="tok-o">-</span> <span class="tok-n">ball_h</span>
        <span class="tok-n">dy</span> <span class="tok-o">=</span> <span class="tok-o">-</span><span class="tok-n">dy</span>

    <span class="tok-c1"># check if particle hits paddle.          </span><i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-k">if</span> <span class="tok-n">x</span> <span class="tok-o">&lt;=</span> <span class="tok-n">paddle_x</span> <span class="tok-o">+</span> <span class="tok-n">paddle_w</span> <span class="tok-ow">and</span> \         <i class="conum" data-value="2"></i><b>(2)</b>
       <span class="tok-n">paddle_y</span> <span class="tok-o">&lt;=</span> <span class="tok-n">y</span> <span class="tok-o">&lt;=</span> <span class="tok-n">paddle_y</span> <span class="tok-o">+</span> <span class="tok-n">paddle_h</span><span class="tok-p">:</span>
        <span class="tok-n">dx</span> <span class="tok-o">=</span> <span class="tok-o">-</span><span class="tok-n">dx</span>

    <span class="tok-k">return</span> <span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">,</span><span class="tok-n">dx</span><span class="tok-p">,</span><span class="tok-n">dy</span><span class="tok-p">)</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>This <code>if</code>-statement is the only modification to the <code>move</code> function.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>We are using the parameters <code>x</code> and <code>y</code> and not <code>ball_x</code> and <code>ball_y</code>. Why? See the next <em>check yourself</em>.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Add a second ball to the pong game. Lose when both balls have gone off the screen.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>TBD</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-c1"># TBD</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_exercises_8"><a class="anchor" href="#_exercises_8"></a>9.3. Exercises</h3>

</div>
<div class="sect2">
<h3 id="_terminology_9"><a class="anchor" href="#_terminology_9"></a>9.4. Terminology</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 16. Terminology</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>event</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>event queue</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_image_processing"><a class="anchor" href="#_image_processing"></a>10. Image Processing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>One important and common application in computer science is <em>image processing</em>. Computer vision, facial recognition, medical imaging (MRIs, x-rays, CT scans) are all part of image processing. Your smartphone has image processing software; the camera provides a software zoom, and the fingerprint sensor on the device has image processing software for fingerprint matching. Web browsers resize images, and software such as Photoshop is used to do some amazing effects with images.</p>
</div>
<div class="paragraph">
<p>From what we have learned so far in our explorations in programming, images are composed of pixels and a pixel is an RGB triple, three integers between 0 and 255. There is also a fourth integer that represents the <em>alpha transparency</em> of the pixel. An alpha value of 255 is a fully opaque pixel (what we have been using all along) and an alpha value of 0 is a fully transparent pixel.  Alpha transparency is used to overlay pictures on top of each other, what we call <em>compositing</em>. We wont be using alpha transparency much, but we need to know it is there and that RGB color values really contain a fourth integer component. We should more properly call this the <em>RGBA</em> color scheme.</p>
</div>
<div class="paragraph">
<p>If an image is really just a bunch of integer values it means we can modify the pixel values in some way to come up with a new image. For example, what if we were to decrease each RGBA component of every pixel by 30%? Theoretically this should make the image darker.</p>
</div>
<div class="paragraph">
<p>To do this we need a systematic way to go through every pixel in the image so we don&#8217;t miss any. We can go through the image row-by-row or column-by-column. We can proceed either top to bottom, bottom to top, left to right, or right to left. Probably the most common way to process an image is row-by-row and top-to-bottom.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An image is just a rectangular table of pixels, where each pixel is four integers.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_interlude_processing_rectangular_data"><a class="anchor" href="#_interlude_processing_rectangular_data"></a>10.1. Interlude - processing rectangular data</h3>
<div class="paragraph">
<p>Processing a rectangular table of numbers is common in computer science. We have
a systematic way in which we can go through each number using two nested for
loops. For example, lets say we wanted to produce the following <em>9 X 9</em>
multiplication table on the console:</p>
</div>
<div class="literalblock">
<div class="title">Multiplication Table</div>
<div class="content">
<pre>1	2	3	4	5	6	7	8	9
2	4	6	8	10	12	14	16	18
3	6	9	12	15	18	21	24	27
4	8	12	16	20	24	28	32	36
5	10	15	20	25	30	35	40	45
6	12	18	24	30	36	42	48	54
7	14	21	28	35	42	49	56	63
8	16	24	32	40	48	56	64	72
9	18	27	36	45	54	63	72	81</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4</div></td><td class="code"><span></span><span class="tok-k">for</span> <span class="tok-n">i</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">10</span><span class="tok-p">):</span>              <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-k">for</span> <span class="tok-n">j</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">10</span><span class="tok-p">):</span>          <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">i</span> <span class="tok-o">*</span> <span class="tok-n">j</span><span class="tok-p">,</span> <span class="tok-s2">&quot;</span><span class="tok-se">\t</span><span class="tok-s2">&quot;</span><span class="tok-p">,</span> <span class="tok-n">end</span><span class="tok-o">=</span><span class="tok-s2">&quot;&quot;</span><span class="tok-p">)</span> <i class="conum" data-value="3"></i><b>(3)</b>
    <span class="tok-k">print</span><span class="tok-p">()</span>                        <i class="conum" data-value="4"></i><b>(4)</b>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>We call this the <em>outer</em> <code>for</code>-loop. It constructs the rows in the table.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>We call this the <em>inner</em> <code>for</code>-loop. It is responsible for construction a single row.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Recall that the character <code>\t</code> represents the tab character. The third argument <code>end=""</code> is what we call a <em>named parameter</em> in Python. The <code>print</code> function takes an optional argument whose corresponding parameter name is <code>end</code>. The <code>end</code> parameter specifies how we should handle the end of line. In this case we don&#8217;t want the <code>print</code> statement to print the end-of-line character <code>\n</code>, so we suppress it with <code>end=""</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>This starts a new line.</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A <em>matrix</em> is a rectangular table of numbers. The branch of mathematics that deals with matrices is called <em>linear algebra</em>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Rewrite the two nested <code>for</code>-loops above using two nested <code>while</code> loops.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6
7
8</div></td><td class="code"><span></span><span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">1</span>
<span class="tok-k">while</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-mi">10</span><span class="tok-p">:</span>
    <span class="tok-n">j</span> <span class="tok-o">=</span> <span class="tok-mi">1</span>
    <span class="tok-k">while</span> <span class="tok-n">j</span> <span class="tok-o">&lt;</span> <span class="tok-mi">10</span><span class="tok-p">:</span>
        <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">i</span> <span class="tok-o">*</span> <span class="tok-n">j</span><span class="tok-p">,</span> <span class="tok-s2">&quot;</span><span class="tok-se">\t</span><span class="tok-s2">&quot;</span><span class="tok-p">,</span> <span class="tok-n">end</span><span class="tok-o">=</span><span class="tok-s2">&quot;&quot;</span><span class="tok-p">)</span>
        <span class="tok-n">j</span> <span class="tok-o">=</span> <span class="tok-n">j</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>
    <span class="tok-k">print</span><span class="tok-p">()</span>
    <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-n">i</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>
</td></tr></table></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_darken_an_image"><a class="anchor" href="#_darken_an_image"></a>10.2. Darken an Image</h3>
<div class="paragraph">
<p>To darken an image we need to decrease the RGB value of each pixel by a certain amount, say 10%. In pseudocode we need something like &#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code>for each row r in the image
   for each column c in row r
      get the RGBA components of pixel (c,r)
	  reduce each component by 10%
	  reset the pixel at (c,r) with the new RGBA values</code></pre>
</div>
</div>
<div class="paragraph">
<p>A new Pygame function will assist us, <code>surface.get_at( (x,y) )</code> returns the RGBA tuple at column <code>x</code> and row <code>y</code>. For example, if <code>win</code> was our surface, we could get the pixel in the upper left corner of the image with &#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-p">(</span><span class="tok-n">r</span><span class="tok-p">,</span><span class="tok-n">g</span><span class="tok-p">,</span><span class="tok-n">b</span><span class="tok-p">,</span><span class="tok-n">a</span><span class="tok-p">)</span> <span class="tok-o">=</span> <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">get_at</span><span class="tok-p">((</span><span class="tok-mi">0</span><span class="tok-p">,</span><span class="tok-mi">0</span><span class="tok-p">))</span> <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>To be more precise recall that functions like <code>get_at</code> are <em>methods</em> because they are called using an <em>object</em>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The Pygame function <code>surface.set_at( (x,y), RGBA)</code> modifies the pixel at coordinate <code>(x,y)</code> to be the color specified by RGBA (you can leave off the alpha transparency value, and just specify the RGB colors and the transparency will default to opaque). For example, to set the upper left corner pixel black &#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">set_at</span><span class="tok-p">((</span><span class="tok-mi">0</span><span class="tok-p">,</span><span class="tok-mi">0</span><span class="tok-p">),</span> <span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">,</span><span class="tok-mi">0</span><span class="tok-p">,</span><span class="tok-mi">0</span><span class="tok-p">))</span> <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>set_at</code> function does not return a value. Recall that functions that do not return a value really return the special value <code>None</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Here&#8217;s a program that darkens the image below by 30%. We will review it line by line.</p>
</div>
<div id="img-bug" class="imageblock text-left">
<div class="content">
<img src="./images/bug.jpg" alt="bug" width="500">
</div>
<div class="title">Figure 7. <a href="https://500px.com/martinamm">Amm, Martin  <code>https://500px.com/martinamm</code> accessed 7/27/2017</a>, found at  <a href="https://www.reddit.com/r/pics/comments/x503f/absolutely_stunning_picture_of_a_dragonfly_in_all/">reddit link</a></div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</div></td><td class="code"><span></span><span class="tok-kn">import</span> <span class="tok-nn">pygame</span><span class="tok-o">,</span> <span class="tok-nn">util</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">init</span><span class="tok-p">()</span>

<span class="tok-n">image</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">load</span><span class="tok-p">(</span><span class="tok-s2">&quot;bug.jpg&quot;</span><span class="tok-p">)</span>                                    <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-n">win</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">set_mode</span><span class="tok-p">((</span><span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">get_width</span><span class="tok-p">(),</span> <span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">get_height</span><span class="tok-p">()))</span>  <i class="conum" data-value="2"></i><b>(2)</b>
<span class="tok-n">image</span> <span class="tok-o">=</span> <span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">convert_alpha</span><span class="tok-p">()</span>                                           <i class="conum" data-value="3"></i><b>(3)</b>

<span class="tok-k">for</span> <span class="tok-n">y</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">get_height</span><span class="tok-p">()):</span>                                     <i class="conum" data-value="4"></i><b>(4)</b>
    <span class="tok-k">for</span> <span class="tok-n">x</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">get_width</span><span class="tok-p">()):</span>                                  <i class="conum" data-value="5"></i><b>(5)</b>
        <span class="tok-p">(</span><span class="tok-n">r</span><span class="tok-p">,</span><span class="tok-n">g</span><span class="tok-p">,</span><span class="tok-n">b</span><span class="tok-p">,</span><span class="tok-n">a</span><span class="tok-p">)</span> <span class="tok-o">=</span> <span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">get_at</span><span class="tok-p">((</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">))</span>                                 <i class="conum" data-value="6"></i><b>(6)</b>
        <span class="tok-n">r</span> <span class="tok-o">=</span> <span class="tok-n">r</span> <span class="tok-o">*</span> <span class="tok-o">.</span><span class="tok-mi">7</span>                                                      <i class="conum" data-value="7"></i><b>(7)</b>
        <span class="tok-n">g</span> <span class="tok-o">=</span> <span class="tok-n">g</span> <span class="tok-o">*</span> <span class="tok-o">.</span><span class="tok-mi">7</span>
        <span class="tok-n">b</span> <span class="tok-o">=</span> <span class="tok-n">b</span> <span class="tok-o">*</span> <span class="tok-o">.</span><span class="tok-mi">7</span>
        <span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">set_at</span><span class="tok-p">((</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">),</span> <span class="tok-p">(</span><span class="tok-n">r</span><span class="tok-p">,</span><span class="tok-n">g</span><span class="tok-p">,</span><span class="tok-n">b</span><span class="tok-p">))</span>                                    <i class="conum" data-value="8"></i><b>(8)</b>

<span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">blit</span><span class="tok-p">(</span><span class="tok-n">image</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">,</span><span class="tok-mi">0</span><span class="tok-p">))</span>                                                  <i class="conum" data-value="9"></i><b>(9)</b>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">update</span><span class="tok-p">()</span>
<span class="tok-n">util</span><span class="tok-o">.</span><span class="tok-n">wait_for_click</span><span class="tok-p">()</span>                                                   <i class="conum" data-value="10"></i><b>(10)</b>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Load the image <em>before</em> we construct the display so we know how large to make the display.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Construct a display surface that is the same size as the image.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Call the <code>convert_alpha()</code> method <em>after</em> we load the image on line 4 and construct the display on line 5.  This is because the the <code>convert_alpha</code> function is making the format of the image compatible with the format of the display.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>For each row of pixels <code>y</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>For each pixel <code>x</code> ub row <code>y</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Get the pixel value as the four components <code>(r,g,b,a)</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Decreasing a value by 30% is the same as multiplying it by <code>.7</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>We need to put the modified pixel values back in the image.</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td><code>blit</code> the modified image back in to the display.</td>
</tr>
<tr>
<td><i class="conum" data-value="10"></i><b>10</b></td>
<td>Recall that the <code>wait_for_click()</code> function was defined in the section on event handling.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>And here is the result of darkening the image of the bug.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/darker_bug.jpg" alt="darker bug" width="500">
</div>
<div class="title">Figure 8. Darker Bug</div>
</div>
</div>
<div class="sect2">
<h3 id="_converting_an_image_to_grayscale_and_more"><a class="anchor" href="#_converting_an_image_to_grayscale_and_more"></a>10.3. Converting an image to Grayscale (and more)</h3>
<div class="paragraph">
<p>The code for darkening an image gives us a useful template for performing a variety of image processing examples. The pixels in a grayscale image (<em>i.e.,</em> black-and-white) are
always a shade of gray. Recall that in a gray pixel the RGB values are all equal.</p>
</div>
<div class="paragraph">
<p>Lets say in our color image we had a pixel that was a very dark color such as <code>(93,15,13)</code>,
a dark maroon. We would expect the corresponding grayscale pixel to be dark as well, a dark gray. Conversely, we would expect a bright color such as yellow <code>(255,255,0)</code> to be a light gray. One technique is to average the pixels of the color and use the average of the three color components. For example dark maroon would get converted to
\((93 + 15 + 13)/3 = 40.3\), or the dark gray <code>(40,40,40)</code>.  Yellow would get converted
to \((255 + 255 + 0)/3 = 170\), or the light gray <code>(170,170,170)</code>. We can almost reuse the entire program for darkening an image. Just change the inner loop body to &#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3</div></td><td class="code"><span></span><span class="tok-p">(</span><span class="tok-n">r</span><span class="tok-p">,</span><span class="tok-n">g</span><span class="tok-p">,</span><span class="tok-n">b</span><span class="tok-p">,</span><span class="tok-n">a</span><span class="tok-p">)</span> <span class="tok-o">=</span> <span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">get_at</span><span class="tok-p">((</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">))</span>
<span class="tok-n">gray</span> <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-n">r</span><span class="tok-o">+</span><span class="tok-n">g</span><span class="tok-o">+</span><span class="tok-n">b</span><span class="tok-p">)</span><span class="tok-o">//</span><span class="tok-mi">3</span>
<span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">set_at</span><span class="tok-p">((</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">),</span> <span class="tok-p">(</span><span class="tok-n">gray</span><span class="tok-p">,</span><span class="tok-n">gray</span><span class="tok-p">,</span><span class="tok-n">gray</span><span class="tok-p">))</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>The result is &#8230;&#8203;</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/gray_bug.jpg" alt="gray bug" width="500">
</div>
<div class="title">Figure 9. Grayscale Bug</div>
</div>
<div class="paragraph">
<p>What is cool with digital images is that we can do whatever we want to the pixel values.
The term <em>photographic negative</em> comes from the era a film photography and how chemicals were used to develop film where colors are negated, white becomes black, black becomes white. For colors, the photographic negative of a pixel means to subtract each color component from 255.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/gray_weighted_rgb_bug.jpg" alt="gray weighted rgb bug" width="500">
</div>
<div class="title">Figure 10. Grayscale Bug with weighted RGB</div>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Compute and display the <em>photographic negative</em> of the bug.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>Just change the inner loop body to &#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-p">(</span><span class="tok-n">r</span><span class="tok-p">,</span><span class="tok-n">g</span><span class="tok-p">,</span><span class="tok-n">b</span><span class="tok-p">,</span><span class="tok-n">a</span><span class="tok-p">)</span> <span class="tok-o">=</span> <span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">get_at</span><span class="tok-p">((</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">))</span>
<span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">set_at</span><span class="tok-p">((</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">),</span> <span class="tok-p">(</span><span class="tok-mi">255</span> <span class="tok-o">-</span> <span class="tok-n">r</span><span class="tok-p">,</span> <span class="tok-mi">255</span> <span class="tok-o">-</span> <span class="tok-n">g</span><span class="tok-p">,</span> <span class="tok-mi">255</span> <span class="tok-o">-</span> <span class="tok-n">b</span><span class="tok-p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The result is pretty cool looking.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/negative_bug.jpg" alt="negative bug" width="500">
</div>
<div class="title">Figure 11. Negative Insect</div>
</div>
</div>
</div>
<div class="paragraph">
<p>The possibilities are endless. What hapens if we switch the color components around?
For example, for every pixel \((r,g,b)\) change it to \((g,b,r)\)? Sometimes the effects are surprising and beautiful.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-p">(</span><span class="tok-n">r</span><span class="tok-p">,</span><span class="tok-n">g</span><span class="tok-p">,</span><span class="tok-n">b</span><span class="tok-p">,</span><span class="tok-n">a</span><span class="tok-p">)</span> <span class="tok-o">=</span> <span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">get_at</span><span class="tok-p">((</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">))</span>
<span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">set_at</span><span class="tok-p">((</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">),</span> <span class="tok-p">(</span><span class="tok-n">g</span><span class="tok-p">,</span><span class="tok-n">b</span><span class="tok-p">,</span><span class="tok-n">r</span><span class="tok-p">))</span></code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/gbr_bug.jpg" alt="gbr bug" width="500">
</div>
<div class="title">Figure 12. RGB to GBR Insect</div>
</div>
</div>
<div class="sect2">
<h3 id="_scaling_an_image"><a class="anchor" href="#_scaling_an_image"></a>10.4. Scaling an Image</h3>
<div class="paragraph">
<p>A common image processing operation is to resize an image so that it is larger or smaller. Lets think of this operation as a function that takes an image to resize along with the new width and new height of the resulting image.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/scale.png" alt="scale" width="600">
</div>
<div class="title">Figure 13. Scaling an image</div>
</div>
<div class="paragraph">
<p>Until now we have had two ways to create a surface; the first is to use the <code>pygame.display.set_mode</code> function to create the special display surface. The second way was to use the <code>pygame.image.load</code> function to create a surface for an image. But our <code>scale</code> function will need to create an initially blank surface of an arbitrary width and height.</p>
</div>
<div class="paragraph">
<p>The Pygame following line</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">surf</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">Surface</span><span class="tok-p">((</span><span class="tok-n">w</span><span class="tok-p">,</span><span class="tok-n">h</span><span class="tok-p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>creates a new empty surface <code>surf</code> with width <code>w</code> and height <code>h</code> and assigns it to the variable <code>surf</code>.</p>
</div>
<div class="paragraph">
<p>Lets assume we have an image we want to scale and it is in a surface <code>image</code>. Furthermore assume we have an empty surface <code>surf</code> that will be the new scaled image. We have to go through every pixel in <code>surf</code> and find a pixel in <code>image</code> to copy in to <code>surf</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/scale_xy.png" alt="scale xy" width="600">
</div>
<div class="title">Figure 14. Computing coordinates in scaled image</div>
</div>
<div class="paragraph">
<p>Lets say the orginal image was 600 pixels wide and the scaled image is 300 pixels wide. The \(x\) coordinate 10 in the scaled image should correspond to \(x\) coordinate 20 in the original image because the ratio of the widths in the original image to the scaled image is 2-to-1.</p>
</div>
<div class="paragraph">
<p>In general if the width of the original image is \(w\) and the width of the scaled image is \(w'\) then an \(x\) coordinate in the scaled image will correspond to the \(x\) coordinate \(xw/w'\) in the original image. The reasoning is the same for the \(y\) coordinate.</p>
</div>
<div class="paragraph">
<p>Here is the function <code>scale</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</div></td><td class="code"><span></span><span class="tok-k">def</span> <span class="tok-nf">scale</span><span class="tok-p">(</span><span class="tok-n">original</span><span class="tok-p">,</span> <span class="tok-n">scaled_w</span><span class="tok-p">,</span> <span class="tok-n">scaled_h</span><span class="tok-p">):</span>

    <span class="tok-n">scaled</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">Surface</span><span class="tok-p">((</span><span class="tok-n">scaled_w</span><span class="tok-p">,</span> <span class="tok-n">scaled_h</span><span class="tok-p">))</span> <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-n">w_ratio</span> <span class="tok-o">=</span> <span class="tok-n">original</span><span class="tok-o">.</span><span class="tok-n">get_width</span><span class="tok-p">()</span> <span class="tok-o">/</span> <span class="tok-n">scaled_w</span>     <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="tok-n">h_ratio</span> <span class="tok-o">=</span> <span class="tok-n">original</span><span class="tok-o">.</span><span class="tok-n">get_height</span><span class="tok-p">()</span> <span class="tok-o">/</span> <span class="tok-n">scaled_h</span>    <i class="conum" data-value="3"></i><b>(3)</b>

    <span class="tok-k">for</span> <span class="tok-n">row</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-n">scaled_h</span><span class="tok-p">):</span>                   <i class="conum" data-value="4"></i><b>(4)</b>
        <span class="tok-k">for</span> <span class="tok-n">col</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-n">scaled_w</span><span class="tok-p">):</span>
            <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-nb">int</span><span class="tok-p">(</span><span class="tok-n">col</span> <span class="tok-o">*</span> <span class="tok-n">w_ratio</span><span class="tok-p">)</span>                <i class="conum" data-value="5"></i><b>(5)</b>
            <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-nb">int</span><span class="tok-p">(</span><span class="tok-n">row</span> <span class="tok-o">*</span> <span class="tok-n">h_ratio</span><span class="tok-p">)</span>
            <span class="tok-p">(</span><span class="tok-n">r</span><span class="tok-p">,</span><span class="tok-n">g</span><span class="tok-p">,</span><span class="tok-n">b</span><span class="tok-p">,</span><span class="tok-n">_</span><span class="tok-p">)</span> <span class="tok-o">=</span> <span class="tok-n">original</span><span class="tok-o">.</span><span class="tok-n">get_at</span><span class="tok-p">((</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">))</span>    <i class="conum" data-value="6"></i><b>(6)</b>
            <span class="tok-n">scaled</span><span class="tok-o">.</span><span class="tok-n">set_at</span><span class="tok-p">((</span><span class="tok-n">col</span><span class="tok-p">,</span><span class="tok-n">row</span><span class="tok-p">),</span> <span class="tok-p">(</span><span class="tok-n">r</span><span class="tok-p">,</span><span class="tok-n">g</span><span class="tok-p">,</span><span class="tok-n">b</span><span class="tok-p">))</span>     <i class="conum" data-value="7"></i><b>(7)</b>

    <span class="tok-k">return</span> <span class="tok-n">scaled</span>                                 <i class="conum" data-value="8"></i><b>(8)</b>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Create the new empty surface that will contain our scaled image.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Compute the ratio of the original image&#8217;s width to the new scaled image&#8217;s width.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Compute the ratio of the original image&#8217;s height to the new scaled image&#8217;s height.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>For every pixel in the scaled image &#8230;&#8203;</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Compute the \(x\) and \(y\) coordinates of the pixel we need to grab in the original image.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Get the pixel in the original image.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>And copy it to the new scaled image.</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>Don&#8217;t forget this is a function that <em>returns</em> a new image.</td>
</tr>
</table>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
Notice that we use floating-point division on lines 4-5. This is because we might be shrinking an image by a non-integral amount. For example, to shrink an image from <em>200 X 200</em> pixels to <em>150 X 150</em> then <code>w_ratio</code> and <code>h_ratio</code> need to be <code>1.33</code> and not <code>1</code>. When enlarging an image from <em>150 X 150</em> to <em>200 X 200</em> then <code>w_ratio</code> and <code>h_ratio</code> need to be <code>0.75</code> and not <code>0</code>.  On lines 9-10 we need to convert back to integer coordinates.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_shrinking_an_image"><a class="anchor" href="#_shrinking_an_image"></a>10.4.1. Shrinking an image</h4>
<div class="paragraph">
<p>If we are shrinking an image then we only pick out a subset of the pixels in the original image. For example, if the original image was <em>400 X 400</em> and we are shrinking it to <em>200 X 200</em>. The scaling ratios <code>w_ratio</code> and <code>h_ratio</code> are both <code>2</code>.  Pixel <em>(0,0)</em> in the scaled image maps to pixel <em>(0,0)</em> in the original image. But pixel <em>(1,0)</em> in the scaled image maps to pixel <em>(2,0)</em> in the original image. We skipped over pixel <em>(1,0)</em>.</p>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Use the <code>scale</code> function to shrink an image 1/3 of its original height and width. Display the original image and center the smaller image in the original.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</div></td><td class="code"><span></span><span class="tok-kn">import</span> <span class="tok-nn">pygame</span><span class="tok-o">,</span> <span class="tok-nn">util</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">init</span><span class="tok-p">()</span>

<span class="tok-n">image</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">load</span><span class="tok-p">(</span><span class="tok-s2">&quot;bug.jpg&quot;</span><span class="tok-p">)</span>

<span class="tok-n">win</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">set_mode</span><span class="tok-p">((</span><span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">get_width</span><span class="tok-p">(),</span>
                               <span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">get_height</span><span class="tok-p">()))</span>         <i class="conum" data-value="1"></i><b>(1)</b>

<span class="tok-n">image</span> <span class="tok-o">=</span> <span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">convert_alpha</span><span class="tok-p">()</span>                               <i class="conum" data-value="2"></i><b>(2)</b>

<span class="tok-n">scaled_image</span> <span class="tok-o">=</span> <span class="tok-n">scale</span><span class="tok-p">(</span><span class="tok-n">image</span><span class="tok-p">,</span> <span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">get_width</span><span class="tok-p">()</span><span class="tok-o">//</span><span class="tok-mi">3</span><span class="tok-p">,</span>
                     <span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">get_height</span><span class="tok-p">()</span><span class="tok-o">//</span><span class="tok-mi">3</span><span class="tok-p">)</span>                 <i class="conum" data-value="3"></i><b>(3)</b>


<span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">blit</span><span class="tok-p">(</span><span class="tok-n">image</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">,</span><span class="tok-mi">0</span><span class="tok-p">))</span>                                      <i class="conum" data-value="4"></i><b>(4)</b>

<span class="tok-n">tmp_x</span> <span class="tok-o">=</span> <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">get_width</span><span class="tok-p">()</span><span class="tok-o">//</span><span class="tok-mi">2</span> <span class="tok-o">-</span> <span class="tok-n">scaled_image</span><span class="tok-o">.</span><span class="tok-n">get_width</span><span class="tok-p">()</span><span class="tok-o">//</span><span class="tok-mi">2</span>    <i class="conum" data-value="5"></i><b>(5)</b>
<span class="tok-n">tmp_y</span> <span class="tok-o">=</span> <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">get_height</span><span class="tok-p">()</span><span class="tok-o">//</span><span class="tok-mi">2</span> <span class="tok-o">-</span> <span class="tok-n">scaled_image</span><span class="tok-o">.</span><span class="tok-n">get_height</span><span class="tok-p">()</span><span class="tok-o">//</span><span class="tok-mi">2</span>
<span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">blit</span><span class="tok-p">(</span><span class="tok-n">scaled_image</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">tmp_x</span><span class="tok-p">,</span> <span class="tok-n">tmp_y</span><span class="tok-p">))</span>                      <i class="conum" data-value="6"></i><b>(6)</b>

<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">update</span><span class="tok-p">()</span>
<span class="tok-n">util</span><span class="tok-o">.</span><span class="tok-n">wait_for_click</span><span class="tok-p">()</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Create a display the size of the original image.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Always a good idea, but not always necessary.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Scale the original image.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Blit the original image on to the display.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Calculate the coordinates where <code>scaled_image</code> will be blitted.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Blit the scaled image.</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/bug_in_a_bug.png" alt="bug in a bug" width="500">
</div>
<div class="title">Figure 15. Bug centered in a bug</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Notice how we scaled the width and height of the image by the same proportion. That is, we kept the <em>aspect ratio</em> of the image the same.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <em>aspect ratio</em> of an image is the ratio of an image&#8217;s width divided by its height.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>We didn&#8217;t have to keep the aspect ratio the same. The <code>scale</code> function will elongate, or stretch, an image along its horizontal or vertical axis.</p>
</div>
</div>
<div class="sect3">
<h4 id="_enlarging_an_image"><a class="anchor" href="#_enlarging_an_image"></a>10.4.2. Enlarging an image</h4>
<div class="paragraph">
<p>Does our scale function work if we are trying to enlarge an image? Lets reverse the scenario and enlarge a <em>200 X 200</em> image to <em>400 X 400</em>. In this case the scaling ratios <code>w_ratio</code> and <code>h_ratio</code> are both <code>0.5</code>.  Pixel <em>(0,0)</em> in the scaled image still maps to pixel <em>(0,0)</em> in the original image. However, pixel <em>(1,0)</em> in the scaled image also maps to pixel <em>(0,0)</em> in the original image. In this case we end up duplicating pixels from the original image in the scaled image.</p>
</div>
<div class="paragraph">
<p>Here is a small image of a rainbow toad that we will enlarge.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/rainbow_toad_small.jpg" alt="rainbow toad small">
</div>
<div class="title">Figure 16. Rainbow Toad <sup class="footnote">[<a id="_footnoteref_23" class="footnote" href="#_footnotedef_23" title="View footnote.">23</a>]</sup></div>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Enlarge the image of the rainbow toad to 3 times its width and height.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</div></td><td class="code"><span></span><span class="tok-kn">import</span> <span class="tok-nn">pygame</span><span class="tok-o">,</span> <span class="tok-nn">util</span><span class="tok-o">,</span><span class="tok-nn">color</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">init</span><span class="tok-p">()</span>

<span class="tok-n">image</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">load</span><span class="tok-p">(</span><span class="tok-s2">&quot;rainbow_toad_small.jpg&quot;</span><span class="tok-p">)</span>      <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-n">win</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">set_mode</span><span class="tok-p">((</span><span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">get_width</span><span class="tok-p">()</span> <span class="tok-o">*</span> <span class="tok-mi">3</span><span class="tok-p">,</span>
                               <span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">get_height</span><span class="tok-p">()</span> <span class="tok-o">*</span> <span class="tok-mi">3</span><span class="tok-p">))</span>  <i class="conum" data-value="2"></i><b>(2)</b>
<span class="tok-n">image</span> <span class="tok-o">=</span> <span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">convert_alpha</span><span class="tok-p">()</span>                            <i class="conum" data-value="3"></i><b>(3)</b>

<span class="tok-n">scaled_image</span> <span class="tok-o">=</span> <span class="tok-n">scale</span><span class="tok-p">(</span><span class="tok-n">image</span><span class="tok-p">,</span> <span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">get_width</span><span class="tok-p">()</span> <span class="tok-o">*</span> <span class="tok-mi">3</span><span class="tok-p">,</span>       <i class="conum" data-value="4"></i><b>(4)</b>
                     <span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">get_height</span><span class="tok-p">()</span> <span class="tok-o">*</span> <span class="tok-mi">3</span><span class="tok-p">)</span>

<span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">blit</span><span class="tok-p">(</span><span class="tok-n">scaled_image</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">,</span><span class="tok-mi">0</span><span class="tok-p">))</span>

<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">update</span><span class="tok-p">()</span>
<span class="tok-n">util</span><span class="tok-o">.</span><span class="tok-n">wait_for_click</span><span class="tok-p">()</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Or whatever you named your image.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Create a display 3 times the size of the original image.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Always a good idea, but not always necessary.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Scale the image.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Here is the enlarged image of the rainbow toad.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/rainbow_toad_enlarged.png" alt="rainbow toad enlarged">
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Notice how you can "see" the pixels. That is because every pixel in the original became nine pixels in the enlarged image. That is, we magnified the pixels. This is why an image often becomes blurry when enlarged past the point of its resolution.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For a digital image the <em>pixel resolution</em> (or just <em>resolution</em>) is usually specified by the number of pixels wide and the number of pixels high. There also needs to be some indication of a physical dimension, often the dimensions of the display, or the number of pixels that will fit in a linear inch.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Example</div>
<p>The specification for the display on the Samsung Galazy S7 Edge smartphone is <em>1440 X 2560</em> pixels at 534 pixels per linear inch (ppi). That means the width of the display should be \(1440/534 \approx 2.7 \) inches. The rear camera on the smartphone is 12MP (<em>i.e.</em> 12 megapixels, 12 million pixels) with an image dimension of <em>4032 px X 3024 px</em>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
We say that an image is <em>pixelated</em> when an image is enlarged and we can see the individual pixels in the original image.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_smoothing_an_image"><a class="anchor" href="#_smoothing_an_image"></a>10.5. Smoothing an Image</h3>
<div class="paragraph">
<p>Image processing is a complex and sophisticated field requiring deep knowledge of mathematics.  There are, however, some relatively straightforward operations that we can use to try and clean up an image, such as trying to smooth the hard edges in the pixelated rainbow toad.</p>
</div>
<div class="paragraph">
<p>One technique is called a <em>mean filter</em>. We replace the value of a pixel with the average (or mean) of the color components of the pixel with its eight neighbors. For example,
consider the pixel highlighted in red below. We create new pixel in a new image whose red component is the average of all the red components of the pixel and its neighbors.
Likewise for the green and blue components.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/mean_filter.png" alt="mean filter" width="500">
</div>
<div class="title">Figure 17. Mean of the Neighborhood</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <em>neighborhood</em> of a pixel is comprised of the eight pixels that surround it.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This is probably best handled by writing a function that takes a surface and an \((x,y)\) coordinate and returns an RGB triple that is the average color of \((x,y)\) and all of its neighbors. Using our box and arrow notation we have &#8230;&#8203;</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/neighborhood_mean.png" alt="neighborhood mean" width="500">
</div>
<div class="title">Figure 18. Function <code>neighborhood_mean</code> of a pixel</div>
</div>
<div class="paragraph">
<p>The function header should be &#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2</div></td><td class="code"><span></span><span class="tok-k">def</span> <span class="tok-nf">neighborhood_mean</span><span class="tok-p">(</span><span class="tok-n">surf</span><span class="tok-p">,</span> <span class="tok-n">x</span><span class="tok-p">,</span> <span class="tok-n">y</span><span class="tok-p">):</span>
    <span class="tok-k">pass</span> <i class="conum" data-value="1"></i><b>(1)</b>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Recall that we use the <code>pass</code> statement as a placeholder for the function body.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>We could, write nine separate <code>get_at</code> calls to get the color of each pixel, this is a bit tedious and not very general. Notice how the nine pixels form a <em>3 X 3</em> grid. If \((x,y)\) represents the center pixel in the grid, then the row above is \(y-1\) and the row below is \(y+1\). The column to the left is \(x-1\) and the column to the right is \(x+1\). We can use our nested <code>for</code>-loop pattern to go through the <em>3 X 3</em> grid.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</div></td><td class="code"><span></span><span class="tok-k">def</span> <span class="tok-nf">neighborhood_mean</span><span class="tok-p">(</span><span class="tok-n">surf</span><span class="tok-p">,</span> <span class="tok-n">x</span><span class="tok-p">,</span> <span class="tok-n">y</span><span class="tok-p">):</span>

    <span class="tok-n">red_sum</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>                                   <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-n">green_sum</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>
    <span class="tok-n">blue_sum</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>

    <span class="tok-k">for</span> <span class="tok-n">ny</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-n">y</span><span class="tok-o">-</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-o">+</span><span class="tok-mi">2</span><span class="tok-p">):</span>                     <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="tok-k">for</span> <span class="tok-n">nx</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-o">-</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-n">x</span><span class="tok-o">+</span><span class="tok-mi">2</span><span class="tok-p">):</span>                 <i class="conum" data-value="3"></i><b>(3)</b>
            <span class="tok-p">(</span><span class="tok-n">r</span><span class="tok-p">,</span><span class="tok-n">g</span><span class="tok-p">,</span><span class="tok-n">b</span><span class="tok-p">,</span><span class="tok-n">_</span><span class="tok-p">)</span> <span class="tok-o">=</span> <span class="tok-n">surf</span><span class="tok-o">.</span><span class="tok-n">get_at</span><span class="tok-p">((</span><span class="tok-n">nx</span><span class="tok-p">,</span><span class="tok-n">ny</span><span class="tok-p">))</span>      <i class="conum" data-value="4"></i><b>(4)</b>
            <span class="tok-n">red_sum</span> <span class="tok-o">+=</span> <span class="tok-n">r</span>                          <i class="conum" data-value="5"></i><b>(5)</b>
            <span class="tok-n">green_sum</span> <span class="tok-o">+=</span> <span class="tok-n">g</span>
            <span class="tok-n">blue_sum</span> <span class="tok-o">+=</span> <span class="tok-n">b</span>

    <span class="tok-n">red_avg</span> <span class="tok-o">=</span> <span class="tok-nb">int</span><span class="tok-p">(</span><span class="tok-nb">round</span><span class="tok-p">(</span><span class="tok-n">red_sum</span><span class="tok-o">/</span><span class="tok-mi">9</span><span class="tok-p">))</span>               <i class="conum" data-value="6"></i><b>(6)</b>
    <span class="tok-n">green_avg</span> <span class="tok-o">=</span> <span class="tok-nb">int</span><span class="tok-p">(</span><span class="tok-nb">round</span><span class="tok-p">(</span><span class="tok-n">green_sum</span><span class="tok-o">/</span><span class="tok-mi">9</span><span class="tok-p">))</span>
    <span class="tok-n">blue_avg</span> <span class="tok-o">=</span> <span class="tok-nb">int</span><span class="tok-p">(</span><span class="tok-nb">round</span><span class="tok-p">(</span><span class="tok-n">blue_sum</span><span class="tok-o">/</span><span class="tok-mi">9</span><span class="tok-p">))</span>

    <span class="tok-k">return</span> <span class="tok-p">(</span><span class="tok-n">red_avg</span><span class="tok-p">,</span> <span class="tok-n">green_avg</span><span class="tok-p">,</span> <span class="tok-n">blue_avg</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Local variables to keep the sum of each color component.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>For each row in the <em>3 X 3</em> grid. Why <code>y+2</code> and not <code>y+1</code>?</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>For each column in the <em>3 X 3</em> grid. Why <code>x+2</code> and not <code>x+1</code>?</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Get the neighborhood pixel color components.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>The notation <code>var1 += var2</code> is shorthand for <code>var1 = var1 + var2</code>. So <code>red_sum += r</code> means <code>red_sum = red_sum + r</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>A color component must be an integer and averages are not integers; so round and convert to the closest integer.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Now all that is left is to call <code>neighborhood_mean</code> for every pixel in the image, and write each pixel to an initially empty surface.  We might best think of this as a function <code>mean_filter</code> that takes a surface and returns a new surface.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/mean_filter_func.png" alt="mean filter func" width="500">
</div>
<div class="title">Figure 19. Mean filter function</div>
</div>
<div class="paragraph">
<p>There is one issue to contend with? What do we do about the pixels along the border? For instance, the pixels along the left edge don&#8217;t have any neighbors on the left and if the <code>neighborhood_mean</code> functions tries to access a negative <em>x</em> coordinate the program will crash.</p>
</div>
<div class="paragraph">
<p>There are several ways we could handle this. We could modify <code>neighborhood_mean</code> to not access pixels outside of the boundary of the image, and only compute the mean of the neighbors the pixel does have. Pixels along the left edge (except the corners) would only have five neighbors. Corner pixels only have three neighbors, etc. We would have to keep a count of the number of actual neighbors because we can&#8217;t always divide by nine.</p>
</div>
<div class="paragraph">
<p>An easier way is to skip over the border pixels and skip the first and last row and column.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6
7
8
9</div></td><td class="code"><span></span><span class="tok-k">def</span> <span class="tok-nf">mean_filter</span><span class="tok-p">(</span><span class="tok-n">orig</span><span class="tok-p">):</span>
    <span class="tok-n">surf</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">Surface</span><span class="tok-p">((</span><span class="tok-n">orig</span><span class="tok-o">.</span><span class="tok-n">get_width</span><span class="tok-p">(),</span>        <i class="conum" data-value="1"></i><b>(1)</b>
	                       <span class="tok-n">orig</span><span class="tok-o">.</span><span class="tok-n">get_height</span><span class="tok-p">()))</span>

    <span class="tok-k">for</span> <span class="tok-n">y</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-n">orig</span><span class="tok-o">.</span><span class="tok-n">get_height</span><span class="tok-p">()</span><span class="tok-o">-</span><span class="tok-mi">1</span><span class="tok-p">):</span>          <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="tok-k">for</span> <span class="tok-n">x</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-mi">1</span><span class="tok-p">,</span> <span class="tok-n">orig</span><span class="tok-o">.</span><span class="tok-n">get_width</span><span class="tok-p">()</span><span class="tok-o">-</span><span class="tok-mi">1</span><span class="tok-p">):</span>      <i class="conum" data-value="3"></i><b>(3)</b>
            <span class="tok-p">(</span><span class="tok-n">r</span><span class="tok-p">,</span><span class="tok-n">g</span><span class="tok-p">,</span><span class="tok-n">b</span><span class="tok-p">)</span> <span class="tok-o">=</span> <span class="tok-n">neighborhood_mean</span><span class="tok-p">(</span><span class="tok-n">orig</span><span class="tok-p">,</span> <span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">)</span>  <i class="conum" data-value="4"></i><b>(4)</b>
            <span class="tok-n">surf</span><span class="tok-o">.</span><span class="tok-n">set_at</span><span class="tok-p">((</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">),</span> <span class="tok-p">(</span><span class="tok-n">r</span><span class="tok-p">,</span><span class="tok-n">g</span><span class="tok-p">,</span><span class="tok-n">b</span><span class="tok-p">))</span>             <i class="conum" data-value="5"></i><b>(5)</b>
    <span class="tok-k">return</span> <span class="tok-n">surf</span>                                     <i class="conum" data-value="6"></i><b>(6)</b>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Create the new surface for the filtered image</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Check the loop bounds. We are skipping the first and last row of pixels. Why?</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Skipping the first column and last column of pixels. Why?</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Call the <code>nighborhood_mean</code> function from above.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Write the new pixel to the new surface.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Don&#8217;t forget to return the new surface.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Here is the original enlarged, pixelated, image.</p>
</div>
<div class="paragraph">
<div class="title">Pixelated Rainbow Toad</div>
<p><span class="image"><img src="./images/rainbow_toad_enlarged.png" alt="rainbow toad enlarged"></span></p>
</div>
<div class="paragraph">
<p>And here is the filtered version.</p>
</div>
<div class="paragraph">
<div class="title">Rainbow Toad after mean filtering</div>
<p><span class="image"><img src="./images/filtered_toad.png" alt="filtered toad"></span></p>
</div>
<div class="paragraph">
<p>The beautiful thing about writing this as a fuction is that if we wanted to filter the image twice we can just use <em>function composition</em> and call <code>mean filter</code> two or three times.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">filtered_image</span> <span class="tok-o">=</span> <span class="tok-n">mean_filter</span><span class="tok-p">(</span>
                     <span class="tok-n">mean_filter</span><span class="tok-p">(</span>
					     <span class="tok-n">mean_filter</span><span class="tok-p">(</span><span class="tok-n">image</span><span class="tok-p">)))</span></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Complete the main program that calls <code>mean_filter</code> on an image.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-kn">import</span> <span class="tok-nn">pygame</span><span class="tok-o">,</span> <span class="tok-nn">util</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">init</span><span class="tok-p">()</span>

<span class="tok-n">image</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">load</span><span class="tok-p">(</span><span class="tok-s2">&quot;rainbow_toad_enlarged.png&quot;</span><span class="tok-p">)</span>

<span class="tok-n">win</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">set_mode</span><span class="tok-p">((</span><span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">get_width</span><span class="tok-p">(),</span> <span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">get_height</span><span class="tok-p">()))</span>
<span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">blit</span><span class="tok-p">(</span><span class="tok-n">image</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">,</span><span class="tok-mi">0</span><span class="tok-p">))</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">update</span><span class="tok-p">()</span>

<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;Click to continue&quot;</span><span class="tok-p">)</span>
<span class="tok-n">util</span><span class="tok-o">.</span><span class="tok-n">wait_for_click</span><span class="tok-p">()</span>

<span class="tok-n">surf</span> <span class="tok-o">=</span> <span class="tok-n">mean_filter</span><span class="tok-p">(</span><span class="tok-n">image</span><span class="tok-p">)</span>

<span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">blit</span><span class="tok-p">(</span><span class="tok-n">surf</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">,</span><span class="tok-mi">0</span><span class="tok-p">))</span>

<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">update</span><span class="tok-p">()</span>

<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;Click to continue&quot;</span><span class="tok-p">)</span>
<span class="tok-n">util</span><span class="tok-o">.</span><span class="tok-n">wait_for_click</span><span class="tok-p">()</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_image_file_formats"><a class="anchor" href="#_image_file_formats"></a>10.6. Image file formats</h3>
<div class="paragraph">
<p>Computer and software manufactures have defined various techniques for storing images in files. These techniques usually allow the image to be <em>compressed</em> so that it uses less storage.</p>
</div>
<div class="paragraph">
<div class="title">Lossy Compression</div>
<p>We have already seen one way we can compress an image - just make it smaller. Our <code>scale</code> function does this. It is not a terribly great way to compress an image but lots of software does this. For example, when you take a picture with your phone and then text it to someone, the texting software will usually shrink the image to reduce data consumption on your cellular plan. This kind of compression just throws some of the pixels away, it <em>loses information</em>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
With <em>lossy compression</em> data is either discarded or modified and cannot be reconstructed from the compressed data.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Lossy compression is often acceptable. For example, the JPEG image format uses lossy compression (albeit in a far more sophisticated way than just leaving pixels out), and as long as the image still looks good we tend not to care. Audio file formats such as mp3 also use lossy compression.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
JPEG (<em>Joint Photographic Experts Group</em> <sup class="footnote">[<a id="_footnoteref_24" class="footnote" href="#_footnotedef_24" title="View footnote.">24</a>]</sup>) uses advanced mathematics to achieve good, but lossy, compression.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Lossless Compression</div>
<p>Sometimes lossy compression is not acceptable. For example, what if we wanted to compress a large word processing document. We couldn&#8217;t have the compression technique modify or throw away characters.  Compression techniques that do not lose information are called <em>non-lossy</em> or <em>lossless</em>.</p>
</div>
<div class="paragraph">
<p>The <em>Portable Network Graphics</em> image format (PNG) uses lossless compression. The lossless compression techniques are too advanced to discuss here, but we can give an example of a simple technique. What if an image contained a sequence pixels that were all the same color. For example, a white background might have a 100 white pixels (or 300 hundred integers that were all 255). Rather than just repeat the value 255, three hundred times, we could somehow record this in the file as \(255(300)\). This lossless scheme is called <em>run length encoding</em>, because it encodes long runs of the same number as two integers, the number to be repeated and then number of times it needs to be repeated.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
PNG  <sup class="footnote">[<a id="_footnoteref_25" class="footnote" href="#_footnotedef_25" title="View footnote.">25</a>]</sup> One of the techniques used in PNG&#8217;s lossless compression is called <em>Huffman Encoding</em>, a common technique discussed in a <em>Data Structures</em> text.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>PNG and JPEG are probably the two most important image file formats, but there are other popular formates including GIF (<em>Graphics Interchange Format</em>), and BMP (<em>Bitmap file format</em>).</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
The moral of the story is that image file formats that use lossy compression (<em>i.e.</em>, JPEG) will change the values of the colors in your file. For example, if you set a pixel to the color value <code>(23,99,140)</code> if might get changed when the file is saved as a JPEG to some other "nearby" value such as <code>(24,98,141)</code>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_secrets"><a class="anchor" href="#_secrets"></a>10.7. Secrets</h3>
<div class="paragraph">
<p>As an exercise lets go through every pixel in the image of the red panda below, and if the red component of the pixel is odd, then color the pixel black. If it is even then color the pixel white.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/png/red_panda_secret.png" alt="red panda secret" width="450">
</div>
<div class="title">Figure 20. Red Panda (Ailurus Fulgens) <code>https://commons.wikimedia.org/wiki/File:Panda_minore_(Ailurus_fulgens).JPG</code></div>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
When you right click on the image and save it, note that it is a PNG file. Make sure to save it as a PNG file.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In previous examples we have loaded the image on a surface, processed the surface, and then blitted the image surface on the display surface. In this particular case let me suggest that we immediately blit the image to the display, and process the display surface. This will add a bit of dramatic effect.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</div></td><td class="code"><span></span><span class="tok-kn">import</span> <span class="tok-nn">pygame</span><span class="tok-o">,</span> <span class="tok-nn">util</span><span class="tok-o">,</span> <span class="tok-nn">color</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">init</span><span class="tok-p">()</span>
<span class="tok-n">image</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">load</span><span class="tok-p">(</span><span class="tok-s2">&quot;red_panda.png&quot;</span><span class="tok-p">)</span>

<span class="tok-n">win</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">set_mode</span><span class="tok-p">((</span><span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">get_width</span><span class="tok-p">(),</span>
                               <span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">get_height</span><span class="tok-p">()))</span>
<span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">blit</span><span class="tok-p">(</span><span class="tok-n">image</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">,</span><span class="tok-mi">0</span><span class="tok-p">))</span>                                      <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">update</span><span class="tok-p">()</span>

<span class="tok-k">for</span> <span class="tok-n">y</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">get_height</span><span class="tok-p">()):</span>
    <span class="tok-k">for</span> <span class="tok-n">x</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">get_width</span><span class="tok-p">()):</span>
        <span class="tok-p">(</span><span class="tok-n">r</span><span class="tok-p">,</span><span class="tok-n">g</span><span class="tok-p">,</span><span class="tok-n">b</span><span class="tok-p">,</span><span class="tok-n">_</span><span class="tok-p">)</span> <span class="tok-o">=</span> <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">get_at</span><span class="tok-p">((</span><span class="tok-n">x</span><span class="tok-p">,</span> <span class="tok-n">y</span><span class="tok-p">))</span>
        <span class="tok-k">if</span> <span class="tok-n">r</span> <span class="tok-o">%</span> <span class="tok-mi">2</span> <span class="tok-o">==</span> <span class="tok-mi">1</span><span class="tok-p">:</span>                                      <i class="conum" data-value="2"></i><b>(2)</b>
            <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">set_at</span><span class="tok-p">((</span><span class="tok-n">x</span><span class="tok-p">,</span> <span class="tok-n">y</span><span class="tok-p">),</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">black</span><span class="tok-p">)</span>                 <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="tok-k">else</span><span class="tok-p">:</span>
            <span class="tok-n">win</span><span class="tok-o">.</span><span class="tok-n">set_at</span><span class="tok-p">((</span><span class="tok-n">x</span><span class="tok-p">,</span> <span class="tok-n">y</span><span class="tok-p">),</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">white</span><span class="tok-p">)</span>
    <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">update</span><span class="tok-p">()</span>                                 <i class="conum" data-value="4"></i><b>(4)</b>
	<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">time</span><span class="tok-o">.</span><span class="tok-n">delay</span><span class="tok-p">(</span><span class="tok-mi">5</span><span class="tok-p">)</span>                                    <i class="conum" data-value="5"></i><b>(5)</b>

<span class="tok-n">util</span><span class="tok-o">.</span><span class="tok-n">wait_for_click</span><span class="tok-p">()</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Show the image of the red panda.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>If the red component is odd make the pixel black, otherwise white.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Because we want to animate this process we are modifying the display surface and not the image surface. This required, of course, that the image was already blitted to the display.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Inserting the display update here will update the display after every row is modified. This is necessary for animation. What would happen if we indented this line one level to be inside the inner <code>for</code>-loop?</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>This delay is for dramatic effect only.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>After running this code on the image of the red panda you&#8217;ll see a secret hidden message.</p>
</div>
<div class="paragraph">
<div class="title">The secret message <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>&nbsp;</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="imageblock">
<div class="content">
<img src="./images/png/secret.png" alt="secret" width="450">
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_hiding_a_message_in_an_image"><a class="anchor" href="#_hiding_a_message_in_an_image"></a>10.7.1. Hiding a message in an image</h4>
<div class="paragraph">
<p>This seems a bit creepy, but notice that the message is black-and-white. From our program above we see that the message is hidden in the <em>odd red pixels</em>. Lets figure out how we could hide a message in an image. The first thing we need to do is "make room" for the secret message. What if we were to preprocess an image and change the red component of each pixel so that it was even. For instance, if the red component of a pixel was 201, we change it to 200. That will not have a noticeable visible effect on the image, even if we ended up changing every pixel.</p>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Why is it important that we subtract one and not add one to make a pixel even?</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>The red component could be 255, adding one would make it 256, which would cause a run-time error indicating that a color value was out of range.</p>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Write a function that takes a surface and sets all of the red pixels to even values that are at most one less than their original value.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6
7</div></td><td class="code"><span></span><span class="tok-k">def</span> <span class="tok-nf">make_red_even</span><span class="tok-p">(</span><span class="tok-n">image</span><span class="tok-p">):</span>
    <span class="tok-k">for</span> <span class="tok-n">y</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">get_height</span><span class="tok-p">()):</span>               <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="tok-k">for</span> <span class="tok-n">x</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">get_width</span><span class="tok-p">()):</span>
            <span class="tok-p">(</span><span class="tok-n">r</span><span class="tok-p">,</span> <span class="tok-n">g</span><span class="tok-p">,</span> <span class="tok-n">b</span><span class="tok-p">,</span> <span class="tok-n">_</span><span class="tok-p">)</span> <span class="tok-o">=</span> <span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">get_at</span><span class="tok-p">((</span><span class="tok-n">x</span><span class="tok-p">,</span> <span class="tok-n">y</span><span class="tok-p">))</span>
            <span class="tok-k">if</span> <span class="tok-n">r</span> <span class="tok-o">%</span> <span class="tok-mi">2</span> <span class="tok-o">==</span> <span class="tok-mi">1</span><span class="tok-p">:</span>                            <i class="conum" data-value="2"></i><b>(2)</b>
                <span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">set_at</span><span class="tok-p">((</span><span class="tok-n">x</span><span class="tok-p">,</span> <span class="tok-n">y</span><span class="tok-p">),</span> <span class="tok-p">(</span><span class="tok-n">r</span> <span class="tok-o">-</span> <span class="tok-mi">1</span><span class="tok-p">,</span> <span class="tok-n">g</span><span class="tok-p">,</span> <span class="tok-n">b</span><span class="tok-p">))</span>   <i class="conum" data-value="3"></i><b>(3)</b>
    <span class="tok-k">return</span> <span class="tok-n">image</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>We should be getting comfortable with this nested <code>for</code>-loop pattern for accessing each pixel on a surface.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>This checks to see if the red component is odd.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>If it is odd, then decrease the red value by one and set it.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Notice that <code>make_red_even</code> does not create a new empty surface but modifies the original surface passed in. Recall that objects passed in as a parameter (such as the surface <code>image</code>) are really a <em>reference</em> to the object.  We could, if we wanted, have created a new, initially empty surface, with new RGB values, leaving the original image unmodified. When we should create a new surface object or  modify an existing one is subtle, and there are no hard and fast rules. In this particular case I wanted to show that you can modify an object through its reference parameter.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Now we have an image where all of the red values are even. What if we were to create another image of exactly the same dimensions that is pure black-and-white (no intermediate gray values) that contains a secret message.  There are many ways to create a black-and-white image with text in it. You can use an image editing program such as Photoshop, Gimp, or Microsoft Paint. But probably the easiest way to do it is programmatically, directly in Pygame.</p>
</div>
<div class="paragraph">
<p>The following two lines create a surface with the text <code>Attack At Dawn</code> rendered on it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">my_font</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">font</span><span class="tok-o">.</span><span class="tok-n">SysFont</span><span class="tok-p">(</span><span class="tok-s2">&quot;Veranda&quot;</span><span class="tok-p">,</span> <span class="tok-mi">48</span><span class="tok-p">)</span>                  <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-n">secret</span> <span class="tok-o">=</span> <span class="tok-n">my_font</span><span class="tok-o">.</span><span class="tok-n">render</span><span class="tok-p">(</span><span class="tok-s2">&quot;Attack At Dawn&quot;</span><span class="tok-p">,</span> <span class="tok-bp">False</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">black</span><span class="tok-p">)</span> <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Create a <em>font object</em>, with 48pt text size. If the font Veranda is not on the system Pygame will use a default font.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Create a surface with the text <code>Attack At Dawn</code> on it using the color black (the third argument). The boolean value <code>False</code> means do not use <em>antialiasing</em> to smooth the edges on the text, but we want the image to be pure black-and-white, so we don&#8217;t antialias.</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<em>Antialiasing</em> uses shades of a color to smooth edges.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can see the difference with anti-aliasing in the image below. The text on top does not use anti-aliasing while the text on the bottom does. You notice the difference the most where the edges of the letters are either curved or at an angle.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/png/antialias.png" alt="antialias" width="600">
</div>
<div class="title">Figure 21. Antialiasing</div>
</div>
<div class="paragraph">
<p>Now that we have 1) a surface with a secret message on it, and 2) an image where all of the red values are even we need to go through each pixel in the secret message, check to see if it is black, and if it is black, make a corresponding pixel in the original image odd. Assume we are putting the secret message in the upper left hand corner of the image so that coordinate \((0,0)\) in the image corresponds with coordinate \((0,0)\) in the secret message surface. We can think of this as overlaying the secret message on the window. We are making a big assumption that the message surface will fit in the image. That is, both the message width and height are less than the image width and height.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/png/panda_overlay_secret.png" alt="panda overlay secret">
</div>
<div class="title">Figure 22. Overlaying a secret on image</div>
</div>
<div class="paragraph">
<p>The following program hides a message in an image putting everything together.</p>
</div>
<div class="listingblock">
<div class="title">Hiding a message in an image <code>encrypt.py</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</div></td><td class="code"><span></span><span class="tok-kn">import</span> <span class="tok-nn">pygame</span><span class="tok-o">,</span><span class="tok-nn">util</span><span class="tok-o">,</span><span class="tok-nn">color</span>
<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">init</span><span class="tok-p">()</span>

<span class="tok-c1"># Main Program</span>
<span class="tok-n">image</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">load</span><span class="tok-p">(</span><span class="tok-s2">&quot;some_image.png&quot;</span><span class="tok-p">)</span>                <i class="conum" data-value="1"></i><b>(1)</b>

<span class="tok-n">image</span> <span class="tok-o">=</span> <span class="tok-n">make_red_even</span><span class="tok-p">(</span><span class="tok-n">image</span><span class="tok-p">)</span>                               <i class="conum" data-value="2"></i><b>(2)</b>

<span class="tok-n">font</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">font</span><span class="tok-o">.</span><span class="tok-n">SysFont</span><span class="tok-p">(</span><span class="tok-s2">&quot;Veranda&quot;</span><span class="tok-p">,</span> <span class="tok-mi">40</span><span class="tok-p">)</span>
<span class="tok-n">msg</span> <span class="tok-o">=</span> <span class="tok-n">font</span><span class="tok-o">.</span><span class="tok-n">render</span><span class="tok-p">(</span><span class="tok-s2">&quot;Python is Awesome&quot;</span><span class="tok-p">,</span> <span class="tok-bp">False</span><span class="tok-p">,</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">black</span><span class="tok-p">)</span> <i class="conum" data-value="3"></i><b>(3)</b>

<span class="tok-k">for</span> <span class="tok-n">y</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-n">msg</span><span class="tok-o">.</span><span class="tok-n">get_height</span><span class="tok-p">()):</span>                          <i class="conum" data-value="4"></i><b>(4)</b>
    <span class="tok-k">for</span> <span class="tok-n">x</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-n">msg</span><span class="tok-o">.</span><span class="tok-n">get_width</span><span class="tok-p">()):</span>
        <span class="tok-p">(</span><span class="tok-n">r</span><span class="tok-p">,</span><span class="tok-n">g</span><span class="tok-p">,</span><span class="tok-n">b</span><span class="tok-p">,</span><span class="tok-n">_</span><span class="tok-p">)</span> <span class="tok-o">=</span> <span class="tok-n">msg</span><span class="tok-o">.</span><span class="tok-n">get_at</span><span class="tok-p">((</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">))</span>                      <i class="conum" data-value="5"></i><b>(5)</b>
        <span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-n">r</span><span class="tok-p">,</span><span class="tok-n">g</span><span class="tok-p">,</span><span class="tok-n">b</span><span class="tok-p">)</span> <span class="tok-o">==</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">black</span><span class="tok-p">:</span>                         <i class="conum" data-value="6"></i><b>(6)</b>
            <span class="tok-p">(</span><span class="tok-n">ir</span><span class="tok-p">,</span><span class="tok-n">ig</span><span class="tok-p">,</span><span class="tok-n">ib</span><span class="tok-p">,</span><span class="tok-n">_</span><span class="tok-p">)</span> <span class="tok-o">=</span> <span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">get_at</span><span class="tok-p">((</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">))</span>             <i class="conum" data-value="7"></i><b>(7)</b>
            <span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">set_at</span><span class="tok-p">((</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">),</span> <span class="tok-p">(</span><span class="tok-n">ir</span><span class="tok-o">+</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-n">ig</span><span class="tok-p">,</span><span class="tok-n">ib</span><span class="tok-p">))</span>              <i class="conum" data-value="8"></i><b>(8)</b>

<span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">save</span><span class="tok-p">(</span><span class="tok-n">image</span><span class="tok-p">,</span> <span class="tok-s2">&quot;new_image.png&quot;</span><span class="tok-p">)</span>                  <i class="conum" data-value="9"></i><b>(9)</b>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Make sure the image is a PNG. Why? Because of lossless compression.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Call the <code>make_red_even</code> function.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Create a secret message <code>Python is Awesome</code></td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Go through each pixel in the secret message.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Get the message pixel and &#8230;&#8203;</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Check if it is black.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>If it is black then we need to get the corresponding pixel in the image and &#8230;&#8203;</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>make the red component f the image pixel odd. Hence the <code>ir+1</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td><code>pygame.image.save</code> is a new Pygame function that saves a surface in a new file in the image format specified by the file suffix. In this case it saves the surface <code>image</code> in the file named <code>new_image.png</code> as a PNG file because the file name ends with <code>.png</code>.</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
The above program can crash if the image containing the message is larger than the image that is hiding the message.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Look at how we check if a color is black on line 15.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-n">r</span><span class="tok-p">,</span><span class="tok-n">g</span><span class="tok-p">,</span><span class="tok-n">b</span><span class="tok-p">)</span> <span class="tok-o">==</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">black</span><span class="tok-p">:</span>
    <span class="tok-o">...</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This is checking using <em>tuple equality</em> by comparing each value in the <code>(r,g,b)</code> tuple against the tuple specified in <code>color.black</code> which is <code>(0,0,0)</code>.</p>
</div>
<div class="paragraph">
<p>Comparing tuples like this is handy, but if you didn&#8217;t know about tuple equality you could do this another way using <em>logical and</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-k">if</span> <span class="tok-n">r</span> <span class="tok-o">==</span> <span class="tok-mi">0</span> <span class="tok-ow">and</span> <span class="tok-n">g</span> <span class="tok-o">==</span> <span class="tok-mi">0</span> <span class="tok-ow">and</span> <span class="tok-n">b</span> <span class="tok-o">==</span> <span class="tok-mi">0</span><span class="tok-p">:</span>
    <span class="tok-o">...</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally, since we are certain that the message contains only black <code>(0,0,0)</code> or white <code>(255,255,255)</code> pixels, we could get away with just comparing one of the components, instead of
all three.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_case_study_schellings_segregation_model"><a class="anchor" href="#_case_study_schellings_segregation_model"></a>10.8. Case Study: Schelling&#8217;s Segregation Model</h3>
<div class="paragraph">
<p>In 1969 and 1971 the economist Thomas Schelling published two now famous papers, <em>Models of Segregation</em>.<sup class="footnote">[<a id="_footnoteref_26" class="footnote" href="#_footnotedef_26" title="View footnote.">26</a>]</sup> and <em>Dynamic Models of Segregation</em>.<sup class="footnote">[<a id="_footnoteref_27" class="footnote" href="#_footnotedef_27" title="View footnote.">27</a>]</sup>. One of the phenomena that Schelling was trying to study was why people segregated based on race. Why people segregate by race may seem obvious; racial segregation and racism have a long, violent, and sorrowful history in America. What Schelling was trying to understand though is what might happen if we started with some sense of racial balance. Would societies continue to segregate? Schelling wasn&#8217;t just interested in race, but cited examples of all kinds of segregation such as income, sex, and educational background.</p>
</div>
<div class="paragraph">
<p>Consider the following map of New York City.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/nyc_segregation.jpg" alt="nyc segregation">
</div>
<div class="title">Figure 23. Segregation map of NYC.<sup class="footnote">[<a id="_footnoteref_28" class="footnote" href="#_footnotedef_28" title="View footnote.">28</a>]</sup></div>
</div>
<div class="paragraph">
<p>In this map each red dot represents a Caucasian household, blue represents a black household, yellow a Latino household, and green an Asian household. The segregation is obvious.</p>
</div>
<div class="paragraph">
<p>Reasons for segregation are varied and complex.  Schelling tried to abstract away (that&#8217;s what a model does) details and propose something much more simple. People are agents living on a grid and follow some simple rules. People generally have choices of where they might live; if they don&#8217;t like where they are currently living they can move.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/schelling_grid.jpg" alt="schelling grid">
</div>
<div class="title">Figure 24. Schelling Agent Grid</div>
</div>
<div class="paragraph">
<p>In this grid we have green agents and blue agents. White represents empty locations on the grid where agents can move.  Schelling suggested that there is a threshold of the number of unlike neighbors an agent might tolerate before they decide to move. In this case we have a green agent marked with an X who is deciding if they should move. There are two empty cells, so X has six neighbors, two of which are like them, or \(2/6 = 1/3 = \overline{.33}\). If the threshold were <em>if less than \(1/3\) of my neighbors are like me then I&#8217;ll move</em>. In this case X would stay put. On the other hand if the threshold were \(1/2\) then X would move.</p>
</div>
<div class="paragraph">
<p>How should we pick a place to move? In this case there are two choices, the lower left cell or upper right cell.  We could be smart about it and search for an empty cell that meets the threshold, in which case the lower left cell would be the place.</p>
</div>
<div class="paragraph">
<p>If <strong>X</strong> moves to the lower left we have</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/schelling_grid1.jpg" alt="schelling grid1">
</div>
<div class="title">Figure 25. Moving to lower left</div>
</div>
<div class="paragraph">
<p>In this case <strong>X</strong> now has \(1/2\) half its neighbors like them. But what if they moved to the upper right?</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/schelling_grid2.jpg" alt="schelling grid2">
</div>
<div class="title">Figure 26. Moving to upper right</div>
</div>
<div class="paragraph">
<p>Here <strong>X</strong> now has 0 neighbors like them, and they will most likely move again in the next round.</p>
</div>
<div class="paragraph">
<p>Keeping in mind that empty cells could be far away on a large grid and not necessarily a neighboring cell, we might try for something simpler and search for an empty cell at random. It turns out either method will work. But from what Python we know now, choosing a cell at random is the easier solution.</p>
</div>
<div class="paragraph">
<p>The scenario just discussed for <strong>X</strong> is just one cell. We need to repeat this process for every cell in the grid. But when should we stop the process? When all agents are "happy" and we have no more agents moving. The question is what do we think will happen in the long run? Even with a relatively low threshold such as \(1/3\)?</p>
</div>
<div class="paragraph">
<p>In pseudocode here is the process we outlined:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Randomly populate a grid with roughly equal numbers of green and blue agents and empty cells.</p>
</li>
<li>
<p>Repeat until no more cells move</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>For each cell \((x,y)\) in the grid</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>if \((x,y)\) is an empty cell then continue on to the next cell</p>
</li>
<li>
<p>Otherwise count the <em>like neighbors</em> of cell \((x,y)\)</p>
</li>
<li>
<p>if the threshold is not met then search for an empty cell and move there</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>To tackle the complexity of writing this program lets try and break this down into some functions. For step 1 lets write a function <code>randomly_populate</code> that takes a surface and randomly assigns each cell to be one of green, blue, or empty (white) with equal probability. (We could also modify this so that one color is less populated than another).</p>
</div>
<div class="paragraph">
<p>For step 2.a.ii we can write a function <code>like_neighbors</code> that, given an agent&#8217;s coordinate, counts the number of neighbors that are like that agent. This should feel familiar; reminiscent of the <code>neighborhood_mean</code> function where we looked at the neighbors of a pixel.</p>
</div>
<div class="paragraph">
<p>For step 2.a.iii lets write a function <code>find_empty</code> that finds an empty cell.</p>
</div>
<div class="sect3">
<h4 id="_step_1_randomly_populate"><a class="anchor" href="#_step_1_randomly_populate"></a>10.8.1. Step 1: Randomly populate</h4>
<div class="paragraph">
<p>The function <code>randomly_populate</code> fills the grid with blue, green, or empty (white) agents (pixels).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</div></td><td class="code"><span></span><span class="tok-k">def</span> <span class="tok-nf">randomly_populate</span><span class="tok-p">(</span><span class="tok-n">grid</span><span class="tok-p">):</span>                      <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-k">for</span> <span class="tok-n">y</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-n">grid</span><span class="tok-o">.</span><span class="tok-n">get_height</span><span class="tok-p">()):</span>
        <span class="tok-k">for</span> <span class="tok-n">x</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-n">grid</span><span class="tok-o">.</span><span class="tok-n">get_width</span><span class="tok-p">()):</span>
            <span class="tok-n">r</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">random</span><span class="tok-p">()</span>                   <i class="conum" data-value="2"></i><b>(2)</b>
            <span class="tok-k">if</span> <span class="tok-n">r</span> <span class="tok-o">&lt;</span> <span class="tok-mi">1</span><span class="tok-o">/</span><span class="tok-mi">3</span><span class="tok-p">:</span>                           <i class="conum" data-value="3"></i><b>(3)</b>
                <span class="tok-n">grid</span><span class="tok-o">.</span><span class="tok-n">set_at</span><span class="tok-p">((</span><span class="tok-n">x</span><span class="tok-p">,</span> <span class="tok-n">y</span><span class="tok-p">),</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">blue</span><span class="tok-p">)</span>
            <span class="tok-k">elif</span> <span class="tok-n">r</span> <span class="tok-o">&lt;</span> <span class="tok-mi">2</span><span class="tok-o">/</span><span class="tok-mi">3</span><span class="tok-p">:</span>                         <i class="conum" data-value="4"></i><b>(4)</b>
                <span class="tok-n">grid</span><span class="tok-o">.</span><span class="tok-n">set_at</span><span class="tok-p">((</span><span class="tok-n">x</span><span class="tok-p">,</span> <span class="tok-n">y</span><span class="tok-p">),</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">green</span><span class="tok-p">)</span>
            <span class="tok-k">else</span><span class="tok-p">:</span>                                 <i class="conum" data-value="5"></i><b>(5)</b>
                <span class="tok-n">grid</span><span class="tok-o">.</span><span class="tok-n">set_at</span><span class="tok-p">((</span><span class="tok-n">x</span><span class="tok-p">,</span> <span class="tok-n">y</span><span class="tok-p">),</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">white</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Modify <code>grid</code> through its reference rather than create a new empty surface.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>A random float between 0 and 1. There is a reason we are using <code>random()</code> here
and not <code>randrange()</code>. Later on it will be easier to make the populations of agents different, for example 25% green and 50% blue.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Cell is a blue agent with 1/3 probability \((0 &lt; r &lt; 1/3)\).</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Cell is a green agent with 1/3 probability \((1/3 &lt; r &lt; 2/3)\).</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>The remaining \(1/3\) are empty cells.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If we were to run <code>randomly_populate</code> we will end up with a starting grid that might look something like the following, equal parts green, blue, and white.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/schelling_initial.jpg" alt="schelling initial">
</div>
<div class="title">Figure 27. Initial randomly populated grid</div>
</div>
</div>
<div class="sect3">
<h4 id="_step_2_count_like_neighbors"><a class="anchor" href="#_step_2_count_like_neighbors"></a>10.8.2. Step 2: Count like neighbors</h4>
<div class="paragraph">
<p>In the Schelling model we need to count the number of neighbors of an agent that are <em>like</em> (the same color as) that agent. For a given agent at coordinate \((x,y)\) we will have <code>count_like_neighbors</code> return the proportion of the eight neighboring agents that are like agent at coordinate \((x,y)\). What should we do about empty cells? Presumably an agent neither likes nor objects to being adjacent to an empty cell, so we will not count them as a neighbor. Consequently, if there is one empty neighbor, and there are two like neighbors our function should return return \(2/7\).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</div></td><td class="code"><span></span><span class="tok-k">def</span> <span class="tok-nf">count_like_neighbors</span><span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">,</span><span class="tok-n">c</span><span class="tok-p">,</span><span class="tok-n">grid</span><span class="tok-p">):</span>                   <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="tok-n">like</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>                                              <i class="conum" data-value="2"></i><b>(2)</b>
  <span class="tok-n">nc</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>                                                <i class="conum" data-value="3"></i><b>(3)</b>
  <span class="tok-n">size</span> <span class="tok-o">=</span> <span class="tok-n">grid</span><span class="tok-o">.</span><span class="tok-n">get_width</span><span class="tok-p">()</span>                               <i class="conum" data-value="4"></i><b>(4)</b>
  <span class="tok-k">for</span> <span class="tok-n">row</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-n">y</span><span class="tok-o">-</span><span class="tok-mi">1</span><span class="tok-p">,</span> <span class="tok-n">y</span><span class="tok-o">+</span><span class="tok-mi">2</span><span class="tok-p">):</span>                           <i class="conum" data-value="5"></i><b>(5)</b>
    <span class="tok-k">for</span> <span class="tok-n">col</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-o">-</span><span class="tok-mi">1</span><span class="tok-p">,</span> <span class="tok-n">x</span><span class="tok-o">+</span><span class="tok-mi">2</span><span class="tok-p">):</span>                         <i class="conum" data-value="6"></i><b>(6)</b>
      <span class="tok-p">(</span><span class="tok-n">r</span><span class="tok-p">,</span><span class="tok-n">g</span><span class="tok-p">,</span><span class="tok-n">b</span><span class="tok-p">,</span><span class="tok-n">_</span><span class="tok-p">)</span> <span class="tok-o">=</span> <span class="tok-n">grid</span><span class="tok-o">.</span><span class="tok-n">get_at</span><span class="tok-p">((</span><span class="tok-n">row</span> <span class="tok-o">%</span> <span class="tok-n">size</span><span class="tok-p">,</span> <span class="tok-n">col</span> <span class="tok-o">%</span> <span class="tok-n">size</span><span class="tok-p">))</span> <i class="conum" data-value="7"></i><b>(7)</b>

      <span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-n">r</span><span class="tok-p">,</span><span class="tok-n">g</span><span class="tok-p">,</span><span class="tok-n">b</span><span class="tok-p">)</span> <span class="tok-o">!=</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">white</span><span class="tok-p">:</span>                        <i class="conum" data-value="8"></i><b>(8)</b>
        <span class="tok-n">nc</span> <span class="tok-o">=</span> <span class="tok-n">nc</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>

      <span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-n">r</span><span class="tok-p">,</span><span class="tok-n">g</span><span class="tok-p">,</span><span class="tok-n">b</span><span class="tok-p">)</span> <span class="tok-o">==</span> <span class="tok-n">c</span><span class="tok-p">:</span>                                  <i class="conum" data-value="9"></i><b>(9)</b>
        <span class="tok-n">like</span> <span class="tok-o">=</span> <span class="tok-n">like</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>

  <span class="tok-k">if</span> <span class="tok-n">nc</span> <span class="tok-o">==</span> <span class="tok-mi">0</span><span class="tok-p">:</span>                                           <i class="conum" data-value="10"></i><b>(10)</b>
    <span class="tok-k">return</span> <span class="tok-mi">0</span>
  <span class="tok-k">else</span><span class="tok-p">:</span>
    <span class="tok-k">return</span> <span class="tok-p">(</span><span class="tok-n">like</span><span class="tok-o">-</span><span class="tok-mi">1</span><span class="tok-p">)</span><span class="tok-o">/</span><span class="tok-n">nc</span>                                  <i class="conum" data-value="11"></i><b>(11)</b>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>(x,y)</code> is the coordinate of the current agent. Presumably <code>c</code> is blue or green because we should not be counting the neighbors of an empty cell.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Local variable <code>like</code> will be the count of the number of like neighbors.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Local variable <code>nc</code>, or <em>neighbor count</em>, will be the count the number of non-empty neighbors.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Local variable <code>size</code> is the width and height of <code>grid</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>This loop pattern we have seen before for looking at the <em>neighbordhood</em> of a cell. <code>row</code> ranges from the row above the agent to the row below.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td><code>col</code> ranges from the column to the left of the agent to the column to the right.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>We are calculating the coordinate mod <code>size</code> which means we are wrapping around the edges. This is just an easy way to avoid checking for out of bounds conditions.</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>If the neighbor is not empty then increment the neighbor count.</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td>If the neighbor color is the same as the agent then increment the like count.</td>
</tr>
<tr>
<td><i class="conum" data-value="10"></i><b>10</b></td>
<td>If there are no neighbors then return zero, otherwise we run the risk of dividing by zero.</td>
</tr>
<tr>
<td><i class="conum" data-value="11"></i><b>11</b></td>
<td>We are subtracting one from <code>like</code> because the agent at <code>(x,y)</code> counted itself.</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
We always need to watch out for dividing by zero.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Function <code>count_like_neighbors</code> is a little subtle. We had to be careful about dividing by zero and and an agent not counting itself as a <em>like</em> neighbor.</p>
</div>
</div>
<div class="sect3">
<h4 id="_step_3_finding_an_empty_cell"><a class="anchor" href="#_step_3_finding_an_empty_cell"></a>10.8.3. Step 3: Finding an empty cell</h4>
<div class="paragraph">
<p>When an agent moves it needs to find an empty cell to move to. We could search for an empty cell in one of several ways, we could just start looking for an empty cell in the grid starting at the top and working our way down using our nested <code>for</code>-loop pattern. This would give preference to empty cells towards the top and slowly fill in the grid entirely from the top.</p>
</div>
<div class="paragraph">
<p>Alternatively, we could randomly search for an empty cell. If, for example, one third of the cells are empty then it would take, on average, three random searches to find an empty cell.</p>
</div>
<div class="paragraph">
<p>Function <code>find_empty</code> randomly searches for an empty cell in the grid returning its coordinate when it has found one.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6
7</div></td><td class="code"><span></span><span class="tok-k">def</span> <span class="tok-nf">find_empty</span><span class="tok-p">():</span>
    <span class="tok-k">while</span> <span class="tok-bp">True</span><span class="tok-p">:</span>                                   <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-n">grid</span><span class="tok-o">.</span><span class="tok-n">get_width</span><span class="tok-p">())</span>    <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-n">grid</span><span class="tok-o">.</span><span class="tok-n">get_height</span><span class="tok-p">())</span>
        <span class="tok-p">(</span><span class="tok-n">r</span><span class="tok-p">,</span><span class="tok-n">g</span><span class="tok-p">,</span><span class="tok-n">b</span><span class="tok-p">,</span><span class="tok-n">_</span><span class="tok-p">)</span> <span class="tok-o">=</span> <span class="tok-n">grid</span><span class="tok-o">.</span><span class="tok-n">get_at</span><span class="tok-p">((</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">))</span>
        <span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-n">r</span><span class="tok-p">,</span><span class="tok-n">g</span><span class="tok-p">,</span><span class="tok-n">b</span><span class="tok-p">)</span> <span class="tok-o">==</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">white</span><span class="tok-p">:</span>                <i class="conum" data-value="3"></i><b>(3)</b>
            <span class="tok-k">return</span> <span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>It looks like this loop will run forever, but the function actually <em>returns</em>, breaking out of the loop when an empty cell is found.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Generate a random coordinate.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>White means empty, so return the coordinate.</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_putting_it_all_together"><a class="anchor" href="#_putting_it_all_together"></a>10.8.4. Putting it all together</h4>
<div class="paragraph">
<p>With function <code>randomly_populate</code>, <code>count_like_neighbors</code>, and <code>find_empty</code> we can put together the main program for the Schelling Segregation model. If we make the grid too large then the simulation can take a long time to run, so we will keep it as a square grid 400 on a side.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight nowrap"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</div></td><td class="code"><span></span><span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">init</span><span class="tok-p">()</span>
<span class="tok-n">n</span> <span class="tok-o">=</span> <span class="tok-mi">400</span>
<span class="tok-n">grid</span> <span class="tok-o">=</span> <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">set_mode</span><span class="tok-p">((</span><span class="tok-n">n</span><span class="tok-p">,</span><span class="tok-n">n</span><span class="tok-p">))</span>
<span class="tok-n">randomly_populate</span><span class="tok-p">()</span>
<span class="tok-n">threshhold</span> <span class="tok-o">=</span> <span class="tok-mi">1</span><span class="tok-o">/</span><span class="tok-mi">3</span>
<span class="tok-n">done</span> <span class="tok-o">=</span> <span class="tok-bp">False</span>

<span class="tok-k">while</span> <span class="tok-ow">not</span> <span class="tok-n">done</span><span class="tok-p">:</span>
    <span class="tok-n">moved</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>                                            <i class="conum" data-value="1"></i><b>(1)</b>

    <span class="tok-k">for</span> <span class="tok-n">y</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-n">grid</span><span class="tok-o">.</span><span class="tok-n">get_height</span><span class="tok-p">()):</span>                   <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="tok-k">for</span> <span class="tok-n">x</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-n">grid</span><span class="tok-o">.</span><span class="tok-n">get_width</span><span class="tok-p">()):</span>
            <span class="tok-p">(</span><span class="tok-n">r</span><span class="tok-p">,</span><span class="tok-n">g</span><span class="tok-p">,</span><span class="tok-n">b</span><span class="tok-p">,</span><span class="tok-n">_</span><span class="tok-p">)</span> <span class="tok-o">=</span> <span class="tok-n">grid</span><span class="tok-o">.</span><span class="tok-n">get_at</span><span class="tok-p">((</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">))</span>               <i class="conum" data-value="3"></i><b>(3)</b>

            <span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-n">r</span><span class="tok-p">,</span><span class="tok-n">g</span><span class="tok-p">,</span><span class="tok-n">b</span><span class="tok-p">)</span> <span class="tok-o">!=</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">white</span><span class="tok-p">:</span>
                <span class="tok-n">like</span> <span class="tok-o">=</span> <span class="tok-n">count_like_neighbors</span><span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">,(</span><span class="tok-n">r</span><span class="tok-p">,</span><span class="tok-n">g</span><span class="tok-p">,</span><span class="tok-n">b</span><span class="tok-p">))</span> <i class="conum" data-value="4"></i><b>(4)</b>

                <span class="tok-k">if</span> <span class="tok-n">like</span> <span class="tok-o">&lt;</span> <span class="tok-n">threshold</span><span class="tok-p">:</span>                     <i class="conum" data-value="5"></i><b>(5)</b>
                    <span class="tok-p">(</span><span class="tok-n">ex</span><span class="tok-p">,</span><span class="tok-n">ey</span><span class="tok-p">)</span> <span class="tok-o">=</span> <span class="tok-n">find_empty</span><span class="tok-p">()</span>               <i class="conum" data-value="6"></i><b>(6)</b>
                    <span class="tok-n">grid</span><span class="tok-o">.</span><span class="tok-n">set_at</span><span class="tok-p">((</span><span class="tok-n">ex</span><span class="tok-p">,</span><span class="tok-n">ey</span><span class="tok-p">),</span> <span class="tok-p">(</span><span class="tok-n">r</span><span class="tok-p">,</span><span class="tok-n">g</span><span class="tok-p">,</span><span class="tok-n">b</span><span class="tok-p">))</span>        <i class="conum" data-value="7"></i><b>(7)</b>
                    <span class="tok-n">grid</span><span class="tok-o">.</span><span class="tok-n">set_at</span><span class="tok-p">((</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-n">y</span><span class="tok-p">),</span> <span class="tok-n">color</span><span class="tok-o">.</span><span class="tok-n">white</span><span class="tok-p">)</span>      <i class="conum" data-value="8"></i><b>(8)</b>
                    <span class="tok-n">moved</span> <span class="tok-o">=</span> <span class="tok-n">moved</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>                    <i class="conum" data-value="9"></i><b>(9)</b>

    <span class="tok-n">pygame</span><span class="tok-o">.</span><span class="tok-n">display</span><span class="tok-o">.</span><span class="tok-n">update</span><span class="tok-p">()</span>                              <i class="conum" data-value="10"></i><b>(10)</b>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">moved</span><span class="tok-p">)</span>                                         <i class="conum" data-value="11"></i><b>(11)</b>
    <span class="tok-n">done</span> <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-n">moved</span> <span class="tok-o">==</span> <span class="tok-mi">0</span><span class="tok-p">)</span>                                  <i class="conum" data-value="12"></i><b>(12)</b>

<span class="tok-n">util</span><span class="tok-o">.</span><span class="tok-n">wait_for_click</span><span class="tok-p">()</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Keep processing the grid until there are no more moves (every agent is happy)</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Go through the entire grid using our normal nested <code>for</code>-loop pattern.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Get the agent at the cell, which could be no agent (empty cell).</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>If the cell is not empty then we have an agent and get the proportion of their like neighbors.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>If the proportion is less than the threshold then the agent needs to move.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Find an empty cell for the agent to move to.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Put the current agent at the empty location.</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>Make the agent&#8217;s old coordinate empty.</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td>Increment the <code>moved</code> count</td>
</tr>
<tr>
<td><i class="conum" data-value="10"></i><b>10</b></td>
<td>Update the display to animate the progress of the model</td>
</tr>
<tr>
<td><i class="conum" data-value="11"></i><b>11</b></td>
<td>print the number of agents that moved. This should be decreasing.</td>
</tr>
<tr>
<td><i class="conum" data-value="12"></i><b>12</b></td>
<td>A little trick, but this sets <code>done</code> to <code>True</code> if <code>moved</code> is <code>0</code>. Could have used an if-statement.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When we run the Schelling model with equal proportions of agents and a threshold of \(1/3\) we notice that there is segregation.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/schelling_1_3.jpg" alt="schelling 1 3">
</div>
<div class="title">Figure 28. Schelling model with 1/3 threshold and equal agent proportion</div>
</div>
<div class="paragraph">
<p>If we make one of the agents a minority the results are even more pronounced. Below we have 25% of the agents are blue, 50% are green, and 25% empty cells.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/schelling_25_50_25.jpg" alt="schelling 25 50 25">
</div>
<div class="title">Figure 29. Schelling model with 1/3 threshold and 25% blue, 50% green agents</div>
</div>
<div class="paragraph">
<p>These results were pretty surprising. If fewer than 33% of an agent&#8217;s neighbors are like them then the agent moves with the end result being a fair amount of segregation. That is, with fairly tolerant agents, we see segregation.</p>
</div>
<div class="paragraph">
<p>One thing to check with any model is to see if it matches our intuition. If we lower the threshold, that is we make the agents even more tolerant, then we should see less segregation. This is indeed the case.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/schelling_thresh_15.jpg" alt="schelling thresh 15">
</div>
<div class="title">Figure 30. Schelling model with 15% threshold and equal proportion agents.</div>
</div>
<div class="paragraph">
<p>If we increased the threshold to say 50% and also introduce a minority agent population we should see even more dramatic segregation. And we do.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/schelling_50_25_50_25.jpg" alt="schelling 50 25 50 25">
</div>
<div class="title">Figure 31. Schelling model with 50% threshold and 25% blue 50% green agents.</div>
</div>
<div class="paragraph">
<p>If, however, we make agents very intolerant by having, say a 70% threshold, and we have enough diversity in the population it can be very hard to please an agent and the simulation doesn&#8217;t every really settle down.</p>
</div>
</div>
<div class="sect3">
<h4 id="_schelling_summary"><a class="anchor" href="#_schelling_summary"></a>10.8.5. Schelling Summary</h4>
<div class="paragraph">
<p>The Schelling Model was one of the early models in an area called <em>Agent Based Modeling</em>.<sup class="footnote">[<a id="_footnoteref_29" class="footnote" href="#_footnotedef_29" title="View footnote.">29</a>]</sup> In Agent Based Models, agents live on a grid and are endowed with a set of rules or behaviors that dictate how agents interact with neighboring agents. There are many applications of agent based modeling across the social and natural sciences including epidemiological models of the spread of disease, predator-prey population models, and animal flocking. Later on we will see an agent based model for simulating a forest fire. While using Python and Pygame for agent based modeling is pretty effective there are special purpose programming languages designed specifically for building agent based models, NetLogo being the most prominent.<sup class="footnote">[<a id="_footnoteref_30" class="footnote" href="#_footnotedef_30" title="View footnote.">30</a>]</sup>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_exercises_9"><a class="anchor" href="#_exercises_9"></a>10.9. Exercises</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Collage</p>
</li>
<li>
<p>Add a third color agent to the Schelling model</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_terminology_10"><a class="anchor" href="#_terminology_10"></a>10.10. Terminology</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 17. Terminology</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>grayscale</p>
</li>
<li>
<p>default parameter</p>
</li>
<li>
<p>alpha transparency</p>
</li>
<li>
<p>neighborhood</p>
</li>
<li>
<p>resolution</p>
</li>
<li>
<p>MP</p>
</li>
<li>
<p>JPEG</p>
</li>
<li>
<p>BMP</p>
</li>
<li>
<p>antialiasing</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>named parameter</p>
</li>
<li>
<p>matrix</p>
</li>
<li>
<p>pixelated</p>
</li>
<li>
<p>aspect ratio</p>
</li>
<li>
<p>ppi</p>
</li>
<li>
<p>PNG</p>
</li>
<li>
<p>lossy compression</p>
</li>
<li>
<p>non-lossy (or lossless) compression</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_string_and_file_processing"><a class="anchor" href="#_string_and_file_processing"></a>11. String and File Processing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Lots of software processes text. We use word processors to edit text and write documents,  web browsers to read and process text entered in web forms, e-mail clients to read and write emails. Web search engines such as Google, store and search massive amounts of text from every publicly accessible web site in the world. It is estimated that Google has <em>exabytes</em> of data.  Biologists use tools such as <a href="https://blast.ncbi.nlm.nih.gov/Blast.cgi">BLAST</a> to process DNA sequences that are represented as text. The IDE we use to write our Python programs and spell checkers process text. One of the most important applications of text processing is <em>cryptography</em>.</p>
</div>
<div class="paragraph">
<p>We have already used text in our programs; strings are text. We hardcode text into our programs using string constants &#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">s</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;antidisestablishmentarianism&#39;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>and use them in prompts or enter them from the keyboard.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">s</span> <span class="tok-o">=</span> <span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s2">&quot;Enter a string: &quot;</span><span class="tok-p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>For the following discussion lets assume that <code>s</code> is the string <code>'antidisestablishmentarianism'</code></p>
</div>
<div class="paragraph">
<p>We can get the length of a string using the function <code>len</code>. The statement</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-nb">len</span><span class="tok-p">(</span><span class="tok-n">s</span><span class="tok-p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>would print <code>28</code> on the console.</p>
</div>
<div class="paragraph">
<p>We can also access individual characters in a string. The characters in a string are numbered starting with <code>0</code>. We use a bracket notation for accessing individual characters. <code>s[0]</code> is the first character or <code>'a'</code> and <code>s[27]</code> is the last character, or <code>'m'</code>.</p>
</div>
<div class="listingblock">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3</div></td><td class="code"><span></span><span class="tok-c1"># What would get printed?</span>
<span class="tok-n">s</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;antidisestablishmentarianism&#39;</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">s</span><span class="tok-p">[</span><span class="tok-mi">0</span><span class="tok-p">],</span> <span class="tok-n">s</span><span class="tok-p">[</span><span class="tok-mi">11</span><span class="tok-p">],</span> <span class="tok-n">s</span><span class="tok-p">[</span><span class="tok-nb">len</span><span class="tok-p">(</span><span class="tok-n">s</span><span class="tok-p">)</span><span class="tok-o">-</span><span class="tok-mi">1</span><span class="tok-p">])</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="exampleblock result">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">a</span> <span class="tok-n">b</span> <span class="tok-n">m</span></code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>You need to be careful about <em>off-by-one</em> errors.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1</div></td><td class="code"><span></span><span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">s</span><span class="tok-p">[</span><span class="tok-nb">len</span><span class="tok-p">(</span><span class="tok-n">s</span><span class="tok-p">)])</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>would create an <em>index out of range</em> error, because it is trying to print character <code>s[28]</code> but that character does not exist. Oddly enough you can index from that end of the string. <code>s[-1]</code> is the last character, <code>s[-2]</code> is the second to last character, etc.</p>
</div>
<div class="sect2">
<h3 id="_string_operations"><a class="anchor" href="#_string_operations"></a>11.1. String operations</h3>
<div class="paragraph">
<p>There are typically two ways we will loop through and examine each character in a string.</p>
</div>
<div class="paragraph">
<p>Assume that the variable <code>s</code> contains a string value. Back when we introduced the <code>for</code>-loop we noted that strings were a <em>sequence type</em> and that we can use a sequence type in a <code>for</code> loop.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-k">for</span> <span class="tok-n">ch</span> <span class="tok-ow">in</span> <span class="tok-n">s</span><span class="tok-p">:</span>
    <span class="tok-c1"># loop body</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The variable <code>ch</code> (for <em>character</em>) will take on each each character in the string <code>s</code>. Lets say we wanted to count the number of times the character <code>'a'</code> appeared in a string.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5</div></td><td class="code"><span></span><span class="tok-n">a_count</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>

<span class="tok-k">for</span> <span class="tok-n">ch</span> <span class="tok-ow">in</span> <span class="tok-n">s</span><span class="tok-p">:</span>           <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-k">if</span> <span class="tok-n">ch</span> <span class="tok-o">==</span> <span class="tok-s1">&#39;a&#39;</span><span class="tok-p">:</span>
        <span class="tok-n">a_count</span> <span class="tok-o">+=</span> <span class="tok-mi">1</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>ch</code> will take on each character in the string <code>s</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This way of looping through a string works great if you only need to look at each character independent of all the other characters.</p>
</div>
<div class="paragraph">
<p>The second way to loop through a string is to remember that each character in a string has an integer <em>index</em>. So another way to count the number of times the character <code>a</code> occurs is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4</div></td><td class="code"><span></span><span class="tok-n">a_count</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>
<span class="tok-k">for</span> <span class="tok-n">i</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-nb">len</span><span class="tok-p">(</span><span class="tok-n">s</span><span class="tok-p">)):</span>         <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-k">if</span> <span class="tok-n">s</span><span class="tok-p">[</span><span class="tok-n">i</span><span class="tok-p">]</span> <span class="tok-o">==</span> <span class="tok-s1">&#39;a&#39;</span><span class="tok-p">:</span>             <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="tok-n">a_count</span> <span class="tok-o">=</span> <span class="tok-n">a_count</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>i</code> will take on the integer values <code>0</code> up to but not including <code>28</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><code>s</code> is a string, <code>i</code> is an integer, so <code>s[i]</code> is the character at index <code>i</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For example, lets say we wanted to count the number of double characters in a string. For example <code>Mississippi</code> has three sets of double characters; the first <code>ss</code>, the second <code>ss</code>, and the <code>pp</code>.</p>
</div>
<div class="sect3">
<h4 id="_strings_are_immutable"><a class="anchor" href="#_strings_are_immutable"></a>11.1.1. Strings are <em>immutable</em></h4>
<div class="paragraph">
<p>Once a variable has been assigned a string value that string cannot be changed. For example, if <code>s</code> is a string we can&#8217;t change the value of <code>s[0]</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">s</span><span class="tok-p">[</span><span class="tok-mi">0</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;Z&#39;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This causes an error <code>'str' object does not support item assignment</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In Python strings are <em>immutable</em>. This means that the components of the string cannot be changed.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The way to modify a string is to build a new one. If <code>s1</code> and <code>s2</code> are two strings then you can <em>concatenate</em> the two strings with <code>+</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">s1</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;hello&quot;</span>
<span class="tok-n">s2</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;world&quot;</span>
<span class="tok-n">s3</span> <span class="tok-o">=</span> <span class="tok-n">s1</span> <span class="tok-o">+</span> <span class="tok-n">s2</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">s3</span><span class="tok-p">)</span>     <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Will print <code>helloworld</code></td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
To <em>concatenate</em> strings means to join two or more strings into one.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_reversing_a_string"><a class="anchor" href="#_reversing_a_string"></a>11.1.2. Reversing a string</h4>
<div class="paragraph">
<p>To illustrate building a string lets write a function that takes a string as an argument and returns the reverse of the string; <code>reverse('python')</code> is <code>'nohtyp'</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6</div></td><td class="code"><span></span><span class="tok-k">def</span> <span class="tok-nf">reverse</span><span class="tok-p">(</span><span class="tok-n">s</span><span class="tok-p">):</span>
    <span class="tok-n">tmp</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;&quot;</span>            <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-k">for</span> <span class="tok-n">ch</span> <span class="tok-ow">in</span> <span class="tok-n">s</span><span class="tok-p">:</span>        <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="tok-n">tmp</span> <span class="tok-o">=</span> <span class="tok-n">ch</span> <span class="tok-o">+</span> <span class="tok-n">tmp</span>  <i class="conum" data-value="3"></i><b>(3)</b>

    <span class="tok-k">return</span> <span class="tok-n">tmp</span>          <i class="conum" data-value="4"></i><b>(4)</b>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>An initially empty string that we will use to build up the reversed string (there is no space between the double quotes).</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>For each character <code>ch</code> in the string <code>s</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>This is a little tricky. We will discuss below.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Return the reversed string.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Why does this work? Lets take an example of the string <code>'abcd'</code> and lets follow the values of <code>ch</code> and <code>tmp</code> after each loop iteration.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code>ch     tmp
--     ---
a      a     <i class="conum" data-value="1"></i><b>(1)</b>
b      ba    <i class="conum" data-value="2"></i><b>(2)</b>
c      cba   <i class="conum" data-value="3"></i><b>(3)</b>
d      dcba  <i class="conum" data-value="4"></i><b>(4)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>tmp</code> is initially empty so the new value of <code>tmp</code> is <code>ch + tmp</code> or <code>'a'</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><code>ch</code> is <code>'b'</code> and <code>tmp</code> is <code>'a'</code> so the new value of <code>tmp</code> is <code>ch + tmp</code> or <code>'ba'</code></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><code>ch</code> is <code>'c'</code> and <code>tmp</code> is <code>'ba'</code> so the new value of <code>tmp</code> is <code>ch + tmp</code> or <code>'cba'</code></td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>finally <code>ch</code> is <code>'d'</code> and <code>tmp</code> is <code>'cba'</code> so the new value of <code>tmp</code> is <code>ch + tmp</code> or <code>'dcba'</code></td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>What would happen if the loop body in the function <code>reverse</code> were <code>tmp = tmp + ch</code> instead of <code>tmp = ch + tmp</code>.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>It just rebuilds the original string and does not build the reverse.</p>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>A <em>palindrome</em> is a word that reads backwards and forwards such as <em>racecar</em>, <em>kayak</em>, and <em>madam</em>.  Write a function <code>palindrome</code> that takes a string as an argument and returns true if the argument is a palindrome, false otherwise. Hint: use the <code>reverse</code> function.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>This is kind of easy if we can use the <code>reverse</code> function.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-k">def</span> <span class="tok-nf">palindrome</span><span class="tok-p">(</span><span class="tok-n">s</span><span class="tok-p">):</span>
   <span class="tok-k">if</span> <span class="tok-n">s</span> <span class="tok-o">==</span> <span class="tok-n">reverse</span><span class="tok-p">(</span><span class="tok-n">s</span><span class="tok-p">):</span>
       <span class="tok-k">return</span> <span class="tok-bp">True</span>
   <span class="tok-k">else</span><span class="tok-p">:</span>
       <span class="tok-k">return</span> <span class="tok-bp">False</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>There is an even more concise way to write the <code>palindrome</code> function.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-k">def</span> <span class="tok-nf">palindrome</span><span class="tok-p">(</span><span class="tok-n">s</span><span class="tok-p">):</span>
   <span class="tok-k">return</span> <span class="tok-n">s</span> <span class="tok-o">==</span> <span class="tok-n">reverse</span><span class="tok-p">(</span><span class="tok-n">s</span><span class="tok-p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The way to think about this is that if is <code>s</code> is equal to <code>reverse(s)</code> then that is the value <code>True</code>, which is then returned. If they are not equal then it evaluates to <code>False</code> which is then returned. This is the same exact behavior as the first version of <code>palindrome</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_searching_a_string"><a class="anchor" href="#_searching_a_string"></a>11.1.3. Searching a String</h4>
<div class="paragraph">
<p>Often we will want to search a string for a <em>substring</em>. For example, does the string <code>'establish'</code> appear somewhere in the string <code>s</code>. The string function <code>s1.find(s2)</code> returns the starting location of the first occurrence of the string <code>s2</code> in <code>s1</code>. It returns <code>-1</code> if it is not there.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">s1</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;antidisestablishmentarianism&#39;</span>
<span class="tok-n">s2</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;hippopotomonstrosesquipedaliophobia&#39;</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">s1</span><span class="tok-o">.</span><span class="tok-n">find</span><span class="tok-p">(</span><span class="tok-s1">&#39;establish&#39;</span><span class="tok-p">))</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">s1</span><span class="tok-o">.</span><span class="tok-n">find</span><span class="tok-p">(</span><span class="tok-s1">&#39;hippo&#39;</span><span class="tok-p">))</span>     <i class="conum" data-value="2"></i><b>(2)</b>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">s2</span><span class="tok-o">.</span><span class="tok-n">find</span><span class="tok-p">(</span><span class="tok-s1">&#39;po&#39;</span><span class="tok-p">))</span>        <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>prints <code>7</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>prints <code>-1</code></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>prints <code>3</code>, the first occurrence of <code>'po'</code></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A second version of the <code>find</code> function takes a starting location for the search; <code>s1.find(s2,start)</code> will return the location of <code>s2</code> in <code>s1</code> starting at index <code>start</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">s2</span><span class="tok-o">.</span><span class="tok-n">find</span><span class="tok-p">(</span><span class="tok-s1">&#39;po&#39;</span><span class="tok-p">,</span> <span class="tok-mi">4</span><span class="tok-p">))</span> <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>prints <code>5</code></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If we didn&#8217;t know to start the search at <code>4</code> and we wanted to find the second location of <code>po</code> we can search for the first occurrence and use that as a starting point for a search for the second occurrence.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">start</span> <span class="tok-o">=</span> <span class="tok-n">s2</span><span class="tok-o">.</span><span class="tok-n">find</span><span class="tok-p">(</span><span class="tok-s1">&#39;po&#39;</span><span class="tok-p">)</span>           <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">s2</span><span class="tok-o">.</span><span class="tok-n">find</span><span class="tok-p">(</span><span class="tok-s1">&#39;po&#39;</span><span class="tok-p">,</span> <span class="tok-n">start</span><span class="tok-o">+</span><span class="tok-mi">1</span><span class="tok-p">))</span>   <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>index of first occurrence of <code>po</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>start searching for the second occurrence at <code>start+1</code> and not <code>start</code>, otherwise we would just find the first occurrence all over again.</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Write a program that reads a string from the user and counts the number of times the substring <code>'is'</code> appears. Print a user friendly answer. Use the <code>find</code> function but do not use the built-in string function <code>count</code>.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6
7
8
9</div></td><td class="code"><span></span><span class="tok-n">s</span> <span class="tok-o">=</span> <span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s2">&quot;Enter a string: &quot;</span><span class="tok-p">)</span>
<span class="tok-n">count</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>
<span class="tok-n">loc</span> <span class="tok-o">=</span> <span class="tok-n">s</span><span class="tok-o">.</span><span class="tok-n">find</span><span class="tok-p">(</span><span class="tok-s1">&#39;is&#39;</span><span class="tok-p">)</span>                           <i class="conum" data-value="1"></i><b>(1)</b>

<span class="tok-k">while</span> <span class="tok-n">loc</span> <span class="tok-o">!=</span> <span class="tok-o">-</span><span class="tok-mi">1</span><span class="tok-p">:</span>                             <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="tok-n">count</span> <span class="tok-o">+=</span> <span class="tok-mi">1</span>
    <span class="tok-n">loc</span> <span class="tok-o">=</span> <span class="tok-n">s</span><span class="tok-o">.</span><span class="tok-n">find</span><span class="tok-p">(</span><span class="tok-s1">&#39;is&#39;</span><span class="tok-p">,</span><span class="tok-n">loc</span><span class="tok-o">+</span><span class="tok-mi">1</span><span class="tok-p">)</span>                 <i class="conum" data-value="3"></i><b>(3)</b>

<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s1">&#39;&quot;is&quot; appears&#39;</span><span class="tok-p">,</span> <span class="tok-n">count</span><span class="tok-p">,</span> <span class="tok-s2">&quot;times in&quot;</span><span class="tok-p">,</span><span class="tok-n">s</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Find the first occurrence</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Here is an example execution.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">Enter</span> <span class="tok-n">a</span> <span class="tok-n">string</span><span class="tok-p">:</span> <span class="tok-n">antidisestablishmentarianism</span>
<span class="tok-s2">&quot;is&quot;</span> <span class="tok-n">appears</span> <span class="tok-mi">3</span> <span class="tok-n">times</span> <span class="tok-ow">in</span> <span class="tok-n">antidisestablishmentarianism</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Okay, so we could have used the built-in string function <code>count</code> to do this.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">s</span><span class="tok-o">.</span><span class="tok-n">count</span><span class="tok-p">(</span><span class="tok-s1">&#39;is&#39;</span><span class="tok-p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>As is often the case, Python&#8217;s built-in set of functions and libraries will often have what you are looking for.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_string_slices"><a class="anchor" href="#_string_slices"></a>11.1.4. String Slices</h4>
<div class="paragraph">
<p>The bracket notation picks out individual characters in a string;
<code>s[i]</code> is the character at index <code>i</code>.  The bracket notation is also used to pick out consecutive portions of a string, a <em>substring</em>, using what Python calls a <em>slice</em> operation. The notation <code>s[x:y]</code> extracts the portion of the string starting at index <code>x</code> and up to but not including the character at index <code>y</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">s</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;antidisestablishmentarianism&#39;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The slice <code>s[0:4]</code> is the string <code>'anti'</code>. The slice <code>s[7:16]</code> is the string <code>'establish'</code>.</p>
</div>
<div class="paragraph">
<p>Leaving off the ending index then the slice is to the end of the string.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">s</span><span class="tok-p">[</span><span class="tok-mi">7</span><span class="tok-p">:])</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>will print <code>establishmentarianism</code>.</p>
</div>
<div class="paragraph">
<p>Leaving off the starting index then the slice starts at index 0.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">s</span><span class="tok-p">[:</span><span class="tok-mi">4</span><span class="tok-p">])</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>will print <code>anti</code>.</p>
</div>
<div class="paragraph">
<p>A common use for combining <code>find</code> and a string slice is when we are trying to parse data. For example, lets say we asked the user to enter two numbers separated by a comma. We will then compute the average of those two numbers. The user will enter something like <code>'39,88'</code>. But this will be a string, so we need to bust apart the two numbers. We can do this by finding the comma, and taking the slice before the comma, and the slice after the comma. We also have to be careful to convert the slices from strings to integers</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;Enter two numbers separated by a comma.&quot;</span><span class="tok-p">)</span>  <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-n">s</span> <span class="tok-o">=</span> <span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s2">&quot;&gt; &quot;</span><span class="tok-p">)</span>                                   <i class="conum" data-value="2"></i><b>(2)</b>
<span class="tok-n">comma</span> <span class="tok-o">=</span> <span class="tok-n">s</span><span class="tok-o">.</span><span class="tok-n">find</span><span class="tok-p">(</span><span class="tok-s1">&#39;,&#39;</span><span class="tok-p">)</span>                               <i class="conum" data-value="3"></i><b>(3)</b>
<span class="tok-n">num1</span> <span class="tok-o">=</span> <span class="tok-nb">int</span><span class="tok-p">(</span><span class="tok-n">s</span><span class="tok-p">[:</span><span class="tok-n">comma</span><span class="tok-p">])</span>                             <i class="conum" data-value="4"></i><b>(4)</b>
<span class="tok-n">num2</span> <span class="tok-o">=</span> <span class="tok-nb">int</span><span class="tok-p">(</span><span class="tok-n">s</span><span class="tok-p">[</span><span class="tok-n">comma</span><span class="tok-o">+</span><span class="tok-mi">1</span><span class="tok-p">:])</span>                           <i class="conum" data-value="5"></i><b>(5)</b>

<span class="tok-n">avg</span> <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-n">num1</span> <span class="tok-o">+</span> <span class="tok-n">num2</span><span class="tok-p">)</span> <span class="tok-o">/</span> <span class="tok-mi">2</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;Average:&quot;</span><span class="tok-p">,</span> <span class="tok-nb">round</span><span class="tok-p">(</span><span class="tok-n">avg</span><span class="tok-p">,</span><span class="tok-mi">2</span><span class="tok-p">))</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Prompt on a separate line because it is a little long.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Prompt is short and sweet, just "&gt;".</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Find the position of the comma.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The first number is before the comma.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>The second number is after the comma.</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Ask the user to enter three numbers separated by a comma. Print their average.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>There are lots of ways to tackle this. Here is one.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;Enter three numbers separated by a comma&quot;</span><span class="tok-p">)</span>
<span class="tok-n">s</span> <span class="tok-o">=</span> <span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s2">&quot;&gt; &quot;</span><span class="tok-p">)</span>
<span class="tok-n">comma1</span> <span class="tok-o">=</span> <span class="tok-n">s</span><span class="tok-o">.</span><span class="tok-n">find</span><span class="tok-p">(</span><span class="tok-s1">&#39;,&#39;</span><span class="tok-p">)</span>            <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-n">comma2</span> <span class="tok-o">=</span> <span class="tok-n">s</span><span class="tok-o">.</span><span class="tok-n">find</span><span class="tok-p">(</span><span class="tok-s1">&#39;,&#39;</span><span class="tok-p">,</span> <span class="tok-n">comma1</span><span class="tok-o">+</span><span class="tok-mi">1</span><span class="tok-p">)</span>  <i class="conum" data-value="2"></i><b>(2)</b>
<span class="tok-n">num1</span> <span class="tok-o">=</span> <span class="tok-nb">int</span><span class="tok-p">(</span><span class="tok-n">s</span><span class="tok-p">[:</span><span class="tok-n">comma1</span><span class="tok-p">])</span>          <i class="conum" data-value="3"></i><b>(3)</b>
<span class="tok-n">num2</span> <span class="tok-o">=</span> <span class="tok-nb">int</span><span class="tok-p">(</span><span class="tok-n">s</span><span class="tok-p">[</span><span class="tok-n">comma1</span><span class="tok-o">+</span><span class="tok-mi">1</span><span class="tok-p">:</span><span class="tok-n">comma2</span><span class="tok-p">])</span>  <i class="conum" data-value="4"></i><b>(4)</b>
<span class="tok-n">num3</span> <span class="tok-o">=</span> <span class="tok-nb">int</span><span class="tok-p">(</span><span class="tok-n">s</span><span class="tok-p">[</span><span class="tok-n">comma2</span><span class="tok-o">+</span><span class="tok-mi">1</span><span class="tok-p">:])</span>        <i class="conum" data-value="5"></i><b>(5)</b>

<span class="tok-n">avg</span> <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-n">num1</span> <span class="tok-o">+</span> <span class="tok-n">num2</span> <span class="tok-o">+</span> <span class="tok-n">num3</span><span class="tok-p">)</span> <span class="tok-o">/</span> <span class="tok-mi">3</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;Average:&quot;</span><span class="tok-p">,</span> <span class="tok-nb">round</span><span class="tok-p">(</span><span class="tok-n">avg</span><span class="tok-p">,</span><span class="tok-mi">2</span><span class="tok-p">))</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Index of first comma.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Index of the second comma.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>First number is before first comma.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Second number is <em>between</em> the first and second comma.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Third number is after the second comma.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>Finally, lets take this one step further  and handle an arbitrary number of integers each separated by a comma. We will need to loop through the numbers some how.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code>Enter numbers separated by a comma
&gt; 2,9,12,-33,15,7,99
Average: 15.86</code></pre>
</div>
</div>
<div class="paragraph">
<p>Similar to the way we counted the number of times we search for a substring in a string.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A list of numbers separated by commas are called <em>comma separated values</em>. Files that contain comma separated values are often use a <code>.csv</code> file suffix.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Like always, there are lots of different ways we could write this, but one way to think about this is to repeatedly get the first number in the list and then remove the first number in the list, thereby making the second number the new first number.  Lets say the user entered <code>23,19,46,57</code> into the string <code>s</code>. We also need to keep a running total of the numbers and the count of the number of integers. We will use <code>total</code> and <code>count</code> for that.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code>s               total  count
-----------     ---    -----
23,19,46,57      0       0      <i class="conum" data-value="1"></i><b>(1)</b>
19,46,57         23      1      <i class="conum" data-value="2"></i><b>(2)</b>
46,57            42      2      <i class="conum" data-value="3"></i><b>(3)</b>
57               88      3      <i class="conum" data-value="4"></i><b>(4)</b>
                 145     4      <i class="conum" data-value="5"></i><b>(5)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>s</code> is the original input CSV list.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Extract the first number <code>23</code>, add it to <code>total</code>, increment <code>count</code>, and delete <code>23</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Extract the first number <code>19</code>, add it to <code>total</code>, increment <code>count</code>, and delete <code>19</code></td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Extract the first number <code>46</code>, add it to <code>total</code>, increment <code>count</code>, and delete <code>46</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>We should be seeing a pattern here. Extract the first number <code>57</code>, add it to <code>total</code>, increment <code>count</code>, and delete `57. Compute a final average of \(145/4 = 36.25\)</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</div></td><td class="code"><span></span><span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;Enter a comma separated list of numbers&quot;</span><span class="tok-p">)</span>
<span class="tok-n">s</span> <span class="tok-o">=</span> <span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s2">&quot;&gt; &quot;</span><span class="tok-p">)</span>

<span class="tok-n">comma</span> <span class="tok-o">=</span> <span class="tok-n">s</span><span class="tok-o">.</span><span class="tok-n">find</span><span class="tok-p">(</span><span class="tok-s1">&#39;,&#39;</span><span class="tok-p">)</span>
<span class="tok-n">total</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>                   <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-n">count</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>                   <i class="conum" data-value="2"></i><b>(2)</b>

<span class="tok-k">while</span> <span class="tok-n">comma</span> <span class="tok-o">!=</span> <span class="tok-o">-</span><span class="tok-mi">1</span><span class="tok-p">:</span>          <i class="conum" data-value="3"></i><b>(3)</b>
    <span class="tok-n">num</span> <span class="tok-o">=</span> <span class="tok-nb">int</span><span class="tok-p">(</span><span class="tok-n">s</span><span class="tok-p">[:</span><span class="tok-n">comma</span><span class="tok-p">])</span>    <i class="conum" data-value="4"></i><b>(4)</b>
    <span class="tok-n">total</span> <span class="tok-o">+=</span> <span class="tok-n">num</span>
    <span class="tok-n">count</span> <span class="tok-o">+=</span> <span class="tok-mi">1</span>
    <span class="tok-n">s</span> <span class="tok-o">=</span> <span class="tok-n">s</span><span class="tok-p">[</span><span class="tok-n">comma</span><span class="tok-o">+</span><span class="tok-mi">1</span><span class="tok-p">:]</span>         <i class="conum" data-value="5"></i><b>(5)</b>
    <span class="tok-n">comma</span> <span class="tok-o">=</span> <span class="tok-n">s</span><span class="tok-o">.</span><span class="tok-n">find</span><span class="tok-p">(</span><span class="tok-s1">&#39;,&#39;</span><span class="tok-p">)</span>     <i class="conum" data-value="6"></i><b>(6)</b>

<span class="tok-n">avg</span> <span class="tok-o">=</span> <span class="tok-n">total</span><span class="tok-o">/</span><span class="tok-n">count</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;Average: &quot;</span><span class="tok-p">,</span> <span class="tok-nb">round</span><span class="tok-p">(</span><span class="tok-n">avg</span><span class="tok-p">,</span> <span class="tok-mi">2</span><span class="tok-p">))</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>To hold the running total of the numbers.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Keep a count of the integers entered.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Keep processing the list of numbers until there are no more commas.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Extract the leading number in the list, add it to <code>total</code>, and increment <code>count</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Delete the leading number in the list.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Get the location of the next comma.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>There is actually a subtle bug in the code above; a classic off-by-one error. There are no syntax errors and the code doesn&#8217;t necessarily crash (more on that later) but it does produce an incorrect result. For example, if we enter <code>23,19,46,57</code> we get an average of <code>29.33</code>. Recall the answer should be <code>36.25</code>.</p>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Find and fix the bug in the above code.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>The problem is that we skip the last number. For example, if we have the original list
<code>23,19,46,57</code> eventually the list becomes <code>57</code> after line 12. There are no more commas in the list
so on line 13 <code>comma</code> becomes <code>-1</code> and when we go back to check the loop condition the loop will quit having not processed the <code>57</code>. An easy fix is to realize that after the loop terminates <code>s</code> now contains the final number in the list. Add it to <code>total</code>, and don&#8217;t forget to increment <code>count</code>.  The code after the loop becomes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">total</span> <span class="tok-o">=</span> <span class="tok-n">total</span> <span class="tok-o">+</span> <span class="tok-nb">int</span><span class="tok-p">(</span><span class="tok-n">s</span><span class="tok-p">)</span>   <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-n">count</span> <span class="tok-o">+=</span> <span class="tok-mi">1</span>           <i class="conum" data-value="2"></i><b>(2)</b>
<span class="tok-n">avg</span> <span class="tok-o">=</span> <span class="tok-n">total</span><span class="tok-o">/</span><span class="tok-n">count</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;Average: &quot;</span><span class="tok-p">,</span> <span class="tok-nb">round</span><span class="tok-p">(</span><span class="tok-n">avg</span><span class="tok-p">,</span> <span class="tok-mi">2</span><span class="tok-p">))</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Add the final number to <code>total</code>. COuld we have used <code>num</code> here and not <code>s</code>? No. Why?</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>And increment <code>count</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>One more thing to check is to make sure the code works if we only have a single number to start with. This was also a problem before we fixed the bug, but now works.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_error_checking"><a class="anchor" href="#_error_checking"></a>11.1.5. Error Checking</h4>
<div class="paragraph">
<p>The term <em>hacker</em> used to be a badge of honor. It just meant you were a sharp programmer. The term now has a negative connotation and usually refers to someone using there technical skills unethically and possibly illegally. Hackers either break into systems to steal information, plant virus' or cause an organization&#8217;s software systems to crash.</p>
</div>
<div class="paragraph">
<p>We will talk a little bit about breaking in to systems when we discuss cryptography so lets talk about possibly causing software to crash. One way to try and cause a software system to crash is to enter bogus data in the input. We have all seen this before when we enter data into a web form. If we forget to enter a zip code in our address then the system will generally not let us proceed. Up until we know we haven&#8217;t talked about checking the input data for errors, or <em>error checking</em>, but it is worth a cursory discussion.</p>
</div>
<div class="paragraph">
<p>Lets look at our above example of computing the average of a list of numbers. What if instead of a list of numbers we entered an ill-formed line such as <code>rumpelstiltskin</code>, or <code>23,16,fred,11</code>. We get a run-time error (what I have also been calling a <em>crash</em>).</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ValueError: invalid literal for int() with base 10: 'rumpelstiltskin'</pre>
</div>
</div>
<div class="paragraph">
<p>This makes sense, Python does not know how to convert <code>rumpelstiltskin</code> to an integer. I&#8217;d be worried if it did. Error checking is a little too advanced for us to cover now, but real software systems have to always check inputs for erroneous data to keep a system from crashing. In this case it would entail adding code to check and make sure that the user really entered a well formed list of integers separated by commas. If there was a problem the program could exit gracefully or the program could keep asking until the user entered something valid.</p>
</div>
</div>
<div class="sect3">
<h4 id="_example_word_scramble"><a class="anchor" href="#_example_word_scramble"></a>11.1.6. Example: Word scramble</h4>
<div class="paragraph">
<p>Lets say we were implementing a word scramble game where we present the user with an <em>anagram</em> and ask them to to try and guess the word.  For now we will hard code the word they are trying to guess in the game.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An <em>anagram</em> is a rearrangement of the characters in a word.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Like always, lets break this up in to subproblems. Lets write a function <code>scramble</code> that takes a string and returns a random anagram of that string. For example <code>scramble('python')</code> might return <code>'hotpyn'</code> or <code>toyhpn</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
What are the chances that <code>scramble</code> will return the original word? Well for <code>python</code> there
are six distinct characters and the first character in the scrambled word could be any of the 6. The second character could be any of the remaining 5. The third character any of the remaining 4, etc. This gives us \(6\cdot5\cdot4\cdot3\cdot2\cdot1 = 720\) different possibilities for the word <code>python</code>. In general if a word has \(n\) distinct characters then there are at least \(n\) <em>factorial</em> (denoted as \(n!\)) permutations of the characters in the word. So the probability is \(1/n!\).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>We repeatedly pick a random character from the word, and append the character to our scrambled word. We also need to be careful that we delete the chosen character from the word so we don&#8217;t choose it again. So something like, the following process. Assume our word is in a string <code>word</code> and our new scrambled word is being constructed in a variable <code>tmp</code>. Lets also assume the a variable <code>i</code> contains a random index into <code>word</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code>word    i    tmp
-----   -    ---
python  5    n          <i class="conum" data-value="1"></i><b>(1)</b>
pytho   3    nh
pyto    0    nhp
yto     1    nhpt
yo      1    nhpto
y       0    nhptoy
                        <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>tmp</code> initially starts out as the empty string.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>At this point the <code>len(word)</code> is 0 so the loop terminates.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Here is the function <code>scramble</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6
7
8
9</div></td><td class="code"><span></span><span class="tok-k">def</span> <span class="tok-nf">scramble</span><span class="tok-p">(</span><span class="tok-n">word</span><span class="tok-p">):</span>
    <span class="tok-n">tmp</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;&#39;</span>

    <span class="tok-k">while</span> <span class="tok-nb">len</span><span class="tok-p">(</span><span class="tok-n">word</span><span class="tok-p">)</span> <span class="tok-o">&gt;</span> <span class="tok-mi">0</span><span class="tok-p">:</span>
        <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-nb">len</span><span class="tok-p">(</span><span class="tok-n">word</span><span class="tok-p">))</span> <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="tok-n">tmp</span> <span class="tok-o">+=</span> <span class="tok-n">word</span><span class="tok-p">[</span><span class="tok-n">i</span><span class="tok-p">]</span>                  <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="tok-n">word</span> <span class="tok-o">=</span> <span class="tok-n">word</span><span class="tok-p">[:</span><span class="tok-n">i</span><span class="tok-p">]</span> <span class="tok-o">+</span> <span class="tok-n">word</span><span class="tok-p">[</span><span class="tok-n">i</span><span class="tok-o">+</span><span class="tok-mi">1</span><span class="tok-p">:]</span>    <i class="conum" data-value="3"></i><b>(3)</b>

    <span class="tok-k">return</span> <span class="tok-n">tmp</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Choose a random index into the word.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Concatenate the character at that index into our temporary string <code>tmp</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Deletes the character at index <code>i</code> by rebuilding the word with all of the characters before index <code>i</code> (<code>word[:i]</code>) concatenated with all of the characters after index <code>i</code> (<code>word[i+1:]</code>).</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Putting it all together we have:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6
7
8
9</div></td><td class="code"><span></span><span class="tok-n">word</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;python&#39;</span>               <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-n">anagram</span> <span class="tok-o">=</span> <span class="tok-n">scramble</span><span class="tok-p">(</span><span class="tok-n">word</span><span class="tok-p">)</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">anagram</span><span class="tok-p">)</span>
<span class="tok-n">guess</span> <span class="tok-o">=</span> <span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s1">&#39;Enter word: &#39;</span><span class="tok-p">)</span>

<span class="tok-k">if</span> <span class="tok-n">guess</span> <span class="tok-o">==</span> <span class="tok-n">word</span><span class="tok-p">:</span>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;Correct&quot;</span><span class="tok-p">)</span>
<span class="tok-k">else</span><span class="tok-p">:</span>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;Incorrect. The word is&quot;</span><span class="tok-p">,</span> <span class="tok-s1">&#39;&quot;&#39;</span> <span class="tok-o">+</span> <span class="tok-n">word</span> <span class="tok-o">+</span> <span class="tok-s1">&#39;&quot;&#39;</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Okay, it is a little silly to have a word scramble game with one word. We will fix that next.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_files"><a class="anchor" href="#_files"></a>11.2. Files</h3>
<div class="paragraph">
<p>Up until now all of the input to our programs has come from the command line. It is common though that data come from a separate text file.  Revisiting our word scramble game, lets assume we have a text file of words, one word per line, and the file is named <code>words.txt</code>. We will keep it relatively short for now, but files can be enormous and could have hundreds of thousands of lines it.</p>
</div>
<div class="listingblock">
<div class="title"><a href="python/words.txt"><code>words.txt</code></a></div>
<div class="content">
<pre class="pygments highlight"><code>apple
banana
interpreter
racoon
zombie
example
incorrect</code></pre>
</div>
</div>
<div class="paragraph">
<p>The first thing to know is that every line ends with a special character that you cannot see called the end-of-line character a.k.a. <em>newline</em> character. We often call spaces, tabs, and newline characters <em>whitespace</em> characters.  In most programming languages the newline character is written <code>\n</code>.</p>
</div>
<div class="paragraph">
<p>We tell Python the name of a file we want to read using the <a href="https://docs.python.org/3.6/library/functions.html#open"><code>open</code></a> function.<sup class="footnote">[<a id="_footnoteref_31" class="footnote" href="#_footnotedef_31" title="View footnote.">31</a>]</sup></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">f</span> <span class="tok-o">=</span> <span class="tok-nb">open</span><span class="tok-p">(</span><span class="tok-s1">&#39;words.txt&#39;</span><span class="tok-p">)</span> <i class="conum" data-value="1"></i><b>(1)</b>

<span class="tok-c1"># process the file</span>

<span class="tok-n">f</span><span class="tok-o">.</span><span class="tok-n">close</span><span class="tok-p">()</span>             <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>If <code>words.txt</code> doesn&#8217;t exist then you will get an error indicating that the file was not found.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>After we are done with the file it is a good practice to close the file by calling the function <code>close</code> on the file object returned from <code>open</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Function <code>open</code> takes a string as an argument that is the filename to be opened and it returns a reference to a file object. In this case being assigned to the variable <code>f</code> (like always we could have used any variable name here).</p>
</div>
<div class="paragraph">
<p>There are various ways we can read the data in a file, probably the most straightforward is to read it line-by-line using a <code>for</code>-loop.  Recall that in a <code>for</code>-loop we need a variable that represents a <em>sequence type</em>, and it turns out a file object is such a type. For instance,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2</div></td><td class="code"><span></span><span class="tok-k">for</span> <span class="tok-n">line</span> <span class="tok-ow">in</span> <span class="tok-n">f</span><span class="tok-p">:</span> <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">line</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>f</code> should be the variable from the call to <code>open</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This will read and print each line in the file to console. But the output is not what you might expect for <code>words.txt</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code>apple

banana

interpreter

raccoon

zombie

example

incorrect</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Why is there a blank line between each word?</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>Recall that every time <code>print</code> is called the last character printed is a newline character <code>\n</code>. But also recall that there is a new line character after every word in the file. So we end up printing two newline characters.</p>
</div>
<div class="paragraph">
<p>We can fix this in two ways. The first way is to slice off the last character in the line (the newline character) before we print it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-k">for</span> <span class="tok-n">line</span> <span class="tok-ow">in</span> <span class="tok-n">f</span><span class="tok-p">:</span>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">line</span><span class="tok-p">[:</span><span class="tok-nb">len</span><span class="tok-p">(</span><span class="tok-n">line</span><span class="tok-p">)</span><span class="tok-o">-</span><span class="tok-mi">1</span><span class="tok-p">])</span> <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Why <code>len(line)-1</code> instead of <code>len(line)</code>?</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Or we can tell the print function to suppress printing a newline character using a <em>named parameter</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-k">for</span> <span class="tok-n">line</span> <span class="tok-ow">in</span> <span class="tok-n">f</span><span class="tok-p">:</span>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">line</span><span class="tok-p">,</span> <span class="tok-n">end</span><span class="tok-o">=</span><span class="tok-s1">&#39;&#39;</span><span class="tok-p">)</span> <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Instead of printing a newline character print the empty string. The documentation for <a href="https://docs.python.org/3.6/library/functions.html#print"><code>print</code></a> is a little complicated.<sup class="footnote">[<a id="_footnoteref_32" class="footnote" href="#_footnotedef_32" title="View footnote.">32</a>]</sup></td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_counting_the_lines_in_a_file"><a class="anchor" href="#_counting_the_lines_in_a_file"></a>11.2.1. Counting the lines in a file</h4>
<div class="paragraph">
<p>How can we count the lines in a file?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6
7
8</div></td><td class="code"><span></span><span class="tok-n">f</span> <span class="tok-o">=</span> <span class="tok-nb">open</span><span class="tok-p">(</span><span class="tok-s1">&#39;words.txt&#39;</span><span class="tok-p">)</span>

<span class="tok-n">count</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>
<span class="tok-k">for</span> <span class="tok-n">line</span> <span class="tok-ow">in</span> <span class="tok-n">f</span><span class="tok-p">:</span>         <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-n">count</span> <span class="tok-o">+=</span> <span class="tok-mi">1</span>

<span class="tok-n">f</span><span class="tok-o">.</span><span class="tok-n">close</span><span class="tok-p">()</span>              <i class="conum" data-value="2"></i><b>(2)</b>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;words.txt has&quot;</span><span class="tok-p">,</span> <span class="tok-n">count</span><span class="tok-p">,</span> <span class="tok-s2">&quot;lines&quot;</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Notice that we are not even using the variable <code>line</code> in the code.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Recall that it is a good practice to close the file when we are done.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Once again, this is probably better provided as a reusable function.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</div></td><td class="code"><span></span><span class="tok-k">def</span> <span class="tok-nf">linecount</span><span class="tok-p">(</span><span class="tok-n">fname</span><span class="tok-p">):</span>
    <span class="tok-n">f</span> <span class="tok-o">=</span> <span class="tok-nb">open</span><span class="tok-p">(</span><span class="tok-n">fname</span><span class="tok-p">)</span>
    <span class="tok-n">count</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>
    <span class="tok-k">for</span> <span class="tok-n">line</span> <span class="tok-ow">in</span> <span class="tok-n">f</span><span class="tok-p">:</span>
        <span class="tok-n">count</span> <span class="tok-o">+=</span> <span class="tok-mi">1</span>
    <span class="tok-n">f</span><span class="tok-o">.</span><span class="tok-n">close</span><span class="tok-p">()</span>
    <span class="tok-k">return</span> <span class="tok-n">count</span>

<span class="tok-c1"># Main program</span>
<span class="tok-n">name</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;words.txt&#39;</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s1">&#39;File&#39;</span><span class="tok-p">,</span> <span class="tok-n">name</span><span class="tok-p">,</span> <span class="tok-s1">&#39;has&#39;</span><span class="tok-p">,</span> <span class="tok-n">linecount</span><span class="tok-p">(</span><span class="tok-n">name</span><span class="tok-p">),</span> <span class="tok-s1">&#39;lines&#39;</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Function <code>linecount</code> takes the name of a file as a parameter and returns the number of lines in that file.</p>
</div>
</div>
<div class="sect3">
<h4 id="_word_scramble_using_a_file"><a class="anchor" href="#_word_scramble_using_a_file"></a>11.2.2. Word Scramble using a file</h4>
<div class="paragraph">
<p>Our previous version of word scamble used a single hard coded word that the user had to guess.  Not very interesting. We can now go through the file of words and let the user play multiple times.</p>
</div>
<div class="listingblock">
<div class="title">Word Scramble</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</div></td><td class="code"><span></span><span class="tok-n">words</span> <span class="tok-o">=</span> <span class="tok-nb">open</span><span class="tok-p">(</span><span class="tok-s1">&#39;words.txt&#39;</span><span class="tok-p">)</span>                                     <i class="conum" data-value="1"></i><b>(1)</b>

<span class="tok-k">for</span> <span class="tok-n">word</span> <span class="tok-ow">in</span> <span class="tok-n">words</span><span class="tok-p">:</span>                                            <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="tok-k">if</span> <span class="tok-n">word</span><span class="tok-p">[</span><span class="tok-nb">len</span><span class="tok-p">(</span><span class="tok-n">word</span><span class="tok-p">)</span><span class="tok-o">-</span><span class="tok-mi">1</span><span class="tok-p">]</span> <span class="tok-o">==</span> <span class="tok-s1">&#39;</span><span class="tok-se">\n</span><span class="tok-s1">&#39;</span><span class="tok-p">:</span>                             <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="tok-n">word</span> <span class="tok-o">=</span> <span class="tok-n">word</span><span class="tok-p">[:</span><span class="tok-nb">len</span><span class="tok-p">(</span><span class="tok-n">word</span><span class="tok-p">)</span><span class="tok-o">-</span><span class="tok-mi">1</span><span class="tok-p">]</span>
    <span class="tok-n">anagram</span> <span class="tok-o">=</span> <span class="tok-n">scramble</span><span class="tok-p">(</span><span class="tok-n">word</span><span class="tok-p">)</span>
    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;What word is this an anagram of?&quot;</span><span class="tok-p">,</span> <span class="tok-n">anagram</span><span class="tok-p">)</span>
    <span class="tok-n">guess</span> <span class="tok-o">=</span> <span class="tok-nb">input</span><span class="tok-p">(</span><span class="tok-s1">&#39;Enter word: &#39;</span><span class="tok-p">)</span>

    <span class="tok-k">if</span> <span class="tok-n">guess</span> <span class="tok-o">==</span> <span class="tok-n">word</span><span class="tok-p">:</span>
        <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;Correct&quot;</span><span class="tok-p">)</span>
    <span class="tok-k">else</span><span class="tok-p">:</span>
        <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;Incorrect. The word is&quot;</span><span class="tok-p">,</span> <span class="tok-s1">&#39;&quot;&#39;</span> <span class="tok-o">+</span> <span class="tok-n">word</span> <span class="tok-o">+</span> <span class="tok-s1">&#39;&quot;&#39;</span><span class="tok-p">)</span>
		<span class="tok-k">break</span>                                                 <i class="conum" data-value="4"></i><b>(4)</b>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The variable that refers to the file object does not have to be named <code>f</code>, in this case we are calling it <code>words</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>And the <code>for</code>-loop variable does not have to be named <code>line</code>, in this case <code>word</code> makes sense.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>This is a little tricky. We need to remove the end of line character <code>'\n'</code>, but the last line in the file doesn&#8217;t have an end-of-line character but an <em>end of file</em> character.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The <code>break</code> statement causes the <code>for</code>-loop to terminate. More specifically it breaks out of the <em>innermost</em> enclosing <code>for</code> or <code>while</code> loop.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_example_bioinformatics"><a class="anchor" href="#_example_bioinformatics"></a>11.3. Example: Bioinformatics</h3>
<div class="paragraph">
<p>DNA, <em>Deoxyribonucleic Acid</em>, is a molecule that caries the genetic information of all living organisms. DNA has a helical structure famously described by Watson and Crick.<sup class="footnote">[<a id="_footnoteref_33" class="footnote" href="#_footnotedef_33" title="View footnote.">33</a>]</sup></p>
</div>
<div class="paragraph">
<div class="title">Double Helix Structure of DNA.<sup class="footnote">[<a id="_footnoteref_34" class="footnote" href="#_footnotedef_34" title="View footnote.">34</a>]</sup></div>
<p><span class="image"><img src="./images/double_helix.png" alt="double helix" width="300"></span></p>
</div>
<div class="paragraph">
<p>DNA in one respect can be consider a <em>digital code</em> because a DNA strand can be abstractly represented as a string of characters <code>a</code>, <code>c</code>, <code>g</code>, and <code>t</code>. These stand for the nucleotides (sometimes called <em>base pairs</em>) <em>adenine</em>, <em>cytosine</em>, <em>guanine</em>, and <em>thymine</em> respectively. For example the start of the DNA sequence for the <em>Escherichia coli</em> (abbreviated <em>E. coli</em>) bacteria is</p>
</div>
<div class="literalblock">
<div class="title"><a href="python/ecoli.txt"><em>E. coli</em></a></div>
<div class="content">
<pre>agcttttcattctgactgcaacgggcaatatgtctctgtgtggattaaaaaaagagtg ...</pre>
</div>
</div>
<div class="paragraph">
<p>It doesn&#8217;t look like this means much but this sequence of nucleotides means something to a molecular biologist and can be analyzed using a computer. Not surprisingly programs on strings play an important part of this analysis.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Bioinformatics is the computational branch of molucular biology.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>We can start with a simple example. One quick question we could answer are some basic statistics about the sequence. How many occurrences of each nucleotide are there? What are the relative frequencies of the nucleotides in <em>E. coli</em> as a percentage?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</div></td><td class="code"><span></span><span class="tok-n">ecoli</span> <span class="tok-o">=</span> <span class="tok-nb">open</span><span class="tok-p">(</span><span class="tok-s2">&quot;ecoli.txt&quot;</span><span class="tok-p">)</span>            <i class="conum" data-value="1"></i><b>(1)</b>

<span class="tok-n">a_count</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>
<span class="tok-n">c_count</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>
<span class="tok-n">g_count</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>
<span class="tok-n">t_count</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>

<span class="tok-k">for</span> <span class="tok-n">line</span> <span class="tok-ow">in</span> <span class="tok-n">ecoli</span><span class="tok-p">:</span>                   <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="tok-k">for</span> <span class="tok-n">bp</span> <span class="tok-ow">in</span> <span class="tok-n">line</span><span class="tok-p">:</span>
        <span class="tok-k">if</span> <span class="tok-n">bp</span> <span class="tok-o">==</span> <span class="tok-s1">&#39;a&#39;</span><span class="tok-p">:</span>                <i class="conum" data-value="3"></i><b>(3)</b>
            <span class="tok-n">a_count</span> <span class="tok-o">+=</span> <span class="tok-mi">1</span>
        <span class="tok-k">elif</span> <span class="tok-n">bp</span> <span class="tok-o">==</span> <span class="tok-s1">&#39;c&#39;</span><span class="tok-p">:</span>
            <span class="tok-n">c_count</span> <span class="tok-o">+=</span> <span class="tok-mi">1</span>
        <span class="tok-k">elif</span> <span class="tok-n">bp</span> <span class="tok-o">==</span> <span class="tok-s1">&#39;g&#39;</span><span class="tok-p">:</span>
            <span class="tok-n">g_count</span> <span class="tok-o">+=</span> <span class="tok-mi">1</span>
        <span class="tok-k">elif</span> <span class="tok-n">bp</span> <span class="tok-o">==</span> <span class="tok-s1">&#39;t&#39;</span><span class="tok-p">:</span>
            <span class="tok-n">t_count</span> <span class="tok-o">+=</span> <span class="tok-mi">1</span>

<span class="tok-n">total</span> <span class="tok-o">=</span> <span class="tok-n">a_count</span> <span class="tok-o">+</span> <span class="tok-n">c_count</span> <span class="tok-o">+</span> <span class="tok-n">g_count</span> <span class="tok-o">+</span> <span class="tok-n">t_count</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s1">&#39;length:&#39;</span><span class="tok-p">,</span> <span class="tok-n">total</span><span class="tok-p">)</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s1">&#39;a: &#39;</span><span class="tok-p">,</span> <span class="tok-n">a_count</span><span class="tok-p">,</span> <span class="tok-s1">&#39;, &#39;</span><span class="tok-p">,</span> <span class="tok-nb">round</span><span class="tok-p">(</span><span class="tok-n">a_count</span><span class="tok-o">/</span><span class="tok-n">total</span> <span class="tok-o">*</span> <span class="tok-mi">100</span><span class="tok-p">,</span> <span class="tok-mi">1</span><span class="tok-p">),</span> <span class="tok-s1">&#39;%&#39;</span><span class="tok-p">,</span> <span class="tok-n">sep</span><span class="tok-o">=</span><span class="tok-s1">&#39;&#39;</span><span class="tok-p">)</span> <i class="conum" data-value="4"></i><b>(4)</b>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s1">&#39;c: &#39;</span><span class="tok-p">,</span> <span class="tok-n">c_count</span><span class="tok-p">,</span> <span class="tok-s1">&#39;, &#39;</span><span class="tok-p">,</span> <span class="tok-nb">round</span><span class="tok-p">(</span><span class="tok-n">c_count</span><span class="tok-o">/</span><span class="tok-n">total</span> <span class="tok-o">*</span> <span class="tok-mi">100</span><span class="tok-p">,</span> <span class="tok-mi">1</span><span class="tok-p">),</span> <span class="tok-s1">&#39;%&#39;</span><span class="tok-p">,</span> <span class="tok-n">sep</span><span class="tok-o">=</span><span class="tok-s1">&#39;&#39;</span><span class="tok-p">)</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s1">&#39;g: &#39;</span><span class="tok-p">,</span> <span class="tok-n">g_count</span><span class="tok-p">,</span> <span class="tok-s1">&#39;, &#39;</span><span class="tok-p">,</span> <span class="tok-nb">round</span><span class="tok-p">(</span><span class="tok-n">g_count</span><span class="tok-o">/</span><span class="tok-n">total</span> <span class="tok-o">*</span> <span class="tok-mi">100</span><span class="tok-p">,</span> <span class="tok-mi">1</span><span class="tok-p">),</span> <span class="tok-s1">&#39;%&#39;</span><span class="tok-p">,</span> <span class="tok-n">sep</span><span class="tok-o">=</span><span class="tok-s1">&#39;&#39;</span><span class="tok-p">)</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s1">&#39;t: &#39;</span><span class="tok-p">,</span> <span class="tok-n">t_count</span><span class="tok-p">,</span> <span class="tok-s1">&#39;, &#39;</span><span class="tok-p">,</span> <span class="tok-nb">round</span><span class="tok-p">(</span><span class="tok-n">t_count</span><span class="tok-o">/</span><span class="tok-n">total</span> <span class="tok-o">*</span> <span class="tok-mi">100</span><span class="tok-p">,</span> <span class="tok-mi">1</span><span class="tok-p">),</span> <span class="tok-s1">&#39;%&#39;</span><span class="tok-p">,</span> <span class="tok-n">sep</span><span class="tok-o">=</span><span class="tok-s1">&#39;&#39;</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Download this file by clicking on the link above in the sequence.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>For each line in the file. (It turns out there is only one in this example.)</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Count the base pairs in the current line.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>We are controlling the spaces in the line manually by indicating that the separator should be the empty string. That is don&#8217;t print a space after the comma separated items in the <code>print</code> statement.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>After we execute the program we get the following results.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code>length: 4638690
a: 1142069, 24.6%
c: 1179222, 25.4%
g: 1176575, 25.4%
t: 1140824, 24.6%</code></pre>
</div>
</div>
<div class="paragraph">
<p>A few points.  The number of base pairs in the sequence is approximately 4.6 million \(4.6 \times 10^6\). The computer was able to process a huge string quickly, in under a second. The second thing to notice is that it looks like there is a relationship in the relative frequencies of base pairs. For <em>E. coli</em> if we round these values then each base pair is about 25% of the total. Notice that <code>c</code> and <code>g</code> are both 25.4% and <code>a</code> and <code>t</code> are the same at 24.6%. This might indicate that there is some special relationship between <code>a/t</code> and <code>c/g</code>. Indeed there is.  If we had this sequence but we did not know that it came from <em>E. coli</em> we could use <em>GC Content</em> to help narrow down the organism a DNA sequence comes from.  For example it is known that the GC Content of <em>E. Coli</em> is 50.7% and that of humans is 41%.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<em>GC Content</em> is the ratio of the number <code>g</code> and <code>c</code> base pairs to the total number of pase pairs. GC Content is \((g + c)/(a + c + g + t)\)
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>GC Content is a simple example of how strings are used to analyze DNA.  Many of the algorithms used in bioinformatics are too advanced to describe in an introductory course.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<em>Genomics</em> is the branch of bioinformatics that uses string algorithms to study DNA (and RNA) sequences.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_searching_a_dna_sequence"><a class="anchor" href="#_searching_a_dna_sequence"></a>11.3.1. Searching a DNA Sequence</h4>
<div class="paragraph">
<p>The <em>central dogma</em> describes how DNA is converted to RNA to make proteins. A <em>gene</em> is a special region (or substring) of a DNA sequence that forms a basic unit of heredity. DNA sequences contain genes and are sometimes referred to a <em>protein-coding</em> genes. A <em>codon</em> is three consective base-pairs such as <code>GCA</code> or <code>AAT</code>. Protein coding genes obey the following constraints.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start with the codon <code>ATG</code>, (sometimes called a <em>start codon</em>).</p>
</li>
<li>
<p>End with one of the <em>stop codons</em> <code>TAA</code>, <code>TAG</code>, or <code>TGA</code>.</p>
</li>
<li>
<p>The number of base-pairs (nucleotides) between the start and stop codons must be a multiple of three.</p>
</li>
<li>
<p>None of the intervening codons is one of the stop codons.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>For example the sequence <span class="mono">ac<mark>atgcattggagctga</mark>acca</span> contains a potential gene (highlighted) while the sequence <span class="mono">ac<mark>atagttggagctga</mark>acca</span> is not. The reason is that starting at index three we have <code>ata</code> and not <code>atg</code>.</p>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Verify that the first highlighted region above matches the criteria for a potential gene.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>The highlighted region starts with the codon <code>atg</code>, the start codon. It ends with one of the stop codons <code>tga</code>. The region between the start and stop codons is <code>cattggagc</code>, which has nine base-pairs, a multiple of three.  Since the gene must also start with a <code>atg</code> and end with a stop-codon that has three base-pairs, the length of the entire sequence must also be a multiple of three.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Lets write a program to find all of the <em>potential</em> genes in the <em>E.coli</em> bacteria. The program should
print the starting location and the ending location of each potential gene location. For example the
digram below shows that the first possible gene location starts at location 29 and ends at location 95.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./images/gene.png" alt="gene">
</div>
</div>
<div class="paragraph">
<p>The yellow highlights are the start and stop codons. To get the started we can find the location of the first occurrence of the start codon <code>atg</code> and then keep looking for one of the stop codons every three base-pairs after the start codon, stopping as soon as we find one.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</div></td><td class="code"><span></span><span class="tok-n">f</span> <span class="tok-o">=</span> <span class="tok-nb">open</span><span class="tok-p">(</span><span class="tok-s1">&#39;ecoli.txt&#39;</span><span class="tok-p">)</span>
<span class="tok-n">dna</span> <span class="tok-o">=</span> <span class="tok-n">f</span><span class="tok-o">.</span><span class="tok-n">readline</span><span class="tok-p">()</span>
<span class="tok-n">start</span> <span class="tok-o">=</span> <span class="tok-n">dna</span><span class="tok-o">.</span><span class="tok-n">find</span><span class="tok-p">(</span><span class="tok-s1">&#39;atg&#39;</span><span class="tok-p">)</span>                               <i class="conum" data-value="1"></i><b>(1)</b>

<span class="tok-k">if</span> <span class="tok-n">start</span> <span class="tok-o">&gt;</span> <span class="tok-o">-</span><span class="tok-mi">1</span><span class="tok-p">:</span>                                        <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="tok-k">for</span> <span class="tok-n">i</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-n">start</span><span class="tok-o">+</span><span class="tok-mi">3</span><span class="tok-p">,</span> <span class="tok-nb">len</span><span class="tok-p">(</span><span class="tok-n">dna</span><span class="tok-p">)</span><span class="tok-o">-</span><span class="tok-mi">3</span><span class="tok-p">,</span> <span class="tok-mi">3</span><span class="tok-p">):</span>           <i class="conum" data-value="3"></i><b>(3)</b>
	    <span class="tok-k">if</span> <span class="tok-n">dna</span><span class="tok-p">[</span><span class="tok-n">i</span><span class="tok-p">:</span><span class="tok-n">i</span><span class="tok-o">+</span><span class="tok-mi">3</span><span class="tok-p">]</span> <span class="tok-ow">in</span> <span class="tok-p">[</span><span class="tok-s1">&#39;taa&#39;</span><span class="tok-p">,</span> <span class="tok-s1">&#39;tag&#39;</span><span class="tok-p">,</span> <span class="tok-s1">&#39;tga&#39;</span><span class="tok-p">]</span> <span class="tok-ow">and</span> \  <i class="conum" data-value="4"></i><b>(4)</b>
		   <span class="tok-p">(</span><span class="tok-n">i</span> <span class="tok-o">-</span> <span class="tok-n">start</span><span class="tok-p">)</span> <span class="tok-o">%</span> <span class="tok-mi">3</span> <span class="tok-o">==</span> <span class="tok-mi">0</span><span class="tok-p">:</span>                      <i class="conum" data-value="5"></i><b>(5)</b>
		    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">start</span><span class="tok-p">,</span> <span class="tok-n">i</span><span class="tok-p">)</span>
		    <span class="tok-k">break</span>                                     <i class="conum" data-value="6"></i><b>(6)</b>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Find the location of the start codon.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Only look for a stop codon if we found a start codon.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Look for a stop codon starting from <code>start+3</code> being careful not to go off of then end of the DNA string and a potential index out of bounds error.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>This is a nice way to check for the stop codon instead of a complicated logical expression sch as <code>dna[i:i+3] == 'taa' or dna[i:i+3] == 'tag'</code> etc.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Make sure the length of the region is divisible by three.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>As soon as we find a possible gene location stop looking bcause the rule is that there cannot be an intervening stop codon.</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>The above code only finds the first possible gene location. Modify the program to find all of the possible gene locations.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>Rather than use an if-statement to check only the first site we need to keep
iterating until we don&#8217;t find any more start codons.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">f</span> <span class="tok-o">=</span> <span class="tok-nb">open</span><span class="tok-p">(</span><span class="tok-s1">&#39;ecoli.txt&#39;</span><span class="tok-p">)</span>
<span class="tok-n">dna</span> <span class="tok-o">=</span> <span class="tok-n">f</span><span class="tok-o">.</span><span class="tok-n">readline</span><span class="tok-p">()</span>
<span class="tok-n">start</span> <span class="tok-o">=</span> <span class="tok-n">dna</span><span class="tok-o">.</span><span class="tok-n">find</span><span class="tok-p">(</span><span class="tok-s1">&#39;atg&#39;</span><span class="tok-p">)</span>

<span class="tok-k">while</span> <span class="tok-n">start</span> <span class="tok-o">&gt;</span> <span class="tok-o">-</span><span class="tok-mi">1</span><span class="tok-p">:</span>                                     <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-k">for</span> <span class="tok-n">i</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-n">start</span><span class="tok-o">+</span><span class="tok-mi">3</span><span class="tok-p">,</span> <span class="tok-nb">len</span><span class="tok-p">(</span><span class="tok-n">dna</span><span class="tok-p">)</span><span class="tok-o">-</span><span class="tok-mi">3</span><span class="tok-p">,</span> <span class="tok-mi">3</span><span class="tok-p">):</span>
	    <span class="tok-k">if</span> <span class="tok-n">dna</span><span class="tok-p">[</span><span class="tok-n">i</span><span class="tok-p">:</span><span class="tok-n">i</span><span class="tok-o">+</span><span class="tok-mi">3</span><span class="tok-p">]</span> <span class="tok-ow">in</span> <span class="tok-p">[</span><span class="tok-s1">&#39;taa&#39;</span><span class="tok-p">,</span> <span class="tok-s1">&#39;tag&#39;</span><span class="tok-p">,</span> <span class="tok-s1">&#39;tga&#39;</span><span class="tok-p">]</span> <span class="tok-ow">and</span> \
		   <span class="tok-p">(</span><span class="tok-n">i</span> <span class="tok-o">-</span> <span class="tok-n">start</span><span class="tok-p">)</span> <span class="tok-o">%</span> <span class="tok-mi">3</span> <span class="tok-o">==</span> <span class="tok-mi">0</span><span class="tok-p">:</span>
		    <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">start</span><span class="tok-p">,</span> <span class="tok-n">i</span><span class="tok-p">)</span>
		    <span class="tok-k">break</span>
    <span class="tok-n">start</span> <span class="tok-o">=</span> <span class="tok-n">dna</span><span class="tok-o">.</span><span class="tok-n">find</span><span class="tok-p">(</span><span class="tok-s1">&#39;atg&#39;</span><span class="tok-p">,</span><span class="tok-n">start</span><span class="tok-o">+</span><span class="tok-mi">1</span><span class="tok-p">)</span>                   <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Keep looking until we don&#8217;t find any more start codons.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Look for the next start codon <em>after</em> the previous start codon.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The sequence of base-pairs between the start and stop codons are called
<em>coding regions</em>. The sequence of base-pairs not part of a coding region are called, <em>non-coding regions</em>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_example_files_of_numbers"><a class="anchor" href="#_example_files_of_numbers"></a>11.4. Example: Files of numbers</h3>
<div class="paragraph">
<p>Often we have files of numbers that we need to process in some way. Lets say we had
a file of integers that represented grades and we need to compute the average grade. We know that we need to read the file line-by-line adding each grade to a total, and then finally dividing by the total numbers of grades. Since we may not know in advance how many grades
are in the file we will have to keep a count of the number of grades.  We also need to be careful to convert the line read to an integer</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</div></td><td class="code"><span></span><span class="tok-n">f</span> <span class="tok-o">=</span> <span class="tok-nb">open</span><span class="tok-p">(</span><span class="tok-s2">&quot;grades.txt&quot;</span><span class="tok-p">)</span>

<span class="tok-n">total</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>
<span class="tok-n">count</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>

<span class="tok-k">for</span> <span class="tok-n">grade</span> <span class="tok-ow">in</span> <span class="tok-n">f</span><span class="tok-p">:</span>
    <span class="tok-n">total</span> <span class="tok-o">+=</span> <span class="tok-nb">int</span><span class="tok-p">(</span><span class="tok-n">grade</span><span class="tok-p">)</span> <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-n">count</span> <span class="tok-o">+=</span> <span class="tok-mi">1</span>

<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;The average is&quot;</span><span class="tok-p">,</span> <span class="tok-nb">round</span><span class="tok-p">(</span><span class="tok-n">total</span><span class="tok-o">/</span><span class="tok-n">count</span><span class="tok-p">,</span> <span class="tok-mi">1</span><span class="tok-p">))</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Make sure to convert the string read from the file to an integer.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_exercises_10"><a class="anchor" href="#_exercises_10"></a>11.5. Exercises</h3>

</div>
<div class="sect2">
<h3 id="_terminology_11"><a class="anchor" href="#_terminology_11"></a>11.6. Terminology</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 18. Terminology</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>index</p>
</li>
<li>
<p>palindrome</p>
</li>
<li>
<p>slice</p>
</li>
<li>
<p>factorial</p>
</li>
<li>
<p>whitespace</p>
</li>
<li>
<p>start codon</p>
</li>
<li>
<p>stop codon</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>byte</p>
</li>
<li>
<p>concatenate</p>
</li>
<li>
<p>substring</p>
</li>
<li>
<p>anagram</p>
</li>
<li>
<p>newline</p>
</li>
<li>
<p>bioinformatics</p>
</li>
<li>
<p>gene</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_cryptography"><a class="anchor" href="#_cryptography"></a>12. Cryptography</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Cryptography is the science and related mathematics of sending messages from a sender to a receiver
<em>securely</em> such that someone listening in (an evesdropper) cannot understand the message.
In real cryptographic systems, like that implemented in web browsers (when you navigate to a secure web site such as your bank), or that found in secure messaging apps (such as WhatsApp), requires some advanced mathematics and sophisticated computer science that is beyond an introductory course. But with
some basic concepts we can go a long way to understand some of the fundamentals, terminology, and concepts of how messages can be transmitted secretly.  In fact we will study one cryptographic system that is known to be completely secure and is relatively easy to understand and implement.
some basic concepts we can go a long way to understand some of the fundamentals, terminology, and concepts of how messages can be transmitted secretly.  In fact we will study one cryptographic system that is known to be completely secure and is relatively easy to understand and implement.</p>
</div>
<div class="paragraph">
<p>In cryptography we always use three actors. Alice and Bob are trying to communicate in secret with Eve the evesdropper listening in. The framework is outlined in the figure below.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./images/alice_eve_bob.png" alt="alice eve bob">
</div>
<div class="title">Figure 32. Cryptography</div>
</div>
<div class="paragraph">
<p>Alice (the sender) <em>encrypts</em> the message <em>attack at dawn</em> using a special key (similar to a password) to Bob (the receiver) without Eve being able to intercept the message and understand it.  Bob <em>decrypts</em> the encrypted cleartext (the <em>ciphertext</em>) using the very same key. This implies that Alice and Bob had to get together first to agree on a key.</p>
</div>
<div class="sect2">
<h3 id="_the_caesar_cipher"><a class="anchor" href="#_the_caesar_cipher"></a>12.1. The Caesar cipher</h3>
<div class="paragraph">
<p>The first cryptosystem we will study is really silly, and is easy to break. However, there are some good ideas in this system that we can use later to make a more secure cryptosystem.  For simplicity, assume that we are communicating using lower case characters from the Latin alphabet (<em>i.e.,</em> a-z). We can relax those conditions later. The idea of the Caesar cipher is that for each character in the plaintext we <em>shift</em> the character some distance down the alphabet. For example, if we used a shift of three, then an <code>a</code> in the plaintext would turn into a <code>d</code>. A <code>b</code> would become an <code>e</code>, etc., and a <code>w</code> becomes <code>z</code>. What about <code>x</code>, <code>y</code>, and <code>z</code>? These wrap around to <code>a</code>, <code>b</code>, and <code>c</code>. If we index each character in the alphabet by its position then shifting a character amounts to adding the position of the character to the shift mod 26.</p>
</div>
<div class="paragraph">
<p>Why 26? Well, 26 is the number of characters in our alphabet.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>a  b  c  d  e  f  g  h  i  j  k  l  m  n  o  p  q  r  s  t  u  v  w  x  y  z
0  1  2  3  4  5  6  7  8  9  10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25</pre>
</div>
</div>
<div class="paragraph">
<p>For example, to encrypt <em>attack</em> by a shift of ten we take the position of <code>a</code>, which is 0 and add 10 mod 26 = 10. The tenth letter of the alphabet is <code>k</code>.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 60%;">
<caption class="title">Table 19. Encrypting <em>"attack"</em> with a shift of ten.</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 50%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Plaintext</th>
<th class="tableblock halign-left valign-top"><em>i</em></th>
<th class="tableblock halign-left valign-top"><code>(i + 10) % 26</code></th>
<th class="tableblock halign-left valign-top">Ciphertext</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>(0 + 10) % 26 = 10</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>k</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>(19 + 10) % 26 = 3</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>d</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>(19 + 10) % 26 = 3</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>d</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>(0 + 10) % 26 = 10</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>k</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>c</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>(2 + 10) % 26 = 12</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>m</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>k</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>(10 + 10) % 26 = 20</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>u</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>We can choose the shift in advance by choosing a random number between 1 and 26. In this case the shift is also the <em>key</em> that both Alice and Bob must agree on.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The Caesar cipher is sometimes called the <em>rotation cipher</em> or the <em>shift cipher</em>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The process of decrypting is exactly the same, except rather than add the shift, we subtract the shift.
For example, given the ciphertext <em>"kddkmu"</em> and a shift of ten we compute <code>("k" - 10) % 26 = 0</code>, and <code>0</code> is the position in the alphabet of the letter <code>a</code>.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 60%;">
<caption class="title">Table 20. Decrypting <em>"kddkmu"</em> with a shift of ten.</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 50%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Ciphertext</th>
<th class="tableblock halign-left valign-top"><em>i</em></th>
<th class="tableblock halign-left valign-top"><code>(i - 10) % 26</code></th>
<th class="tableblock halign-left valign-top">Cleartext</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>k</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>(10 - 10) % 26 = 0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>d</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>(3 - 10) % 26 = 19</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>t</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>d</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>(3 - 10) % 26 = 19</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>t</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>k</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>(10 - 10) % 26 = 0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>m</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>(12 - 10) % 26 = 2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>c</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>u</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>(20 - 10) % 26 = 10</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>k</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>One important aspect of this cipher is that Alice and Bob must get together and agree on a private key (the shift) beforehand.</p>
</div>
<div class="paragraph">
<p>To implement the Caesar cipher we need to be able to turn a character into its position in the alphabet. For example, the letter <code>m</code> into <code>12</code>. We also need to be able to perform the inverse operation. Given the position in the alphabet what is the character at that position? For example, turning <code>12</code> back into <code>m</code>.</p>
</div>
<div class="paragraph">
<div class="title">Think About <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>How can you turn a letter into its position in the alphabet?</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>Hint: Set up a variable <code>alphabet</code> initialized to the string <code>"abcd...z"</code>.
What would the following print?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">alphabet</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;abcdefghijklmnopqrstuvwxyz&quot;</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">alphabet</span><span class="tok-o">.</span><span class="tok-n">find</span><span class="tok-p">(</span><span class="tok-s1">&#39;a&#39;</span><span class="tok-p">))</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">alphabet</span><span class="tok-o">.</span><span class="tok-n">find</span><span class="tok-p">(</span><span class="tok-s1">&#39;z&#39;</span><span class="tok-p">))</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">alphabet</span><span class="tok-o">.</span><span class="tok-n">find</span><span class="tok-p">(</span><span class="tok-s1">&#39;m&#39;</span><span class="tok-p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Turning a letter into its position in the alphabet is a matter of calling the
<code>find</code> method on the string object <code>alphabet</code>.</p>
</div>
<div class="listingblock">
<div class="title">Answer</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-mi">0</span>  <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-mi">25</span> <i class="conum" data-value="2"></i><b>(2)</b>
<span class="tok-mi">12</span> <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The position of <code>a</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The position of <code>z</code></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The position of <code>m</code></td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Think About <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>How can you turn an integer from 0 to 25 into the corresponding letter?</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>Hint: What is the opposite of calling <code>find</code>?  What would get printed by the following?</p>
</div>
<div class="listingblock">
<div class="title">Answer</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">alphabet</span><span class="tok-p">[</span><span class="tok-mi">0</span><span class="tok-p">],</span> <span class="tok-n">alphabet</span><span class="tok-p">[</span><span class="tok-mi">25</span><span class="tok-p">],</span> <span class="tok-n">alphabet</span><span class="tok-p">[</span><span class="tok-mi">12</span><span class="tok-p">])</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">alphabet</span><span class="tok-p">[</span><span class="tok-n">alphabet</span><span class="tok-o">.</span><span class="tok-n">find</span><span class="tok-p">(</span><span class="tok-s1">&#39;x&#39;</span><span class="tok-p">)],</span> <span class="tok-n">alphabet</span><span class="tok-o">.</span><span class="tok-n">find</span><span class="tok-p">(</span><span class="tok-n">alphabet</span><span class="tok-p">[</span><span class="tok-mi">23</span><span class="tok-p">]))</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">a</span> <span class="tok-n">z</span> <span class="tok-n">m</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-n">x</span> <span class="tok-mi">23</span>  <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The characters at positions 0, 25, and 12.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Indexing and <code>find</code> are inverses of each other in this case.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>Lets put this all together to implement a function <code>encrypt</code> that takes a cleartext message and a shift and produces a ciphertext as shown in the figure below.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/encrypt.png" alt="encrypt" width="500">
</div>
<div class="title">Figure 33. Function <code>encrypt</code></div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-kn">import</span> <span class="tok-nn">string</span>
<span class="tok-k">def</span> <span class="tok-nf">encrypt</span><span class="tok-p">(</span><span class="tok-n">cleartext</span><span class="tok-p">,</span><span class="tok-n">shift</span><span class="tok-p">):</span>

    <span class="tok-n">alphabet</span> <span class="tok-o">=</span> <span class="tok-n">string</span><span class="tok-o">.</span><span class="tok-n">printable</span>                        <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-n">ciphertext</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;&#39;</span>                                    <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="tok-k">for</span> <span class="tok-n">ch</span> <span class="tok-ow">in</span> <span class="tok-n">cleartext</span><span class="tok-p">:</span>                               <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="tok-n">chpos</span> <span class="tok-o">=</span> <span class="tok-n">alphabet</span><span class="tok-o">.</span><span class="tok-n">find</span><span class="tok-p">(</span><span class="tok-n">ch</span><span class="tok-p">)</span>                      <i class="conum" data-value="4"></i><b>(4)</b>
        <span class="tok-n">cipherpos</span> <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-n">chpos</span> <span class="tok-o">+</span> <span class="tok-n">shift</span><span class="tok-p">)</span> <span class="tok-o">%</span> <span class="tok-nb">len</span><span class="tok-p">(</span><span class="tok-n">alphabet</span><span class="tok-p">)</span>    <i class="conum" data-value="5"></i><b>(5)</b>
        <span class="tok-n">ciphertext</span> <span class="tok-o">+=</span> <span class="tok-n">alphabet</span><span class="tok-p">[</span><span class="tok-n">cipherpos</span><span class="tok-p">]</span>              <i class="conum" data-value="6"></i><b>(6)</b>
    <span class="tok-k">return</span> <span class="tok-n">cipher</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>This is where we make it more general and handle any printable character. Not just lower case <code>a</code> to <code>z</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><code>ciphertext</code> is initially empty.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>For each character in <code>cleartext</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Find the position of the character in the alphabet.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Compute the position of the ciphertext character.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Convert that position into a character.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Calling</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code>print(encrypt("Attack at dawn!", 13))</code></pre>
</div>
</div>
<div class="paragraph">
<p>prints <code>NGGnpx7nG7qnJA.</code> (including the period).</p>
</div>
<div class="paragraph">
<p>How do we write the function <code>decrypt</code>?  Recall that decrypting is just subtracting the shift rather than adding. So the line</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code>cipherpos = (chpos + shift) % len(alphabet)</code></pre>
</div>
</div>
<div class="paragraph">
<p>would change to</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code>cipherpos = (chpos - shift) % len(alphabet)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or, rather than rewrite the entire function, we just notice that we could call encrypt with a negative shift.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code>print(encrypt("NGGnpx7nG7qnJA.", -13))</code></pre>
</div>
</div>
<div class="paragraph">
<p>and we get the original <code>Attack at dawn!</code> message.</p>
</div>
<div class="paragraph">
<p>So what is wrong with the Caesar cipher? Just about everything. But the main problem is that there are only as many different shift possibilities as there are characters in the alphabet, and it would be pretty easy to write a program to try them all.</p>
</div>
</div>
<div class="sect2">
<h3 id="_substitution_cipher"><a class="anchor" href="#_substitution_cipher"></a>12.2. Substitution Cipher</h3>
<div class="paragraph">
<p>Lets try and fix the problem of the limited number of possible keys (shifts) and allow arbitrary mappings from a plaintext character to a ciphertext character.  What if we were to use our <code>scramble</code> function on the alphabet? For example &#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">alphabet</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;abcdefghijklmnopqrstuvwxyz&#39;</span>
<span class="tok-n">key</span> <span class="tok-o">=</span> <span class="tok-n">scramble</span><span class="tok-p">(</span><span class="tok-n">alphabet</span><span class="tok-p">)</span>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">key</span><span class="tok-p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Might print <code>thubrwfzqpcjeovkmsgdxailny</code>. In the <em>substitution cipher</em> an <code>a</code> would map to a <code>t</code> and a <code>b</code> would map to an <code>h</code>, and so on.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>0  1  2  3  4  5  6  7  8  9  10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25
a  b  c  d  e  f  g  h  i  j  k  l  m  n  o  p  q  r  s  t  u  v  w  x  y  z
t  h  u  b  r  w  f  z  q  p  c  j  e  o  v  k  m  s  g  d  x  a  i  l  n  y</pre>
</div>
</div>
<div class="paragraph">
<p>Then to convert from a cleartext character to a ciphertext character it is as straightforward as finding the position of the cleartext character in the alphabet and returning the corresponding ciphertext character at that position. For example, using the key above, the expression <code>key[alphabet.find('h')]</code> would evaluate to the character <code>z</code>.   The inverse operation needed for decrypting is, given a ciphertext character, find the corresponding cleartext character.
This is easy too. The expression <code>alphabet[key.find('z')]</code> would evaluate to <code>h</code>.</p>
</div>
<div class="paragraph">
<p>The function <code>encrypt</code> now takes a cleartext message and a key (i.e., a scrambled alphabet) and returns
the ciphertext. The function <code>decrypt</code> takes a ciphertext message <em>and the same key that was used to generate the ciphertext</em>, and returns the cleartext.</p>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Write the functions <code>encrypt</code> and <code>decrypt</code> for the substitution cipher. Assume you can call the <code>scramble</code> function to generate a key that can be shared between <code>encrypt</code> and <code>decrypt</code>.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>Here is encrypt.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-k">def</span> <span class="tok-nf">encrypt</span><span class="tok-p">(</span><span class="tok-n">cleartext</span><span class="tok-p">,</span> <span class="tok-n">key</span><span class="tok-p">):</span>

    <span class="tok-n">alphabet</span> <span class="tok-o">=</span> <span class="tok-n">string</span><span class="tok-o">.</span><span class="tok-n">printable</span>
    <span class="tok-n">ciphertext</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;&#39;</span>

    <span class="tok-k">for</span> <span class="tok-n">ch</span> <span class="tok-ow">in</span> <span class="tok-n">cleartext</span><span class="tok-p">:</span>
        <span class="tok-n">ciphertext</span> <span class="tok-o">+=</span> <span class="tok-n">key</span><span class="tok-p">[</span><span class="tok-n">alphabet</span><span class="tok-o">.</span><span class="tok-n">find</span><span class="tok-p">(</span><span class="tok-n">ch</span><span class="tok-p">)]</span>

    <span class="tok-k">return</span> <span class="tok-n">ciphertext</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>And here is <code>decrypt</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-k">def</span> <span class="tok-nf">decrypt</span><span class="tok-p">(</span><span class="tok-n">ciphertext</span><span class="tok-p">,</span> <span class="tok-n">key</span><span class="tok-p">):</span>
    <span class="tok-n">alphabet</span> <span class="tok-o">=</span> <span class="tok-n">string</span><span class="tok-o">.</span><span class="tok-n">printable</span>

    <span class="tok-n">cleartext</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;&#39;</span>

    <span class="tok-k">for</span> <span class="tok-n">ch</span> <span class="tok-ow">in</span> <span class="tok-n">ciphertext</span><span class="tok-p">:</span>
        <span class="tok-n">cleartext</span> <span class="tok-o">+=</span> <span class="tok-n">alphabet</span><span class="tok-p">[</span><span class="tok-n">key</span><span class="tok-o">.</span><span class="tok-n">find</span><span class="tok-p">(</span><span class="tok-n">ch</span><span class="tok-p">)]</span>

    <span class="tok-k">return</span> <span class="tok-n">cleartext</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Here is a main program that can be used to test <code>encrypt</code> and <code>decrypt</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-kn">import</span> <span class="tok-nn">string</span>
<span class="tok-n">key</span> <span class="tok-o">=</span> <span class="tok-n">scramble</span><span class="tok-p">(</span><span class="tok-n">string</span><span class="tok-o">.</span><span class="tok-n">printable</span><span class="tok-p">)</span>           <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-n">secret</span> <span class="tok-o">=</span> <span class="tok-n">encrypt</span><span class="tok-p">(</span><span class="tok-s2">&quot;Attack at dawn!&quot;</span><span class="tok-p">,</span> <span class="tok-n">key</span><span class="tok-p">)</span>   <i class="conum" data-value="2"></i><b>(2)</b>
<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">decrypt</span><span class="tok-p">(</span><span class="tok-n">secret</span><span class="tok-p">,</span> <span class="tok-n">key</span><span class="tok-p">))</span>                <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Create the key by scrambling all of the printable characters in python.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Encrypt <em>Attack at dawn!</em>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Verify that what decrypt returns is indeed <em>Attack at dawn!</em>.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>Of course, once again, Alice and Bob must share the secret key, which this time is a little more difficult than sharing an integer shift.  How many possible keys are there? A lot! Lets assume our alphabet is just the 26 lower case characters. The first character of the key can be any one of the 26 characters. The second character of the key can be any one of the 25 remaining characters, and so on. The number of possible keys is then \(26 \cdot 25 \cdot 24 \cdots 3 \cdot 2 \cdot 1 \). In mathematics this is <em>26 factorial</em>, denoted as \(26!\).  This is a very large number.</p>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Write a simple Python program to compute 26 factorial.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="paragraph">
<p>There are lots of ways to do this. Here is one that matches the order of the operations
\(26 \cdot 25 \cdot 24 \cdots 3 \cdot 2 \cdot 1 \)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">prod</span> <span class="tok-o">=</span> <span class="tok-mi">1</span>

<span class="tok-k">for</span> <span class="tok-n">i</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-mi">26</span><span class="tok-p">,</span><span class="tok-mi">0</span><span class="tok-p">,</span><span class="tok-o">-</span><span class="tok-mi">1</span><span class="tok-p">):</span>
    <span class="tok-n">prod</span> <span class="tok-o">=</span> <span class="tok-n">prod</span> <span class="tok-o">*</span> <span class="tok-n">i</span> <i class="conum" data-value="1"></i><b>(1)</b>

<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">prod</span><span class="tok-p">)</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>You could also write <code>prod *= i</code></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Of course, since multiplication is commutative (<em>i.e.</em>, \(a \times b = b \times a\)) we do not have to start at 26 and count down. We could start at 1 and count up to 26.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-n">prod</span> <span class="tok-o">=</span> <span class="tok-mi">1</span>

<span class="tok-k">for</span> <span class="tok-n">i</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">27</span><span class="tok-p">):</span> <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-n">prod</span> <span class="tok-o">=</span> <span class="tok-n">prod</span> <span class="tok-o">*</span> <span class="tok-n">i</span>

<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-n">prod</span><span class="tok-p">)</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>What would happen if our loop header was <code>for i in range(27):</code></td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>Needless to say 26 factorial is <code>403291461126605635584000000</code>. This number is larger than <code>4e26</code>.
Surely the massive number of possible keys must mean that the substitution cipher is impossible
to break? Sadly, no. The substitution cipher is easy to break using a technique called <em>frequency
analysis</em>. To illustrate, let us once again assume we are dealing with the lower case Latin
alphabet and that Eve see&#8217;s the ciphertext <code>hcchtrhclhyu</code>.  With a standard table of letter frequencies  from <a href="https://en.wikipedia.org/wiki/Letter_frequency" class="bare">https://en.wikipedia.org/wiki/Letter_frequency</a> [Wikipedia] and a little patience a cryptanalyst could figure out that <code>hcchtrhclhyu</code> was <code>attackatdawn</code>.   The weakness in the substitution cipher (and the Caesar cipher, as well as many other ciphers) is that letters repeat.</p>
</div>
</div>
<div class="sect2">
<h3 id="_the_one_time_pad_an_unbreakable_cipher"><a class="anchor" href="#_the_one_time_pad_an_unbreakable_cipher"></a>12.3. The One Time Pad - an Unbreakable Cipher</h3>
<div class="paragraph">
<p>The One Time Pad combines the good idea of using addition modulo a random number with the randomness of a string of characters from the substitution cipher. The problem with the substitution cipher was that the key is only 26 characters long (or as long as the alphabet) and letters were reused thereby allowing a cryptanalyst to apply frequency analysis. What if we could generate a random string of characters that is as long as the message being encrypted? This random string of characters is the <em>One Time Pad</em>, which we will call the key. One again, for illustration, we will assume the lower case Latin alphabet.</p>
</div>
<div class="paragraph">
<p>To encrypt a message using a one time pad we line up the cleartext and the key (<em>i.e.</em>, the one time pad) and add the positions of each character modulo 26.  For example, encrypting <code>apple</code> using the one time pad <code>lzksj</code> results in the ciphertext <code>lozdn</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/OTP_encrypt.png" alt="OTP encrypt" width="500">
</div>
<div class="title">Figure 34. One Time Pad Encryption</div>
</div>
<div class="paragraph">
<p>The process of decrypting using a one time pad is exactly the opposite. We line up the ciphertext with the key and then <em>subtract</em> modulo 26. For example, given the ciphertext <code>lozdn</code> we subtract the one time pad <code>lzjsj</code> to get <code>apple</code> back.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/OTP_decrypt.png" alt="OTP decrypt" width="500">
</div>
<div class="title">Figure 35. One Time Pad Decryption</div>
</div>
<div class="paragraph">
<p>The one tricky aspect is to remember how to compute mod using negative numbers. For example, <code>(14 - 25) % 26</code> is equal to <code>-11 % 26</code> which is <code>15</code>.</p>
</div>
<div class="paragraph">
<p>Implementing the <code>encrypt</code> and <code>decrypt</code> functions is straightforward.</p>
</div>
<div class="listingblock">
<div class="title">One Time Pad Encrypt</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-k">def</span> <span class="tok-nf">encrypt</span><span class="tok-p">(</span><span class="tok-n">cleartext</span><span class="tok-p">,</span> <span class="tok-n">otp</span><span class="tok-p">):</span>                                            <i class="conum" data-value="1"></i><b>(1)</b>

    <span class="tok-n">alphabet</span> <span class="tok-o">=</span> <span class="tok-n">string</span><span class="tok-o">.</span><span class="tok-n">printable</span>
    <span class="tok-n">ciphertext</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;&#39;</span>

    <span class="tok-k">for</span> <span class="tok-n">i</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-nb">len</span><span class="tok-p">(</span><span class="tok-n">cleartext</span><span class="tok-p">)):</span>                                     <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="tok-n">ciphertext</span> <span class="tok-o">+=</span> <span class="tok-n">alphabet</span><span class="tok-p">[(</span><span class="tok-n">alphabet</span><span class="tok-o">.</span><span class="tok-n">find</span><span class="tok-p">(</span><span class="tok-n">cleartext</span><span class="tok-p">[</span><span class="tok-n">i</span><span class="tok-p">])</span> <span class="tok-o">+</span>
                                <span class="tok-n">alphabet</span><span class="tok-o">.</span><span class="tok-n">find</span><span class="tok-p">(</span><span class="tok-n">otp</span><span class="tok-p">[</span><span class="tok-n">i</span><span class="tok-p">]))</span> <span class="tok-o">%</span> <span class="tok-nb">len</span><span class="tok-p">(</span><span class="tok-n">alphabet</span><span class="tok-p">)]</span> <i class="conum" data-value="3"></i><b>(3)</b>

    <span class="tok-k">return</span> <span class="tok-n">ciphertext</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The variable <code>otp</code> is the one time pad. Its length must be greater than or equal to the length of the cleartext.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>We are using this version of the for-loop because we need to get the i<sup>th</sup> character from <em>both</em> the cleartext and the one time pad.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>There is a lot packed in to this one line, but it simply looks up the position of a cleartext character and the corresponding one time pad character, adds them together mod the length of the alphabet to get the position of the ciphertext character, and extracts that character from the alphabet and concatenates it to the ciphertext. Note the use of the <code>+=</code> operator.</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">One Time Pad Decrypt</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-k">def</span> <span class="tok-nf">decrypt</span><span class="tok-p">(</span><span class="tok-n">ciphertext</span><span class="tok-p">,</span> <span class="tok-n">otp</span><span class="tok-p">):</span>

    <span class="tok-n">alphabet</span> <span class="tok-o">=</span> <span class="tok-n">string</span><span class="tok-o">.</span><span class="tok-n">printable</span>
    <span class="tok-n">cleartext</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;&#39;</span>

    <span class="tok-k">for</span> <span class="tok-n">i</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-nb">len</span><span class="tok-p">(</span><span class="tok-n">ciphertext</span><span class="tok-p">)):</span>
        <span class="tok-n">cleartext</span> <span class="tok-o">+=</span> <span class="tok-n">alphabet</span><span class="tok-p">[(</span><span class="tok-n">alphabet</span><span class="tok-o">.</span><span class="tok-n">find</span><span class="tok-p">(</span><span class="tok-n">ciphertext</span><span class="tok-p">[</span><span class="tok-n">i</span><span class="tok-p">])</span> <span class="tok-o">-</span>          <i class="conum" data-value="1"></i><b>(1)</b>
                               <span class="tok-n">alphabet</span><span class="tok-o">.</span><span class="tok-n">find</span><span class="tok-p">(</span><span class="tok-n">otp</span><span class="tok-p">[</span><span class="tok-n">i</span><span class="tok-p">]))</span> <span class="tok-o">%</span> <span class="tok-nb">len</span><span class="tok-p">(</span><span class="tok-n">alphabet</span><span class="tok-p">)]</span>

    <span class="tok-k">return</span> <span class="tok-n">cleartext</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The only real difference between <code>encrypt</code> and <code>decrypt</code> is the <code>-</code> on this line.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Why is the one time pad considered completely secure (unbreakable)? Recall that the pad must be as long as the cleartext being encrypted and that each character in the one time pad is truely random. Lets say we are presented with the ciphertext <code>lozdn</code>. In order to decrypt the first character <code>l</code> we would have to correctly guess the first character in the pad. We have a \(1/26 = .038\) chance of guessing correctly. To decrypt the first two characters we would have to correctly guess the first two characters of the pad, or \(1/26 \cdot 1/26 = .0015\) chance. To correctly guess the entire key of length five is \(1/26^5 = .000000084\). The message will be much longer than five characters so the
the probability of guessing all of the characters correctly quickly approaches zero.</p>
</div>
<div class="paragraph">
<p>If the One Time Pad is truly unbreakable then why aren&#8217;t all of our communications completely secure? Well, as you might expect the One Time Pad has a downside.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>as the name suggests, the pad <em>can only be used once</em>. If you ever reuse a pad on a different cleartext, then the message is no longer secure because an attacker can now use frequency analysis to break the pad.</p>
</li>
<li>
<p>Since a one time pad must be as long as the cleartext message the pads could be really long. And since Alice and Bob both need to share a copy of the pad in advance then this could be cumbersome.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>How does one go about generating a one time pad? This is relatively easy. Keep randomly picking characters from the alphabet and appending them to the pad.</p>
</div>
<div class="paragraph">
<div class="title">Check Yourself <span style='color:red;margin-right:1.25em; display:inline-block;'>&nbsp;&nbsp;&nbsp;</span></div>
<p>Write a function <code>GenOneTimePad</code> that takes an integer <code>n</code> and returns a random string of characters of length <code>n</code>.</p>
</div>
<div class="exampleblock result">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-k">def</span> <span class="tok-nf">GenOneTimePad</span><span class="tok-p">(</span><span class="tok-n">n</span><span class="tok-p">):</span>
    <span class="tok-n">pad</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;&#39;</span>
    <span class="tok-n">alphabet</span> <span class="tok-o">=</span> <span class="tok-n">string</span><span class="tok-o">.</span><span class="tok-n">printable</span>

    <span class="tok-k">for</span> <span class="tok-n">i</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-n">n</span><span class="tok-p">):</span>
        <span class="tok-n">pad</span> <span class="tok-o">+=</span> <span class="tok-n">alphabet</span><span class="tok-p">[</span><span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randrange</span><span class="tok-p">(</span><span class="tok-nb">len</span><span class="tok-p">(</span><span class="tok-n">string</span><span class="tok-o">.</span><span class="tok-n">printable</span><span class="tok-p">))]</span> <i class="conum" data-value="1"></i><b>(1)</b>

    <span class="tok-k">return</span> <span class="tok-n">pad</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>There is actually a fatal flaw in our use of the standard random number generators in the <code>random</code> module.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>Random number generators found in programming languages are really <em>pseudorandom</em>. That is, the numbers generated are not really random but only appear to be random. They are fine for use in simulations such as Brownian motion or computer games, but their predictability make them unsuitable for cryptography or even games used in casinos. We say that they are not <em>cryptographically secure</em>. The acronyms we use for a <em>pseudo random number generator</em> is <a href="https://en.wikipedia.org/wiki/Pseudorandom_number_generator">PRNG</a> and the tongue twister <em>cryptographically secure pseudo random number generator</em> is <a href="https://en.wikipedia.org/wiki/Cryptographically_secure_pseudorandom_number_generator">CSPRNG</a>.</p>
</div>
<div class="paragraph">
<p>Fortunately the Python module <a href="https://docs.python.org/3/library/secrets.html"><code>secrets</code></a> provides a CSPRNG. A CSPRNG works by using a pool of genuine randomness called <em>entropy</em>. Entropy is built up over time, for example, times between keyboard presses, mouse movements, or network activity. It is also possible for a computer to run out of entropy! On some systems trying to generate a random number from a CSPRNG could actually block and have to wait until sufficient entropy is built up.</p>
</div>
</div>
<div class="sect2">
<h3 id="_exercises_11"><a class="anchor" href="#_exercises_11"></a>12.4. Exercises</h3>

</div>
<div class="sect2">
<h3 id="_terminology_12"><a class="anchor" href="#_terminology_12"></a>12.5. Terminology</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 21. Terminology</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Casear Cipher</p>
</li>
<li>
<p>Substitution Cipher</p>
</li>
<li>
<p>cleartext</p>
</li>
<li>
<p>key</p>
</li>
<li>
<p>encrypt</p>
</li>
<li>
<p>Alice, Bob, Eve</p>
</li>
<li>
<p>Entropy</p>
</li>
<li>
<p>factorial</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Shift Cipher</p>
</li>
<li>
<p>One Time Pad</p>
</li>
<li>
<p>plaintext</p>
</li>
<li>
<p>ciphertext</p>
</li>
<li>
<p>decrypt</p>
</li>
<li>
<p>PRNG</p>
</li>
<li>
<p>CSPRNG</p>
</li>
<li>
<p>Frequency Analysis</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_references_and_reading"><a class="anchor" href="#_references_and_reading"></a>References and Reading</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Students often ask me about books and resources. Here are some of my go-to references, when I&#8217;m looking for ideas, examples, or maybe just a new way to try and explain a difficult concept.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>John MacCormick. <em>Nine Algorithms that Changed the World</em>. Princeton University Press. 2012.</p>
</li>
<li>
<p>Harrison Kinsley and Will McGugan. <em>Beginning Python Games Development with Pygame</em>. Second Edition. Apress. 2015.</p>
</li>
<li>
<p>Robert Sedgewick and Kevin Wayne. <em>Computer Science, An Interdisciplinary Approach</em>. Addison Wesley. 2017.</p>
</li>
<li>
<p>Mark Lutz. <em>Learning Python</em>. Fifth Edition. O&#8217;Reilly. 2013.</p>
</li>
<li>
<p>Bruce Schneier. <em>Applied Cryptography</em>. Second Edition. Wiley. 1996.</p>
</li>
<li>
<p>David Harel with Yishai Feldman. <em>Algorithmics, The Spirit of Computing</em>. Third Edition. Addison Wesley. 2004.</p>
</li>
<li>
<p>Iwo Bialynicki-Birula and Iwona Bialynicka-Birula. <em>Modeling Reality, How Computers Mirror Life</em>. Oxford University Press. 2004.</p>
</li>
<li>
<p>Sarah Flannery with David Flannery. <em>In Code, A Young Woman&#8217;s Mathematical Journey</em>. Algonquin Books of Chapel Hill. 2002.</p>
</li>
<li>
<p>Leonard Mlodinow. <em>The Drunkard&#8217;s Walk, How Randomness Rules Our Lives</em>. Pantheon. 2008.</p>
</li>
<li>
<p>David Harel. <em>Computers Ltd. What They Really Can&#8217;t Do</em>. Oxford University Press. 2000.</p>
</li>
<li>
<p>Ian Stewart. <em>In Pursuit of the Unknown</em>. Basic Books. 2012.</p>
</li>
<li>
<p>Elizabeth Allman and John Rhodes. <em>Mathematical Models in Biology, An Introduction</em>. Cambridge University Press. 2004.</p>
</li>
<li>
<p>Mitchell Resnick. <em>Turles, Termites, and Traffic Jams, Explorations in Massivey Parallel Microworlds</em>. The MIT Press. 1994.</p>
</li>
<li>
<p>Charles Petzold. <em>CODE, The Hidden Language of Computer Hardware and Software</em>. Microsoft Press. 2000.</p>
</li>
<li>
<p>Donella Meadows. <em>Thinking In Systems, A Primer</em>. Chelsea Green. 2008.</p>
</li>
<li>
<p>Nigel Gilbert. <em>Agent Based Models</em>. Sage Publishing. 2008.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. Back in my college days some of the languages I learned were COBOL, Ada, Pascal, Prolog, SNOBOL, Lisp, Fortran, and APL. A veritable graveyard of languages. Lisp and Fortran have both lived on in some evolved form and have also had a profound impact on the design of many other languages languages still used today.
</div>
<div class="footnote" id="_footnotedef_2">
<a href="#_footnoteref_2">2</a>. In reality Python 3 is much more flexible on what characters can be used in variables names including Greek characters such as <code></code>,<code></code>,<code></code>,<code></code>,<code></code>,<code></code>. Maybe a better variable name than <code>pi</code> is <code></code>.
</div>
<div class="footnote" id="_footnotedef_3">
<a href="#_footnoteref_3">3</a>. Integrated Development Environment. An IDE integrates into one tool an editor in which you edit, run,and debug your Python programs.
</div>
<div class="footnote" id="_footnotedef_4">
<a href="#_footnoteref_4">4</a>. A popular <em>Integerated Development Environmnet</em> is <a href="https://www.jetbrains.com/pycharm/">Pycharm</a> from <a href="https://www.jetbrains.com">Jetbrains</a>. Pycharm has a built-in Color Picker. There is a free Community Edition of Pycharm or students and faculty can obtain a free license for the Professional version.
</div>
<div class="footnote" id="_footnotedef_5">
<a href="#_footnoteref_5">5</a>. Thank you to Angelica Munyao, Sam Emerson, Ethan Cox, Elsa Feck, Yuxi Zhang, Jack Pattison, Dakota Golde, Tim Jones, and Dong Hae Jang for allowing me to use their Blockhead submissions.
</div>
<div class="footnote" id="_footnotedef_6">
<a href="#_footnoteref_6">6</a>. This is only an approximation. The \(\sqrt{2}\) is <em>irrational</em>. That is, it is a never ending, non-repeating sequence of digits.
</div>
<div class="footnote" id="_footnotedef_7">
<a href="#_footnoteref_7">7</a>. In other programming languages such as C and and Java these are called <em>void</em> functions.
</div>
<div class="footnote" id="_footnotedef_8">
<a href="#_footnoteref_8">8</a>. a circle in pygame, which might be a ball, a hockey puck, an electron, &#8230;&#8203;
</div>
<div class="footnote" id="_footnotedef_9">
<a href="#_footnoteref_9">9</a>. forgetting for the moment that there is a closed form answer of \(n(n+1)/2\)
</div>
<div class="footnote" id="_footnotedef_10">
<a href="#_footnoteref_10">10</a>. The operator <code>+=</code> is really called the <em>in place add</em> operator and can have a different behavior than one might expect.
</div>
<div class="footnote" id="_footnotedef_11">
<a href="#_footnoteref_11">11</a>. Hint: What if the very first number the user entered was negative?
</div>
<div class="footnote" id="_footnotedef_12">
<a href="#_footnoteref_12">12</a>. A rather arbitrary number, 94, but it is probably close
</div>
<div class="footnote" id="_footnotedef_13">
<a href="#_footnoteref_13">13</a>. <a href="https://www.census.gov" class="bare">https://www.census.gov</a>
</div>
<div class="footnote" id="_footnotedef_14">
<a href="#_footnoteref_14">14</a>. <a href="https://www.census.gov" class="bare">https://www.census.gov</a>
</div>
<div class="footnote" id="_footnotedef_15">
<a href="#_footnoteref_15">15</a>. <em>die</em> is the singular of the plural <em>dice</em>, one die, pair of dice.
</div>
<div class="footnote" id="_footnotedef_16">
<a href="#_footnoteref_16">16</a>. Randomness plays an important role in many areas of computer science, including cryptography, networking, and simulation and modeling.
</div>
<div class="footnote" id="_footnotedef_17">
<a href="#_footnoteref_17">17</a>. <a href="https://reference.wolfram.com/language/guide/RandomProcesses.html" class="bare">https://reference.wolfram.com/language/guide/RandomProcesses.html</a>
</div>
<div class="footnote" id="_footnotedef_18">
<a href="#_footnoteref_18">18</a>. One of the best known books on investing is <em>A Random Walk Down Wall Street</em> by Burton Malkiel.
</div>
<div class="footnote" id="_footnotedef_19">
<a href="#_footnoteref_19">19</a>. <em>The Factal Geometry of Nature</em>, Benoit Mandelbrot, W.H. Freeman and Company, 1982
</div>
<div class="footnote" id="_footnotedef_20">
<a href="#_footnoteref_20">20</a>. Creative Commons <code>https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Monty_open_door.svg/1200px-Monty_open_door.svg.png</code>
</div>
<div class="footnote" id="_footnotedef_21">
<a href="#_footnoteref_21">21</a>. <a href="http://marilynvossavant.com/game-show-problem/" class="bare">http://marilynvossavant.com/game-show-problem/</a>
</div>
<div class="footnote" id="_footnotedef_22">
<a href="#_footnoteref_22">22</a>. This is the first problem in a set of problems from <a href="https://projecteuler.net/archives">Project Euler</a>.
</div>
<div class="footnote" id="_footnotedef_23">
<a href="#_footnoteref_23">23</a>. <code>http://www.bbc.co.uk/nature/14151541</code> <em>Lost rainbow toad is rediscovered</em>, BBC Nature News, accssed on 7/27/2017
</div>
<div class="footnote" id="_footnotedef_24">
<a href="#_footnoteref_24">24</a>. <a href="https://jpeg.org/" class="bare">https://jpeg.org/</a>
</div>
<div class="footnote" id="_footnotedef_25">
<a href="#_footnoteref_25">25</a>. <a href="https://www.w3.org/TR/PNG/" class="bare">https://www.w3.org/TR/PNG/</a>
</div>
<div class="footnote" id="_footnotedef_26">
<a href="#_footnoteref_26">26</a>. Schelling, Thomas. <em>Models of Segregation</em>, American Economic Review, 1969, 59(2)
</div>
<div class="footnote" id="_footnotedef_27">
<a href="#_footnoteref_27">27</a>. Schelling, Thomas, <em>Dynamic Models of Segregation</em>, Journal of Mathematical Sociology, 1(2)
</div>
<div class="footnote" id="_footnotedef_28">
<a href="#_footnoteref_28">28</a>. Creative Commons <code>https://www.flickr.com/photos/walkingsf/4981444199/</code>
</div>
<div class="footnote" id="_footnotedef_29">
<a href="#_footnoteref_29">29</a>. Nigel Gilbert, <em>Agent Based Models</em>, SAGE Publications, 2008
</div>
<div class="footnote" id="_footnotedef_30">
<a href="#_footnoteref_30">30</a>. <a href="https://ccl.northwestern.edu/netlogo/" class="bare">https://ccl.northwestern.edu/netlogo/</a>
</div>
<div class="footnote" id="_footnotedef_31">
<a href="#_footnoteref_31">31</a>. <a href="https://docs.python.org/3.6/library/functions.html#open" class="bare">https://docs.python.org/3.6/library/functions.html#open</a>
</div>
<div class="footnote" id="_footnotedef_32">
<a href="#_footnoteref_32">32</a>. <a href="https://docs.python.org/3.6/library/functions.html#print" class="bare">https://docs.python.org/3.6/library/functions.html#print</a>
</div>
<div class="footnote" id="_footnotedef_33">
<a href="#_footnoteref_33">33</a>. James Watson and Francis Crick, Molecular Structure of Nucleic Acids, <em>Nature</em>. <strong>171</strong>, April 1953.
</div>
<div class="footnote" id="_footnotedef_34">
<a href="#_footnoteref_34">34</a>. <a href="https://commons.wikimedia.org/wiki/File%3ADna-split.png" class="bare">https://commons.wikimedia.org/wiki/File%3ADna-split.png</a>, By US Department of Energy (DOE Human Genome project) Public domain, via Wikimedia Commons
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 0.4<br>
Last updated 2018-12-03 14:29:15 -0500
</div>
</div>
<script src="assets/js/tocbot.js"></script>
<script>
    /* Tocbot dynamic TOC, works with tocbot 3.0.2 */
    var oldtoc = document.getElementById('toctitle').nextElementSibling;
    var newtoc = document.createElement('div');
    newtoc.setAttribute('id', 'tocbot');
    newtoc.setAttribute('class', 'js-toc');
    oldtoc.parentNode.replaceChild(newtoc, oldtoc);
    tocbot.init({ contentSelector: '#content',
        headingSelector: 'h1, h2, h3, h4',
        smoothScroll: false });
    var handleTocOnResize = function() {
        var width = window.innerWidth
                    || document.documentElement.clientWidth
                    || document.body.clientWidth;
        if (width < 768) {
            tocbot.refresh({ contentSelector: '#content',
                headingSelector: 'h1, h2, h3, h4',
                collapseDepth: 6,
                activeLinkClass: 'ignoreactive',
                throttleTimeout: 1000,
                smoothScroll: false });
        }
        else {
            tocbot.refresh({ contentSelector: '#content',
                headingSelector: 'h1, h2, h3, h4',
                smoothScroll: false });
        }
    };
    window.addEventListener('resize', handleTocOnResize);
    handleTocOnResize();
</script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>